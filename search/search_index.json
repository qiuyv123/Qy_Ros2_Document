{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\u9996\u9875","text":""},{"location":"#ros-2","title":"ROS 2 \u5b66\u4e60\u7b14\u8bb0\u4e0e\u4e2d\u6587\u6307\u5357","text":"<p> \u4ece\u96f6\u5f00\u59cb\u63a2\u7d22\u673a\u5668\u4eba\u64cd\u4f5c\u7cfb\u7edf\u7684\u5965\u79d8 \u00b7 \u8bb0\u5f55\u5b66\u4e60 \u00b7 \u5206\u4eab\u77e5\u8bc6 </p> <p> ROS 2 \u4e2d\u6587\u6587\u6863 ROS 2 Control GitHub \u4ed3\u5e93 </p>"},{"location":"#_1","title":"\ud83d\udc4b \u5173\u4e8e\u672c\u9879\u76ee","text":"<p>\u6b22\u8fce\u6765\u5230 qiuyv \u7684\u4e2d\u6587\u6587\u6863\u5408\u96c6\u3002</p> <p>\u8bf4\u660e\uff1a\u672c\u6587\u6863\u4e3b\u8981\u57fa\u4e8e ROS 2 Humble/Jazzy \u7248\u672c\u7f16\u5199\u3002 \u9879\u76ee\u7075\u611f\u6765\u6e90\u4e8e\u7b14\u8005\u5728\u5b66\u4e60ros2\u8fc7\u7a0b\u4e2d\u5b98\u65b9\u6587\u6863\u5543\u8d77\u6765\u8fc7\u4e8e\u8d39\u52b2,\u7b14\u8005\u7684\u82f1\u8bed\u6c34\u5e73\u4e0d\u8db3\u4ee5\u786c\u5543\u5b98\u65b9\u6587\u6863,\u63d2\u4ef6\u7ffb\u8bd1\u867d\u7136\u5f88\u65b9\u4fbf,\u4f46\u662f\u6d4f\u89c8\u4f53\u9a8c\u8fd8\u4e0d\u662f\u90a3\u4e48\u597d,\u4f46\u662f\u62b1\u7740\"\u6211\u90fd\u7528ai\u7ffb\u8bd1\u51fa\u6765\u4e86,\u4e0b\u6b21\u770b\u8fd8\u5f97\u5728\u7ffb\u8bd1,\u4e3a\u4ec0\u4e48\u4e0d\u6574\u7406\u51fa\u6765?\"\u7684\u60f3\u6cd5,\u4e8e\u662f\u5c31\u6709\u4e86\u672c\u9879\u76ee</p> <p>\u6709\u95ee\u9898\u8bf7\u5404\u4f4d\u5927\u4f6c\u6279\u8bc4\u6307\u6b63,\u6587\u6863\u4e2d\u5185\u5bb9\u57fa\u4e8eGPT,gemini,Qwen\u7b49\u5927\u6a21\u578b\uff08\u4e3b\u8981\u8fd8\u662fGemini\uff09\u7ffb\u8bd1\u5b98\u65b9\u6587\u6863,\u4e00\u4e2a\u4eba\u7cbe\u529b\u6709\u9650,\u53ea\u80fd\u7c97\u7565\u5bf9\u6bd4\u6587\u6863\u7684\u5927\u610f\u6ca1\u6709\u95ee\u9898,\u76ee\u524d\u60f3\u6cd5\u662f\u5148\u7c97\u7565\u7684\u7ffb\u8bd1\u4e00\u904d\u518d\u6162\u6162\u6821\u5bf9,\u70b9\u51fb\u4e0a\u9762\u6309\u94ae\u53ef\u4ee5\u8df3\u8f6c\u5230\u4ed3\u5e93\u8fdb\u884c\u672c\u5730\u90e8\u7f72\uff0c\u6709\u95ee\u9898\u8bf7\u63d0issue\u6216pr,\u611f\u8c22\u60a8\u7684\u652f\u6301\u548c\u5e2e\u52a9\uff01</p>"},{"location":"#_2","title":"\ud83d\uddfa\ufe0f \u77e5\u8bc6\u56fe\u8c31","text":"<p>\u672c\u6587\u6863\u6db5\u76d6\u7684\u5b66\u4e60\u8def\u5f84\u5982\u4e0b\uff08\u6301\u7eed\u66f4\u65b0\u4e2d\uff09\uff1a Ros2\u4e2d\u6587\u6587\u6863 Ros2_control\u4e2d\u6587\u7ffb\u8bd1 NAV2\u4e2d\u6587\u7ffb\u8bd1 ```</p>"},{"location":"ros2/intro/","title":"\u6982\u89c8","text":"<p>\u8fd9\u91cc\u662fros2\u6587\u6863</p>"},{"location":"ros2/Concepts/basic/Actions/","title":"\u52a8\u4f5c","text":""},{"location":"ros2/Concepts/basic/Actions/#actions","title":"\u52a8\u4f5c\uff08Actions\uff09","text":""},{"location":"ros2/Concepts/basic/Actions/#_1","title":"\u76ee\u5f55","text":"<ul> <li>\u52a8\u4f5c\u670d\u52a1\u5668\uff08Action server\uff09  </li> <li>\u52a8\u4f5c\u5ba2\u6237\u7aef\uff08Action client\uff09  </li> </ul> <p>\u5728 ROS 2 \u4e2d\uff0c\u52a8\u4f5c\uff08action\uff09\u6307\u7684\u662f\u4e00\u79cd\u53ef\u63d0\u4f9b\u53cd\u9988\u3001\u5e76\u652f\u6301\u53d6\u6d88\u6216\u62a2\u5360\u76ee\u6807\u7684\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\u3002 \u4f8b\u5982\uff0c\u8fd0\u884c\u5728\u673a\u5668\u4eba\u4e0a\u7684\u9ad8\u5c42\u72b6\u6001\u673a\u53ef\u80fd\u4f1a\u8c03\u7528\u4e00\u4e2a\u52a8\u4f5c\uff0c\u6307\u793a\u5bfc\u822a\u5b50\u7cfb\u7edf\u524d\u5f80\u67d0\u4e2a\u822a\u70b9\uff0c\u8be5\u8fc7\u7a0b\u53ef\u80fd\u9700\u8981\u6570\u79d2\uff08\u751a\u81f3\u6570\u5206\u949f\uff09\u624d\u80fd\u5b8c\u6210\u3002\u5728\u6b64\u8fc7\u7a0b\u4e2d\uff0c\u5bfc\u822a\u5b50\u7cfb\u7edf\u53ef\u4ee5\u53cd\u9988\u5f53\u524d\u8fdb\u5ea6\uff0c\u800c\u9ad8\u5c42\u72b6\u6001\u673a\u5219\u53ef\u4ee5\u9009\u62e9\u53d6\u6d88\u6216\u62a2\u5360\u524d\u5f80\u8be5\u822a\u70b9\u7684\u4efb\u52a1\u3002</p> <p>\u8fd9\u79cd\u7ed3\u6784\u4f53\u73b0\u5728\u52a8\u4f5c\u6d88\u606f\u5b9a\u4e49\u7684\u5f62\u5f0f\u4e0a\uff1a</p> <pre><code>int32 request\n---\nint32 response\n---\nint32 feedback\n</code></pre> <p>\u5728 ROS 2 \u4e2d\uff0c\u52a8\u4f5c\u9002\u7528\u4e8e\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u8fc7\u7a0b\uff0c\u56e0\u4e3a\u5efa\u7acb\u548c\u76d1\u63a7\u8fde\u63a5\u5b58\u5728\u989d\u5916\u5f00\u9500\u3002 \u5982\u679c\u60a8\u9700\u8981\u7684\u662f\u77ed\u65f6\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\uff0c\u8bf7\u8003\u8651\u4f7f\u7528\u670d\u52a1\uff08service\uff09\u3002</p> <p>\u52a8\u4f5c\u901a\u8fc7\u52a8\u4f5c\u540d\u79f0\uff08action name\uff09\u8fdb\u884c\u6807\u8bc6\uff0c\u5176\u547d\u540d\u65b9\u5f0f\u4e0e\u8bdd\u9898\u540d\u79f0\u7c7b\u4f3c\uff0c\u4f46\u4f4d\u4e8e\u4e0d\u540c\u7684\u547d\u540d\u7a7a\u95f4\u4e2d\u3002</p> <p>\u4e00\u4e2a\u52a8\u4f5c\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u52a8\u4f5c\u670d\u52a1\u5668\uff08action server\uff09\u548c\u52a8\u4f5c\u5ba2\u6237\u7aef\uff08action client\uff09\u3002</p>"},{"location":"ros2/Concepts/basic/Actions/#action-server","title":"\u52a8\u4f5c\u670d\u52a1\u5668\uff08Action server\uff09","text":"<p>\u52a8\u4f5c\u670d\u52a1\u5668\u662f\u63a5\u6536\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\u8bf7\u6c42\u5e76\u6267\u884c\u76f8\u5e94\u8fc7\u7a0b\u7684\u5b9e\u4f53\u3002\u5b83\u8fd8\u8d1f\u8d23\u5728\u52a8\u4f5c\u6267\u884c\u8fc7\u7a0b\u4e2d\u53d1\u9001\u53cd\u9988\uff0c\u5e76\u5e94\u54cd\u5e94\u53d6\u6d88\u6216\u62a2\u5360\u8bf7\u6c42\u3002</p> <p>\u4f8b\u5982\uff0c\u8003\u8651\u4e00\u4e2a\u7528\u4e8e\u8ba1\u7b97\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u52a8\u4f5c\uff0c\u5176\u63a5\u53e3\u5982\u4e0b\uff1a</p> <pre><code>int32 order\n---\nint32[] sequence\n---\nint32[] sequence\n</code></pre> <p>\u52a8\u4f5c\u670d\u52a1\u5668\u5c31\u662f\u63a5\u6536\u5305\u542b <code>order</code> \u7684\u6d88\u606f\uff0c\u5f00\u59cb\u8ba1\u7b97\u5230\u6307\u5b9a\u9879\u7684\u6570\u5217\uff08\u8fc7\u7a0b\u4e2d\u63d0\u4f9b\u53cd\u9988\uff09\uff0c\u5e76\u6700\u7ec8\u5728 <code>sequence</code> \u4e2d\u8fd4\u56de\u5b8c\u6574\u7ed3\u679c\u7684\u5b9e\u4f53\u3002</p> <p>\u6ce8\u610f\uff1a \u6bcf\u4e2a\u52a8\u4f5c\u540d\u79f0\u5e94\u4ec5\u6709\u4e00\u4e2a\u52a8\u4f5c\u670d\u52a1\u5668\u3002\u5982\u679c\u540c\u4e00\u52a8\u4f5c\u540d\u79f0\u4e0b\u5b58\u5728\u591a\u4e2a\u52a8\u4f5c\u670d\u52a1\u5668\uff0c\u5219\u65e0\u6cd5\u786e\u5b9a\u54ea\u4e2a\u670d\u52a1\u5668\u4f1a\u63a5\u6536\u5230\u5ba2\u6237\u7aef\u8bf7\u6c42\u3002</p>"},{"location":"ros2/Concepts/basic/Actions/#action-client","title":"\u52a8\u4f5c\u5ba2\u6237\u7aef\uff08Action client\uff09","text":"<p>\u52a8\u4f5c\u5ba2\u6237\u7aef\u662f\u4e00\u4e2a\u8bf7\u6c42\u8fdc\u7a0b\u52a8\u4f5c\u670d\u52a1\u5668\u4ee3\u5176\u6267\u884c\u67d0\u4e2a\u8fc7\u7a0b\u7684\u5b9e\u4f53\u3002 \u63a5\u7eed\u4e0a\u8ff0\u793a\u4f8b\uff0c\u52a8\u4f5c\u5ba2\u6237\u7aef\u5c31\u662f\u521b\u5efa\u5305\u542b <code>order</code> \u7684\u521d\u59cb\u8bf7\u6c42\u6d88\u606f\uff0c\u5e76\u7b49\u5f85\u52a8\u4f5c\u670d\u52a1\u5668\u8ba1\u7b97\u6570\u5217\u3001\u8fd4\u56de\u7ed3\u679c\uff08\u8fc7\u7a0b\u4e2d\u63a5\u6536\u53cd\u9988\uff09 \u7684\u90a3\u4e2a\u5b9e\u4f53\u3002</p> <p>\u4e0e\u52a8\u4f5c\u670d\u52a1\u5668\u4e0d\u540c\uff0c\u53ef\u4ee5\u6709\u4efb\u610f\u6570\u91cf\u7684\u52a8\u4f5c\u5ba2\u6237\u7aef\u4f7f\u7528\u540c\u4e00\u4e2a\u52a8\u4f5c\u540d\u79f0\u3002</p>"},{"location":"ros2/Concepts/basic/Client%20libraries/","title":"\u5ba2\u6237\u7aef\u5e93\uff08Client libraries\uff09","text":""},{"location":"ros2/Concepts/basic/Client%20libraries/#client-libraries","title":"\u5ba2\u6237\u7aef\u5e93\uff08Client libraries\uff09","text":""},{"location":"ros2/Concepts/basic/Client%20libraries/#_1","title":"\u76ee\u5f55","text":"<ul> <li>\u6982\u8ff0  </li> <li>\u652f\u6301\u7684\u5ba2\u6237\u7aef\u5e93  </li> <li>C++ \u5ba2\u6237\u7aef\u5e93\uff08rclcpp \u5305\uff09  </li> <li>Python \u5ba2\u6237\u7aef\u5e93\uff08rclpy \u5305\uff09  </li> <li>\u793e\u533a\u7ef4\u62a4\u7684\u5e93  </li> <li>\u516c\u5171\u529f\u80fd\uff1arcl  </li> <li>\u8bed\u8a00\u7279\u5b9a\u529f\u80fd  </li> <li>\u6f14\u793a  </li> <li>\u4e0e ROS 1 \u7684\u5bf9\u6bd4  </li> <li>\u603b\u7ed3  </li> </ul>"},{"location":"ros2/Concepts/basic/Client%20libraries/#_2","title":"\u6982\u8ff0","text":"<p>\u5ba2\u6237\u7aef\u5e93\uff08Client libraries\uff09\u662f\u7528\u6237\u7f16\u5199 ROS 2 \u4ee3\u7801\u6240\u4f7f\u7528\u7684 API\u3002\u901a\u8fc7\u5ba2\u6237\u7aef\u5e93\uff0c\u7528\u6237\u53ef\u4ee5\u8bbf\u95ee ROS 2 \u7684\u6838\u5fc3\u6982\u5ff5\uff0c\u5982\u8282\u70b9\u3001\u8bdd\u9898\u3001\u670d\u52a1\u7b49\u3002</p> <p>\u5ba2\u6237\u7aef\u5e93\u652f\u6301\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u4f7f\u7528\u6237\u80fd\u591f\u9009\u62e9\u6700\u9002\u5408\u5176\u5e94\u7528\u9700\u6c42\u7684\u8bed\u8a00\u3002\u4f8b\u5982\uff1a - Python \u9002\u5408\u5feb\u901f\u539f\u578b\u5f00\u53d1\uff08\u5982\u53ef\u89c6\u5316\u5de5\u5177\uff09 - C++ \u9002\u5408\u5bf9\u6027\u80fd\u548c\u6548\u7387\u8981\u6c42\u9ad8\u7684\u6a21\u5757</p> <p>\u4f7f\u7528\u4e0d\u540c\u5ba2\u6237\u7aef\u5e93\u7f16\u5199\u7684\u8282\u70b9\u53ef\u4ee5\u4e92\u76f8\u901a\u4fe1\uff0c\u56e0\u4e3a\u6240\u6709\u5ba2\u6237\u7aef\u5e93\u90fd\u5b9e\u73b0\u4e86\u4ee3\u7801\u751f\u6210\u5668\uff0c\u4f7f\u7528\u6237\u80fd\u5728\u5404\u81ea\u8bed\u8a00\u4e2d\u64cd\u4f5c ROS 2 \u63a5\u53e3\u6587\u4ef6\u3002</p> <p>\u9664\u4e86\u8bed\u8a00\u7279\u5b9a\u7684\u901a\u4fe1\u5de5\u5177\uff0c\u5ba2\u6237\u7aef\u5e93\u8fd8\u5411\u7528\u6237\u66b4\u9732\u4e86\u4f7f ROS \u6210\u4e3a\u201cROS\u201d\u7684\u6838\u5fc3\u529f\u80fd\uff0c\u4f8b\u5982\uff1a - \u540d\u79f0\u4e0e\u547d\u540d\u7a7a\u95f4 - \u65f6\u95f4\uff08\u771f\u5b9e\u65f6\u95f4\u6216\u4eff\u771f\u65f6\u95f4\uff09 - \u53c2\u6570 - \u63a7\u5236\u53f0\u65e5\u5fd7 - \u7ebf\u7a0b\u6a21\u578b - \u8fdb\u7a0b\u5185\u901a\u4fe1\uff08Intra-process communication\uff09  </p>"},{"location":"ros2/Concepts/basic/Client%20libraries/#_3","title":"\u652f\u6301\u7684\u5ba2\u6237\u7aef\u5e93","text":"<p>C++ \u5ba2\u6237\u7aef\u5e93\uff08rclcpp\uff09\u548c Python \u5ba2\u6237\u7aef\u5e93\uff08rclpy\uff09\u5747\u57fa\u4e8e rcl\uff08ROS Client Library\uff09\u7684\u516c\u5171\u529f\u80fd\u6784\u5efa\u3002</p>"},{"location":"ros2/Concepts/basic/Client%20libraries/#c-rclcpp","title":"C++ \u5ba2\u6237\u7aef\u5e93\uff08rclcpp \u5305\uff09","text":"<p>rclcpp \u662f ROS 2 \u7684 C++ \u5ba2\u6237\u7aef\u5e93\uff0c\u63d0\u4f9b\u4e86\u7b26\u5408 C++ \u4e60\u60ef\u7684\u7528\u6237\u63a5\u53e3\uff0c\u652f\u6301\u521b\u5efa\u8282\u70b9\u3001\u53d1\u5e03\u8005\u3001\u8ba2\u9605\u8005\u7b49\u6240\u6709 ROS \u5ba2\u6237\u7aef\u529f\u80fd\u3002</p> <ul> <li>\u57fa\u4e8e rcl \u548c rosidl API \u6784\u5efa  </li> <li>\u4e13\u4e3a\u4e0e rosidl_generator_cpp \u751f\u6210\u7684 C++ \u6d88\u606f\u914d\u5408\u4f7f\u7528\u800c\u8bbe\u8ba1  </li> <li>\u5145\u5206\u5229\u7528 C++ \u548c C++17 \u7279\u6027\uff0c\u63d0\u4f9b\u7b80\u6d01\u6613\u7528\u7684\u63a5\u53e3  </li> <li>\u901a\u8fc7\u590d\u7528 rcl \u7684\u5b9e\u73b0\uff0c\u4e0e\u5176\u4ed6\u5ba2\u6237\u7aef\u5e93\u4fdd\u6301\u884c\u4e3a\u4e00\u81f4\u6027  </li> </ul> <p>\u8d44\u6e90\uff1a - GitHub \u4ed3\u5e93\uff1aros2/rclcpp - API \u6587\u6863\uff1ahttps://docs.ros.org/en/kilted/p/rclcpp/ </p>"},{"location":"ros2/Concepts/basic/Client%20libraries/#python-rclpy","title":"Python \u5ba2\u6237\u7aef\u5e93\uff08rclpy \u5305\uff09","text":"<p>rclpy \u662f ROS 2 \u7684 Python \u5ba2\u6237\u7aef\u5e93\uff0c\u662f rclcpp \u7684 Python \u5bf9\u5e94\u7248\u672c\u3002</p> <ul> <li>\u540c\u6837\u57fa\u4e8e rcl C API \u5b9e\u73b0  </li> <li>\u63d0\u4f9b\u7b26\u5408 Python \u4e60\u60ef\u7684\u63a5\u53e3\uff0c\u4f7f\u7528\u539f\u751f Python \u7c7b\u578b\uff08\u5982\u5217\u8868\u3001\u4e0a\u4e0b\u6587\u5bf9\u8c61\uff09  </li> <li>\u901a\u8fc7 rcl API \u4fdd\u8bc1\u4e0e\u5176\u4ed6\u5ba2\u6237\u7aef\u5e93\u5728\u529f\u80fd\u548c\u884c\u4e3a\u4e0a\u7684\u4e00\u81f4\u6027  </li> <li>\u8d1f\u8d23\u7ba1\u7406\u6267\u884c\u6a21\u578b\uff08\u5982\u4f7f\u7528 <code>threading.Thread</code> \u8fd0\u884c rcl \u51fd\u6570\uff09</li> </ul> <p>\u6d88\u606f\u5904\u7406\u673a\u5236\uff1a - \u4e3a\u6bcf\u4e2a ROS \u6d88\u606f\u751f\u6210 Python \u7c7b - \u7528\u6237\u64cd\u4f5c\u7684\u662f Python \u539f\u751f\u6d88\u606f\u5bf9\u8c61 - \u5f53\u9700\u8981\u4f20\u9012\u7ed9 rcl \u5c42\u65f6\uff0c\u624d\u8f6c\u6362\u4e3a C \u7248\u672c\u6d88\u606f - \u540c\u4e00\u8fdb\u7a0b\u5185\u7684\u53d1\u5e03\u8005\u4e0e\u8ba2\u9605\u8005\u901a\u4fe1\u4f1a\u8df3\u8fc7\u8f6c\u6362\uff0c\u4ee5\u63d0\u5347\u6027\u80fd</p> <p>\u8d44\u6e90\uff1a - GitHub \u4ed3\u5e93\uff1aros2/rclpy - API \u6587\u6863\uff1ahttps://docs.ros.org/en/kilted/p/rclpy/ </p>"},{"location":"ros2/Concepts/basic/Client%20libraries/#_4","title":"\u793e\u533a\u7ef4\u62a4\u7684\u5e93","text":"<p>\u9664 C++ \u548c Python \u5916\uff0cROS 2 \u793e\u533a\u8fd8\u7ef4\u62a4\u4e86\u591a\u79cd\u8bed\u8a00\u7684\u5ba2\u6237\u7aef\u5e93\uff1a</p> <ul> <li>Ada\uff1a\u5305\u542b rcl \u7ed1\u5b9a\u3001\u6d88\u606f\u751f\u6210\u5668\u3001tf2 \u7ed1\u5b9a\u3001\u793a\u4f8b\u548c\u6559\u7a0b  </li> <li>C\uff08rclc\uff09\uff1a\u4e0d\u8986\u76d6 rcl\uff0c\u800c\u662f\u8865\u5145 rcl\uff0c\u4f7f\u5176\u6210\u4e3a\u5b8c\u6574\u7684 C \u5ba2\u6237\u7aef\u5e93\uff08\u8be6\u89c1 micro.ros.org\uff09  </li> <li>JVM \u548c Android\uff1aJava \u548c Android \u7ed1\u5b9a  </li> <li>.NET Core / UWP / C#\uff1a\u5305\u542b\u7ed1\u5b9a\u3001\u4ee3\u7801\u751f\u6210\u5668\u3001\u793a\u4f8b\u7b49  </li> <li>Node.js\uff08rclnodejs\uff09\uff1a\u63d0\u4f9b\u7b80\u6d01\u7684 JavaScript API  </li> <li>Rust\uff1a\u5305\u542b rclrs \u5ba2\u6237\u7aef\u5e93\u3001\u4ee3\u7801\u751f\u6210\u5668\u548c\u793a\u4f8b  </li> <li>Flutter \u548c Dart\uff1aFlutter \u4e0e Dart \u7ed1\u5b9a  </li> </ul> <p>\u5df2\u505c\u6b62\u7ef4\u62a4\u7684\u5e93\uff1a - C#\uff08\u65e7\u7248\uff09 - Objective C \u548c iOS - Zig</p>"},{"location":"ros2/Concepts/basic/Client%20libraries/#rcl","title":"\u516c\u5171\u529f\u80fd\uff1arcl","text":"<p>\u5ba2\u6237\u7aef\u5e93\u4e2d\u7684\u5927\u90e8\u5206\u529f\u80fd\u4e0e\u7f16\u7a0b\u8bed\u8a00\u65e0\u5173\uff08\u5982\u53c2\u6570\u884c\u4e3a\u3001\u547d\u540d\u7a7a\u95f4\u903b\u8f91\uff09\u3002\u4e3a\u907f\u514d\u91cd\u590d\u5b9e\u73b0\uff0cROS 2 \u5f15\u5165\u4e86\u516c\u5171\u6838\u5fc3 ROS \u5ba2\u6237\u7aef\u5e93\uff08rcl\uff09\uff1a</p> <ul> <li>\u5b9e\u73b0\u6240\u6709\u8bed\u8a00\u65e0\u5173\u7684 ROS \u6982\u5ff5\u903b\u8f91</li> <li>\u901a\u8fc7 C \u63a5\u53e3\u66b4\u9732\uff08\u56e0 C \u6700\u6613\u88ab\u5176\u4ed6\u8bed\u8a00\u5c01\u88c5\uff09</li> <li>\u5ba2\u6237\u7aef\u5e93\u53ea\u9700\u901a\u8fc7\u5916\u90e8\u51fd\u6570\u63a5\u53e3\uff08FFI\uff09\u5305\u88c5 rcl \u529f\u80fd</li> </ul> <p>\u4f18\u52bf\uff1a - \u51cf\u8f7b\u5ba2\u6237\u7aef\u5e93\u5f00\u53d1\u8d1f\u62c5 - \u786e\u4fdd\u4e0d\u540c\u8bed\u8a00\u95f4\u884c\u4e3a\u9ad8\u5ea6\u4e00\u81f4 - \u6838\u5fc3\u903b\u8f91\u53d8\u66f4\uff08\u5982\u547d\u540d\u7a7a\u95f4\u89c4\u5219\uff09\u81ea\u52a8\u540c\u6b65\u5230\u6240\u6709\u5ba2\u6237\u7aef\u5e93 - \u4fee\u590d bug \u65f6\u53ea\u9700\u5728 rcl \u4e2d\u4fee\u6539\u4e00\u6b21</p> <p>rcl API \u6587\u6863\uff1a\u94fe\u63a5</p>"},{"location":"ros2/Concepts/basic/Client%20libraries/#_5","title":"\u8bed\u8a00\u7279\u5b9a\u529f\u80fd","text":"<p>\u9700\u8981\u4f9d\u8d56\u8bed\u8a00\u7279\u6027\u7684\u529f\u80fd\u4e0d\u5728 rcl \u4e2d\u5b9e\u73b0\uff0c\u800c\u7531\u5404\u5ba2\u6237\u7aef\u5e93\u81ea\u884c\u5b9e\u73b0\u3002\u4f8b\u5982\uff1a - \u201cspin\u201d \u51fd\u6570\u4f7f\u7528\u7684\u7ebf\u7a0b\u6a21\u578b - \u5185\u5b58\u7ba1\u7406\u7b56\u7565 - \u5f02\u6b65\u7f16\u7a0b\u6a21\u578b\uff08\u5982 async/await\uff09</p>"},{"location":"ros2/Concepts/basic/Client%20libraries/#_6","title":"\u6f14\u793a","text":"<p>\u5982\u9700\u4e86\u89e3 rclpy \u53d1\u5e03\u8005 \u4e0e rclcpp \u8ba2\u9605\u8005 \u4e4b\u95f4\u6d88\u606f\u4ea4\u6362\u7684\u8be6\u7ec6\u8fc7\u7a0b\uff0c\u8bf7\u89c2\u770b ROSCon \u6f14\u8bb2\uff08\u4ece 17:25 \u5f00\u59cb\uff09\uff0c\u5e7b\u706f\u7247\u5728\u6b64\u3002</p>"},{"location":"ros2/Concepts/basic/Client%20libraries/#ros-1","title":"\u4e0e ROS 1 \u7684\u5bf9\u6bd4","text":"<p>\u5728 ROS 1 \u4e2d\uff0c\u6240\u6709\u5ba2\u6237\u7aef\u5e93\u90fd\u662f\u4ece\u96f6\u5f00\u59cb\u72ec\u7acb\u5f00\u53d1\u7684\uff1a - \u4f18\u52bf\uff1a\u4f8b\u5982 Python \u5e93\u53ef\u5b8c\u5168\u7528 Python \u5b9e\u73b0\uff0c\u65e0\u9700\u7f16\u8bd1 - \u52a3\u52bf\uff1a   - \u547d\u540d\u89c4\u8303\u548c\u884c\u4e3a\u4e0d\u4e00\u81f4   - bug \u4fee\u590d\u9700\u5728\u591a\u4e2a\u5e93\u4e2d\u91cd\u590d\u8fdb\u884c   - \u8bb8\u591a\u529f\u80fd\u4ec5\u5728\u5355\u4e00\u5ba2\u6237\u7aef\u5e93\u4e2d\u5b9e\u73b0\uff08\u5982 UDPROS\uff09</p>"},{"location":"ros2/Concepts/basic/Client%20libraries/#_7","title":"\u603b\u7ed3","text":"<p>\u901a\u8fc7\u5229\u7528\u516c\u5171\u6838\u5fc3 ROS \u5ba2\u6237\u7aef\u5e93\uff08rcl\uff09\uff0cROS 2 \u80fd\u591f\uff1a - \u66f4\u8f7b\u677e\u5730\u5f00\u53d1\u591a\u79cd\u8bed\u8a00\u7684\u5ba2\u6237\u7aef\u5e93 - \u786e\u4fdd\u4e0d\u540c\u8bed\u8a00\u5b9e\u73b0\u4e4b\u95f4\u884c\u4e3a\u9ad8\u5ea6\u4e00\u81f4 - \u663e\u8457\u964d\u4f4e\u7ef4\u62a4\u6210\u672c\uff0c\u63d0\u5347\u7cfb\u7edf\u6574\u4f53\u53ef\u9760\u6027</p>"},{"location":"ros2/Concepts/basic/Discovery/","title":"\u53d1\u73b0","text":""},{"location":"ros2/Concepts/basic/Discovery/#discovery","title":"\u53d1\u73b0\uff08Discovery\uff09","text":"<p>\u8282\u70b9\u7684\u53d1\u73b0\u901a\u8fc7 ROS 2 \u5e95\u5c42\u4e2d\u95f4\u4ef6\u81ea\u52a8\u5b8c\u6210\uff0c\u53ef\u6982\u62ec\u5982\u4e0b\uff1a</p> <p>\u5f53\u4e00\u4e2a\u8282\u70b9\u542f\u52a8\u65f6\uff0c\u5b83\u4f1a\u5411\u7f51\u7edc\u4e2d\u76f8\u540c ROS \u57df\uff08\u901a\u8fc7 <code>ROS_DOMAIN_ID</code> \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\uff09\u7684\u5176\u4ed6\u8282\u70b9\u5e7f\u64ad\u81ea\u5df1\u7684\u5b58\u5728\u3002\u5176\u4ed6\u8282\u70b9\u4f1a\u54cd\u5e94\u6b64\u5e7f\u64ad\uff0c\u5e76\u63d0\u4f9b\u81ea\u8eab\u4fe1\u606f\uff0c\u4ee5\u4fbf\u5efa\u7acb\u9002\u5f53\u7684\u8fde\u63a5\u5e76\u5b9e\u73b0\u901a\u4fe1\u3002</p> <p>\u8282\u70b9\u4f1a\u5b9a\u671f\u5e7f\u64ad\u5176\u5b58\u5728\uff0c\u4ee5\u4fbf\u5728\u521d\u59cb\u53d1\u73b0\u9636\u6bb5\u4e4b\u540e\u4ecd\u80fd\u4e0e\u65b0\u52a0\u5165\u7684\u5b9e\u4f53\u5efa\u7acb\u8fde\u63a5\u3002</p> <p>\u5f53\u8282\u70b9\u79bb\u7ebf\u65f6\uff0c\u4e5f\u4f1a\u5411\u5176\u4ed6\u8282\u70b9\u5e7f\u64ad\u8fd9\u4e00\u72b6\u6001\u3002</p> <p>\u53ea\u6709\u5f53\u4e24\u4e2a\u8282\u70b9\u7684\u670d\u52a1\u8d28\u91cf\uff08Quality of Service, QoS\uff09\u8bbe\u7f6e\u517c\u5bb9\u65f6\uff0c\u624d\u4f1a\u5efa\u7acb\u8fde\u63a5\u3002</p> <p>\u4ee5 talker-listener \u793a\u4f8b\u4e3a\u4f8b\uff1a\u5728\u4e00\u4e2a\u7ec8\u7aef\u4e2d\u8fd0\u884c C++ \u7684 talker \u8282\u70b9\uff0c\u5b83\u4f1a\u5728\u67d0\u4e2a\u8bdd\u9898\u4e0a\u53d1\u5e03\u6d88\u606f\uff1b\u5728\u53e6\u4e00\u4e2a\u7ec8\u7aef\u4e2d\u8fd0\u884c Python \u7684 listener \u8282\u70b9\uff0c\u5b83\u4f1a\u8ba2\u9605\u540c\u4e00\u8bdd\u9898\u4e0a\u7684\u6d88\u606f\u3002</p> <p>\u60a8\u4f1a\u770b\u5230\u8fd9\u4e9b\u8282\u70b9\u81ea\u52a8\u53d1\u73b0\u5f7c\u6b64\uff0c\u5e76\u5f00\u59cb\u4ea4\u6362\u6d88\u606f\u3002</p>"},{"location":"ros2/Concepts/basic/Interfaces/","title":"\u63a5\u53e3","text":""},{"location":"ros2/Concepts/basic/Interfaces/#interfaces","title":"\u63a5\u53e3\uff08Interfaces\uff09","text":""},{"location":"ros2/Concepts/basic/Interfaces/#_1","title":"\u76ee\u5f55","text":"<ul> <li>\u80cc\u666f  </li> <li>\u6d88\u606f\uff08Messages\uff09  </li> <li>\u5b57\u6bb5\uff08Fields\uff09  <ul> <li>\u5b57\u6bb5\u7c7b\u578b\uff08Field types\uff09  </li> <li>\u5b57\u6bb5\u540d\u79f0\uff08Field names\uff09  </li> <li>\u5b57\u6bb5\u9ed8\u8ba4\u503c\uff08Field default value\uff09  </li> </ul> </li> <li>\u5e38\u91cf\uff08Constants\uff09  </li> <li>\u670d\u52a1\uff08Services\uff09  </li> <li>\u52a8\u4f5c\uff08Actions\uff09  </li> </ul>"},{"location":"ros2/Concepts/basic/Interfaces/#_2","title":"\u80cc\u666f","text":"<p>ROS \u5e94\u7528\u901a\u5e38\u901a\u8fc7\u4e09\u79cd\u7c7b\u578b\u7684\u63a5\u53e3\u8fdb\u884c\u901a\u4fe1\uff1a\u8bdd\u9898\uff08topics\uff09\u3001\u670d\u52a1\uff08services\uff09\u6216\u52a8\u4f5c\uff08actions\uff09\u3002 ROS 2 \u4f7f\u7528\u4e00\u79cd\u7b80\u5316\u7684\u63cf\u8ff0\u8bed\u8a00\u2014\u2014\u63a5\u53e3\u5b9a\u4e49\u8bed\u8a00\uff08Interface Definition Language, IDL\uff09\u6765\u63cf\u8ff0\u8fd9\u4e9b\u63a5\u53e3\u3002\u8fd9\u79cd\u63cf\u8ff0\u4f7f\u5f97 ROS \u5de5\u5177\u80fd\u591f\u81ea\u52a8\u4e3a\u591a\u79cd\u76ee\u6807\u8bed\u8a00\u751f\u6210\u8be5\u63a5\u53e3\u7c7b\u578b\u7684\u6e90\u4ee3\u7801\u3002</p> <p>\u672c\u6587\u6863\u5c06\u4ecb\u7ecd\u4ee5\u4e0b\u652f\u6301\u7684\u7c7b\u578b\uff1a</p> <ul> <li>msg\uff1a<code>.msg</code> \u6587\u4ef6\u662f\u7b80\u5355\u7684\u6587\u672c\u6587\u4ef6\uff0c\u7528\u4e8e\u63cf\u8ff0 ROS \u6d88\u606f\u7684\u5b57\u6bb5\u3002\u5b83\u4eec\u7528\u4e8e\u4e3a\u4e0d\u540c\u8bed\u8a00\u751f\u6210\u6d88\u606f\u7684\u6e90\u4ee3\u7801\u3002</li> <li>srv\uff1a<code>.srv</code> \u6587\u4ef6\u63cf\u8ff0\u4e00\u4e2a\u670d\u52a1\uff0c\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u8bf7\u6c42\uff08request\uff09\u548c\u54cd\u5e94\uff08response\uff09\u3002\u8bf7\u6c42\u548c\u54cd\u5e94\u5747\u4e3a\u6d88\u606f\u58f0\u660e\u3002</li> <li>action\uff1a<code>.action</code> \u6587\u4ef6\u63cf\u8ff0\u4e00\u4e2a\u52a8\u4f5c\uff0c\u7531\u4e09\u90e8\u5206\u7ec4\u6210\uff1a\u76ee\u6807\uff08goal\uff09\u3001\u7ed3\u679c\uff08result\uff09\u548c\u53cd\u9988\uff08feedback\uff09\u3002\u6bcf\u4e00\u90e8\u5206\u672c\u8eab\u90fd\u662f\u4e00\u4e2a\u6d88\u606f\u58f0\u660e\u3002</li> </ul>"},{"location":"ros2/Concepts/basic/Interfaces/#messages","title":"\u6d88\u606f\uff08Messages\uff09","text":"<p>\u6d88\u606f\u662f ROS 2 \u8282\u70b9\u5728\u65e0\u54cd\u5e94\u9884\u671f\u7684\u60c5\u51b5\u4e0b\u5411\u7f51\u7edc\u4e2d\u5176\u4ed6 ROS \u8282\u70b9\u53d1\u9001\u6570\u636e\u7684\u65b9\u5f0f\u3002 \u4f8b\u5982\uff0c\u82e5\u4e00\u4e2a ROS 2 \u8282\u70b9\u4ece\u4f20\u611f\u5668\u8bfb\u53d6\u6e29\u5ea6\u6570\u636e\uff0c\u5b83\u53ef\u4ee5\u4f7f\u7528 <code>Temperature</code> \u6d88\u606f\u5c06\u8be5\u6570\u636e\u53d1\u5e03\u5230 ROS 2 \u7f51\u7edc\u4e0a\u3002\u7f51\u7edc\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\u53ef\u8ba2\u9605\u8be5\u6570\u636e\u5e76\u63a5\u6536 <code>Temperature</code> \u6d88\u606f\u3002</p> <p>\u6d88\u606f\u5728 ROS \u5305\u7684 <code>msg/</code> \u76ee\u5f55\u4e2d\u901a\u8fc7 <code>.msg</code> \u6587\u4ef6\u8fdb\u884c\u63cf\u8ff0\u548c\u5b9a\u4e49\u3002<code>.msg</code> \u6587\u4ef6\u5305\u542b\u4e24\u90e8\u5206\uff1a\u5b57\u6bb5\uff08fields\uff09\u548c\u5e38\u91cf\uff08constants\uff09\u3002</p>"},{"location":"ros2/Concepts/basic/Interfaces/#fields","title":"\u5b57\u6bb5\uff08Fields\uff09","text":"<p>\u6bcf\u4e2a\u5b57\u6bb5\u7531\u4e00\u4e2a\u7c7b\u578b\u548c\u4e00\u4e2a\u540d\u79f0\u7ec4\u6210\uff0c\u4e2d\u95f4\u7528\u7a7a\u683c\u5206\u9694\uff0c\u4f8b\u5982\uff1a</p> <pre><code>fieldtype1 fieldname1\nfieldtype2 fieldname2\nfieldtype3 fieldname3\n</code></pre> <p>\u793a\u4f8b\uff1a </p><pre><code>int32 my_int\nstring my_string\n</code></pre><p></p>"},{"location":"ros2/Concepts/basic/Interfaces/#field-types","title":"\u5b57\u6bb5\u7c7b\u578b\uff08Field types\uff09","text":"<p>\u5b57\u6bb5\u7c7b\u578b\u53ef\u4ee5\u662f\uff1a</p> <ul> <li>\u5185\u5efa\u7c7b\u578b\uff08built-in type\uff09</li> <li>\u72ec\u7acb\u5b9a\u4e49\u7684\u6d88\u606f\u7c7b\u578b\u540d\u79f0\uff0c\u4f8b\u5982 <code>geometry_msgs/PoseStamped</code></li> </ul> <p>\u5f53\u524d\u652f\u6301\u7684\u5185\u5efa\u7c7b\u578b\u5982\u4e0b\uff1a</p> \u7c7b\u578b\u540d C++ Python DDS \u7c7b\u578b <code>bool</code> <code>bool</code> <code>builtins.bool</code> <code>boolean</code> <code>byte</code> <code>uint8_t</code> <code>builtins.bytes*</code> <code>octet</code> <code>char</code> <code>char</code> <code>builtins.int*</code> <code>char</code> <code>float32</code> <code>float</code> <code>builtins.float*</code> <code>float</code> <code>float64</code> <code>double</code> <code>builtins.float*</code> <code>double</code> <code>int8</code> <code>int8_t</code> <code>builtins.int*</code> <code>octet</code> <code>uint8</code> <code>uint8_t</code> <code>builtins.int*</code> <code>octet</code> <code>int16</code> <code>int16_t</code> <code>builtins.int*</code> <code>short</code> <code>uint16</code> <code>uint16_t</code> <code>builtins.int*</code> <code>unsigned short</code> <code>int32</code> <code>int32_t</code> <code>builtins.int*</code> <code>long</code> <code>uint32</code> <code>uint32_t</code> <code>builtins.int*</code> <code>unsigned long</code> <code>int64</code> <code>int64_t</code> <code>builtins.int*</code> <code>long long</code> <code>uint64</code> <code>uint64_t</code> <code>builtins.int*</code> <code>unsigned long long</code> <code>string</code> <code>std::string</code> <code>builtins.str</code> <code>string</code> <code>wstring</code> <code>std::u16string</code> <code>builtins.str</code> <code>wstring</code> <p>() \u6240\u6709\u6bd4 ROS \u5b9a\u4e49\u66f4\u5bbd\u677e\u7684\u7c7b\u578b\uff08\u5982 Python \u4e2d\u7684 <code>list</code> \u6216 <code>str</code>\uff09\u901a\u8fc7\u8f6f\u4ef6\u5f3a\u5236\u6267\u884c* ROS \u89c4\u5b9a\u7684\u8303\u56f4\u548c\u957f\u5ea6\u9650\u5236\u3002</p> <p>\u6240\u6709\u5185\u5efa\u7c7b\u578b\u5747\u53ef\u7528\u4e8e\u5b9a\u4e49\u6570\u7ec4\uff1a</p> \u7c7b\u578b C++ Python DDS \u7c7b\u578b \u9759\u6001\u6570\u7ec4 <code>std::array&lt;T, N&gt;</code> <code>builtins.list*</code> <code>T[N]</code> \u65e0\u754c\u52a8\u6001\u6570\u7ec4 <code>std::vector</code> <code>builtins.list</code> <code>sequence</code> \u6709\u754c\u52a8\u6001\u6570\u7ec4 <code>custom_class&lt;T, N&gt;</code> <code>builtins.list*</code> <code>sequence&lt;T, N&gt;</code> \u6709\u754c\u5b57\u7b26\u4e32 <code>std::string</code> <code>builtins.str*</code> <code>string</code> <p>\u6d88\u606f\u5b9a\u4e49\u793a\u4f8b\uff08\u4f7f\u7528\u6570\u7ec4\u548c\u6709\u754c\u7c7b\u578b\uff09\uff1a </p><pre><code>int32[] unbounded_integer_array\nint32[5] five_integers_array\nint32[&lt;=5] up_to_five_integers_array\n\nstring string_of_unbounded_size\nstring&lt;=10 up_to_ten_characters_string\n\nstring[&lt;=5] up_to_five_unbounded_strings\nstring&lt;=10[] unbounded_array_of_strings_up_to_ten_characters_each\nstring&lt;=10[&lt;=5] up_to_five_strings_up_to_ten_characters_each\n</code></pre><p></p>"},{"location":"ros2/Concepts/basic/Interfaces/#field-names","title":"\u5b57\u6bb5\u540d\u79f0\uff08Field names\uff09","text":"<p>\u5b57\u6bb5\u540d\u79f0\u5fc5\u987b\u6ee1\u8db3\uff1a - \u7531\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u7ec4\u6210 - \u5fc5\u987b\u4ee5\u5b57\u6bcd\u5f00\u5934 - \u4e0d\u80fd\u4ee5\u4e0b\u5212\u7ebf\u7ed3\u5c3e - \u4e0d\u80fd\u5305\u542b\u4e24\u4e2a\u8fde\u7eed\u7684\u4e0b\u5212\u7ebf</p>"},{"location":"ros2/Concepts/basic/Interfaces/#field-default-value","title":"\u5b57\u6bb5\u9ed8\u8ba4\u503c\uff08Field default value\uff09","text":"<p>\u53ef\u4e3a\u6d88\u606f\u4e2d\u7684\u4efb\u610f\u5b57\u6bb5\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u3002\u5f53\u524d\u4e0d\u652f\u6301\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u548c\u590d\u6742\u7c7b\u578b\uff08\u5373\u975e\u5185\u5efa\u7c7b\u578b\uff0c\u5305\u62ec\u5d4c\u5957\u6d88\u606f\uff09\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u3002</p> <p>\u901a\u8fc7\u5728\u5b57\u6bb5\u5b9a\u4e49\u884c\u4e2d\u6dfb\u52a0\u7b2c\u4e09\u4e2a\u5143\u7d20\u6765\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff1a </p><pre><code>fieldtype fieldname fielddefaultvalue\n</code></pre><p></p> <p>\u793a\u4f8b\uff1a </p><pre><code>uint8 x 42\nint16 y -2000\nstring full_name \"John Doe\"\nint32[] samples [-200, -100, 0, 100, 200]\n</code></pre><p></p> <p>\u6ce8\u610f\uff1a - \u5b57\u7b26\u4e32\u503c\u5fc5\u987b\u4f7f\u7528\u5355\u5f15\u53f7 <code>'</code> \u6216\u53cc\u5f15\u53f7 <code>\"</code> \u5b9a\u4e49 - \u5f53\u524d\u4e0d\u652f\u6301\u5b57\u7b26\u4e32\u8f6c\u4e49</p>"},{"location":"ros2/Concepts/basic/Interfaces/#constants","title":"\u5e38\u91cf\uff08Constants\uff09","text":"<p>\u5e38\u91cf\u5b9a\u4e49\u7c7b\u4f3c\u4e8e\u5e26\u9ed8\u8ba4\u503c\u7684\u5b57\u6bb5\u63cf\u8ff0\uff0c\u4f46\u5176\u503c\u5728\u7a0b\u5e8f\u4e2d\u4e0d\u53ef\u66f4\u6539\u3002\u4f7f\u7528\u7b49\u53f7 <code>=</code> \u8868\u793a\u8d4b\u503c\uff1a</p> <pre><code>constanttype CONSTANTNAME=constantvalue\n</code></pre> <p>\u793a\u4f8b\uff1a </p><pre><code>int32 X=123\nint32 Y=-123\nstring FOO=\"foo\"\nstring EXAMPLE='bar'\n</code></pre><p></p> <p>\u6ce8\u610f\uff1a\u5e38\u91cf\u540d\u79f0\u5fc5\u987b\u4e3a\u5927\u5199\u5b57\u6bcd\uff08UPPERCASE\uff09</p>"},{"location":"ros2/Concepts/basic/Interfaces/#services","title":"\u670d\u52a1\uff08Services\uff09","text":"<p>\u670d\u52a1\u662f\u4e00\u79cd\u8bf7\u6c42/\u54cd\u5e94\u5f0f\u901a\u4fe1\uff0c\u5ba2\u6237\u7aef\uff08\u8bf7\u6c42\u65b9\uff09\u7b49\u5f85\u670d\u52a1\u7aef\uff08\u54cd\u5e94\u65b9\uff09\u6267\u884c\u4e00\u4e2a\u77ed\u65f6\u8ba1\u7b97\u5e76\u8fd4\u56de\u7ed3\u679c\u3002</p> <p>\u670d\u52a1\u5728 ROS \u5305\u7684 <code>srv/</code> \u76ee\u5f55\u4e2d\u901a\u8fc7 <code>.srv</code> \u6587\u4ef6\u5b9a\u4e49\u3002</p> <p>\u670d\u52a1\u63cf\u8ff0\u6587\u4ef6\u7531\u8bf7\u6c42\u6d88\u606f\u7c7b\u578b\u548c\u54cd\u5e94\u6d88\u606f\u7c7b\u578b\u7ec4\u6210\uff0c\u4e2d\u95f4\u7528 <code>---</code> \u5206\u9694\u3002\u4efb\u610f\u4e24\u4e2a <code>.msg</code> \u6587\u4ef6\u7528 <code>---</code> \u8fde\u63a5\u5373\u6784\u6210\u5408\u6cd5\u7684\u670d\u52a1\u63cf\u8ff0\u3002</p> <p>\u7b80\u5355\u793a\u4f8b\uff08\u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff09\uff1a </p><pre><code>string str\n---\nstring str\n</code></pre><p></p> <p>\u590d\u6742\u793a\u4f8b\uff1a </p><pre><code># \u8bf7\u6c42\u5e38\u91cf\nint8 FOO=1\nint8 BAR=2\n# \u8bf7\u6c42\u5b57\u6bb5\nint8 foobar\nanother_pkg/AnotherMessage msg\n---\n# \u54cd\u5e94\u5e38\u91cf\nuint32 SECRET=123456\n# \u54cd\u5e94\u5b57\u6bb5\nanother_pkg/YetAnotherMessage val\nCustomMessageDefinedInThisPackage value\nuint32 an_integer\n</code></pre><p></p> <p>\u6ce8\u610f\uff1a\u670d\u52a1\u4e2d\u4e0d\u80fd\u5d4c\u5957\u5176\u4ed6\u670d\u52a1\u3002 \u82e5\u5f15\u7528\u540c\u4e00\u5305\u4e2d\u7684\u6d88\u606f\uff0c\u4e0d\u5f97\u5305\u542b\u5305\u540d\u3002</p>"},{"location":"ros2/Concepts/basic/Interfaces/#actions","title":"\u52a8\u4f5c\uff08Actions\uff09","text":"<p>\u52a8\u4f5c\u662f\u4e00\u79cd\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u8bf7\u6c42/\u54cd\u5e94\u901a\u4fe1\u3002\u52a8\u4f5c\u5ba2\u6237\u7aef\uff08\u8bf7\u6c42\u65b9\uff09\u7b49\u5f85\u52a8\u4f5c\u670d\u52a1\u5668\uff08\u54cd\u5e94\u65b9\uff09\u6267\u884c\u67d0\u9879\u64cd\u4f5c\u5e76\u8fd4\u56de\u7ed3\u679c\u3002\u4e0e\u670d\u52a1\u4e0d\u540c\uff0c\u52a8\u4f5c\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a - \u53ef\u957f\u65f6\u95f4\u8fd0\u884c\uff08\u6570\u79d2\u81f3\u6570\u5206\u949f\uff09 - \u6267\u884c\u8fc7\u7a0b\u4e2d\u53ef\u63d0\u4f9b\u53cd\u9988\uff08feedback\uff09 - \u53ef\u88ab\u4e2d\u65ad</p> <p>\u52a8\u4f5c\u5b9a\u4e49\u683c\u5f0f\u5982\u4e0b\uff1a </p><pre><code>&lt;request_type&gt; &lt;request_fieldname&gt;\n---\n&lt;response_type&gt; &lt;response_fieldname&gt;\n---\n&lt;feedback_type&gt; &lt;feedback_fieldname&gt;\n</code></pre><p></p> <ul> <li>\u7b2c\u4e00\u4e2a <code>---</code> \u4e4b\u524d\u4e3a\u8bf7\u6c42\u5b57\u6bb5</li> <li>\u7b2c\u4e00\u4e2a\u4e0e\u7b2c\u4e8c\u4e2a <code>---</code> \u4e4b\u95f4\u4e3a\u54cd\u5e94\u5b57\u6bb5</li> <li>\u7b2c\u4e8c\u4e2a <code>---</code> \u4e4b\u540e\u4e3a\u53cd\u9988\u5b57\u6bb5</li> </ul> <p>\u8bf7\u6c42\u3001\u54cd\u5e94\u548c\u53cd\u9988\u5b57\u6bb5\u7684\u6570\u91cf\u5747\u53ef\u4e3a\u96f6\u6216\u4efb\u610f\u591a\u4e2a\u3002</p> <p>\u5404\u90e8\u5206\u7684\u7c7b\u578b\u548c\u5b57\u6bb5\u540d\u9075\u5faa\u4e0e\u6d88\u606f\u76f8\u540c\u7684\u89c4\u5219\u3002</p> <p>\u793a\u4f8b\uff1aFibonacci \u52a8\u4f5c\u5b9a\u4e49 </p><pre><code>int32 order\n---\nint32[] sequence\n---\nint32[] sequence\n</code></pre><p></p> <ul> <li>\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a <code>int32</code> \u5b57\u6bb5 <code>order</code>\uff0c\u8868\u793a\u8981\u8ba1\u7b97\u7684\u6590\u6ce2\u90a3\u5951\u6570\u5217\u9879\u6570</li> <li>\u670d\u52a1\u5668\u8fd4\u56de\u4e00\u4e2a <code>int32[]</code> \u6570\u7ec4 <code>sequence</code>\uff0c\u5305\u542b\u5b8c\u6574\u7684\u6570\u5217</li> <li>\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u670d\u52a1\u5668\u53ef\u53d1\u9001\u4e2d\u95f4\u7ed3\u679c\uff08\u5df2\u8ba1\u7b97\u7684\u90e8\u5206\u6570\u5217\uff09\u4f5c\u4e3a\u53cd\u9988</li> </ul>"},{"location":"ros2/Concepts/basic/Introspection%20with%20command%20line%20tools/","title":"\u7528\u547d\u4ee4\u884c\u5de5\u5177\u8fdb\u884c\u81ea\u7701","text":""},{"location":"ros2/Concepts/basic/Introspection%20with%20command%20line%20tools/#introspection-with-command-line-tools","title":"\u4f7f\u7528\u547d\u4ee4\u884c\u5de5\u5177\u8fdb\u884c\u5185\u7701\uff08Introspection with command line tools\uff09","text":""},{"location":"ros2/Concepts/basic/Introspection%20with%20command%20line%20tools/#_1","title":"\u76ee\u5f55","text":"<ul> <li>\u7528\u6cd5\uff08Usage\uff09  </li> <li>\u793a\u4f8b\uff08Example\uff09  </li> <li>ROS 2 \u5b88\u62a4\u8fdb\u7a0b\uff1a\u540e\u53f0\u53d1\u73b0\u670d\u52a1\uff08ROS 2 Daemon: Background Discovery Service\uff09  </li> <li>\u5b9e\u73b0\uff08Implementation\uff09  </li> </ul>"},{"location":"ros2/Concepts/basic/Introspection%20with%20command%20line%20tools/#usage","title":"\u7528\u6cd5\uff08Usage\uff09","text":"<p>ROS 2 \u63d0\u4f9b\u4e86\u4e00\u5957\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u5185\u7701\uff08introspect\uff09ROS 2 \u7cfb\u7edf\u3002</p> <p>\u8fd9\u4e9b\u5de5\u5177\u7684\u4e3b\u8981\u5165\u53e3\u662f <code>ros2</code> \u547d\u4ee4\uff0c\u5b83\u5305\u542b\u591a\u4e2a\u5b50\u547d\u4ee4\uff0c\u7528\u4e8e\u5185\u7701\u548c\u64cd\u4f5c\u8282\u70b9\u3001\u8bdd\u9898\u3001\u670d\u52a1\u7b49\u3002</p> <p>\u8981\u67e5\u770b\u6240\u6709\u53ef\u7528\u7684\u5b50\u547d\u4ee4\uff0c\u8bf7\u8fd0\u884c\uff1a</p> <pre><code>ros2 --help\n</code></pre> <p>\u90e8\u5206\u53ef\u7528\u7684\u5b50\u547d\u4ee4\u5305\u62ec\uff1a</p> <ul> <li><code>action</code>\uff1a\u5185\u7701/\u4ea4\u4e92 ROS \u52a8\u4f5c  </li> <li><code>bag</code>\uff1a\u5f55\u5236/\u56de\u653e rosbag  </li> <li><code>component</code>\uff1a\u7ba1\u7406\u7ec4\u4ef6\u5bb9\u5668  </li> <li><code>daemon</code>\uff1a\u5185\u7701/\u914d\u7f6e ROS 2 \u5b88\u62a4\u8fdb\u7a0b  </li> <li><code>doctor</code>\uff1a\u68c0\u67e5 ROS \u73af\u5883\u4e2d\u7684\u6f5c\u5728\u95ee\u9898  </li> <li><code>interface</code>\uff1a\u663e\u793a ROS \u63a5\u53e3\u4fe1\u606f  </li> <li><code>launch</code>\uff1a\u8fd0\u884c/\u5185\u7701 launch \u6587\u4ef6  </li> <li><code>lifecycle</code>\uff1a\u5185\u7701/\u7ba1\u7406\u5177\u6709\u751f\u547d\u5468\u671f\u7684\u8282\u70b9  </li> <li><code>multicast</code>\uff1a\u591a\u64ad\u8c03\u8bd5\u547d\u4ee4  </li> <li><code>node</code>\uff1a\u5185\u7701 ROS \u8282\u70b9  </li> <li><code>param</code>\uff1a\u5185\u7701/\u914d\u7f6e\u8282\u70b9\u53c2\u6570  </li> <li><code>pkg</code>\uff1a\u5185\u7701 ROS \u5305  </li> <li><code>plugin</code>\uff1a\u5185\u7701 ROS \u63d2\u4ef6  </li> <li><code>run</code>\uff1a\u8fd0\u884c ROS \u8282\u70b9  </li> <li><code>security</code>\uff1a\u914d\u7f6e\u5b89\u5168\u8bbe\u7f6e  </li> <li><code>service</code>\uff1a\u5185\u7701/\u8c03\u7528 ROS \u670d\u52a1  </li> <li><code>test</code>\uff1a\u8fd0\u884c ROS launch \u6d4b\u8bd5  </li> <li><code>topic</code>\uff1a\u5185\u7701/\u53d1\u5e03 ROS \u8bdd\u9898  </li> <li><code>trace</code>\uff1a\u7528\u4e8e\u83b7\u53d6 ROS \u8282\u70b9\u6267\u884c\u4fe1\u606f\u7684\u8ffd\u8e2a\u5de5\u5177\uff08\u4ec5 Linux \u53ef\u7528\uff09  </li> <li><code>wtf</code>\uff1a<code>doctor</code> \u547d\u4ee4\u7684\u522b\u540d  </li> </ul>"},{"location":"ros2/Concepts/basic/Introspection%20with%20command%20line%20tools/#example","title":"\u793a\u4f8b\uff08Example\uff09","text":"<p>\u8981\u4f7f\u7528\u547d\u4ee4\u884c\u5de5\u5177\u590d\u73b0\u7ecf\u5178\u7684 talker-listener \u793a\u4f8b\uff0c\u53ef\u4f7f\u7528 <code>topic</code> \u5b50\u547d\u4ee4\u5728\u8bdd\u9898\u4e0a\u53d1\u5e03\u548c\u56de\u663e\u6d88\u606f\u3002</p> <p>\u5728\u4e00\u4e2a\u7ec8\u7aef\u4e2d\u53d1\u5e03\u6d88\u606f\uff1a </p><pre><code>ros2 topic pub /chatter std_msgs/msg/String \"data: Hello world\"\n</code></pre> \u8f93\u51fa\uff1a <pre><code>publisher: beginning loop\npublishing #1: std_msgs.msg.String(data='Hello world')\npublishing #2: std_msgs.msg.String(data='Hello world')\n...\n</code></pre><p></p> <p>\u5728\u53e6\u4e00\u4e2a\u7ec8\u7aef\u4e2d\u56de\u663e\u63a5\u6536\u5230\u7684\u6d88\u606f\uff1a </p><pre><code>ros2 topic echo /chatter\n</code></pre> \u8f93\u51fa\uff1a <pre><code>data: Hello world\ndata: Hello world\n...\n</code></pre><p></p>"},{"location":"ros2/Concepts/basic/Introspection%20with%20command%20line%20tools/#ros-2-ros-2-daemon-background-discovery-service","title":"ROS 2 \u5b88\u62a4\u8fdb\u7a0b\uff1a\u540e\u53f0\u53d1\u73b0\u670d\u52a1\uff08ROS 2 Daemon: Background Discovery Service\uff09","text":"<p>ROS 2 \u4f7f\u7528\u5206\u5e03\u5f0f\u53d1\u73b0\u673a\u5236\u8ba9\u8282\u70b9\u76f8\u4e92\u8fde\u63a5\u3002\u7531\u4e8e\u8be5\u673a\u5236\u6545\u610f\u4e0d\u91c7\u7528\u4e2d\u5fc3\u5316\u53d1\u73b0\u65b9\u5f0f\uff0c\u8282\u70b9\u53ef\u80fd\u9700\u8981\u4e00\u5b9a\u65f6\u95f4\u624d\u80fd\u53d1\u73b0\u56fe\u4e2d\u7684\u6240\u6709\u53c2\u4e0e\u8005\u3002</p> <p>\u4e3a\u52a0\u901f\u67e5\u8be2\u54cd\u5e94\uff08\u4f8b\u5982\u5217\u51fa\u6240\u6709\u8282\u70b9\u540d\u79f0\uff09\uff0cROS 2 \u4f1a\u8fd0\u884c\u4e00\u4e2a\u540e\u53f0\u5b88\u62a4\u8fdb\u7a0b\uff08daemon\uff09\uff0c\u6301\u7eed\u7ef4\u62a4 ROS \u56fe\u7684\u4fe1\u606f\u3002</p> <ul> <li>\u5f53\u60a8\u9996\u6b21\u4f7f\u7528 <code>ros2 node list</code>\u3001<code>ros2 topic list</code> \u7b49\u5185\u7701\u547d\u4ee4\u65f6\uff0c\u5b88\u62a4\u8fdb\u7a0b\u4f1a\u81ea\u52a8\u542f\u52a8\u3002</li> <li>\u5982\u679c\u672a\u8fd0\u884c\u5b88\u62a4\u8fdb\u7a0b\uff0c\u8fd9\u4e9b\u5de5\u5177\u4f1a\u5728\u540e\u53f0\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b88\u62a4\u8fdb\u7a0b\uff0c\u7136\u540e\u518d\u6267\u884c\u8bf7\u6c42\u7684\u547d\u4ee4\u3002</li> </ul> <p>\u5b88\u62a4\u8fdb\u7a0b\u901a\u8fc7 localhost \u7f51\u7edc\u63a5\u53e3\uff08127.0.0.1\uff09\u901a\u4fe1\uff0c\u5e76\u4f7f\u7528 <code>ROS_DOMAIN_ID</code> \u73af\u5883\u53d8\u91cf\u4f5c\u4e3a\u7aef\u53e3\u504f\u79fb\u91cf\u3002</p> <p>\u8fd9\u610f\u5473\u7740\uff1a - \u82e5\u60f3\u63a7\u5236\u7279\u5b9a\u7684\u5b88\u62a4\u8fdb\u7a0b\u5b9e\u4f8b\uff08\u4f8b\u5982\u6267\u884c <code>ros2 daemon stop</code>\uff09\uff0c\u5fc5\u987b\u786e\u4fdd\u5f53\u524d <code>ROS_DOMAIN_ID</code> \u4e0e\u8be5\u5b88\u62a4\u8fdb\u7a0b\u542f\u52a8\u65f6\u4f7f\u7528\u7684\u503c\u4e00\u81f4\u3002 - \u4e0d\u540c\u7684 <code>ROS_DOMAIN_ID</code> \u4f1a\u5bfc\u81f4\u591a\u4e2a\u72ec\u7acb\u7684\u5b88\u62a4\u8fdb\u7a0b\u5b9e\u4f8b\u8fd0\u884c\u5728\u4e0d\u540c\u7aef\u53e3\u4e0a\u3002</p> <p>\u60a8\u53ef\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u4e0e\u5b88\u62a4\u8fdb\u7a0b\u4ea4\u4e92\u7684\u66f4\u591a\u9009\u9879\uff1a </p><pre><code>ros2 daemon --help\n</code></pre> \u5305\u62ec\u542f\u52a8\u3001\u505c\u6b62\u6216\u68c0\u67e5\u5b88\u62a4\u8fdb\u7a0b\u72b6\u6001\u7684\u547d\u4ee4\u3002<p></p>"},{"location":"ros2/Concepts/basic/Introspection%20with%20command%20line%20tools/#implementation","title":"\u5b9e\u73b0\uff08Implementation\uff09","text":"<p><code>ros2</code> \u547d\u4ee4\u7684\u6e90\u4ee3\u7801\u4f4d\u4e8e\uff1a https://github.com/ros2/ros2cli</p> <p><code>ros2</code> \u5de5\u5177\u88ab\u8bbe\u8ba1\u4e3a\u4e00\u4e2a\u53ef\u6269\u5c55\u7684\u63d2\u4ef6\u6846\u67b6\u3002 \u4f8b\u5982\uff0c\u5f53\u5b89\u88c5 <code>sros2</code> \u5305\u540e\uff0c\u5b83\u4f1a\u81ea\u52a8\u63d0\u4f9b <code>security</code> \u5b50\u547d\u4ee4\uff0c<code>ros2</code> \u5de5\u5177\u4f1a\u81ea\u52a8\u68c0\u6d4b\u5e76\u52a0\u8f7d\u8be5\u63d2\u4ef6\u3002</p>"},{"location":"ros2/Concepts/basic/Launch/","title":"\u542f\u52a8","text":""},{"location":"ros2/Concepts/basic/Launch/#launch","title":"\u542f\u52a8\uff08Launch\uff09","text":"<p>\u4e00\u4e2a ROS 2 \u7cfb\u7edf\u901a\u5e38\u7531\u591a\u4e2a\u8282\u70b9\u7ec4\u6210\uff0c\u8fd9\u4e9b\u8282\u70b9\u53ef\u80fd\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u8fdb\u7a0b\uff08\u751a\u81f3\u4e0d\u540c\u7684\u673a\u5668\uff09\u4e0a\u3002\u867d\u7136\u53ef\u4ee5\u624b\u52a8\u9010\u4e2a\u542f\u52a8\u8fd9\u4e9b\u8282\u70b9\uff0c\u4f46\u8fd9\u79cd\u65b9\u5f0f\u5f88\u5feb\u5c31\u4f1a\u53d8\u5f97\u7e41\u7410\u3002</p> <p>ROS 2 \u7684\u542f\u52a8\u7cfb\u7edf\uff08launch system\uff09\u65e8\u5728\u901a\u8fc7\u5355\u6761\u547d\u4ee4\u81ea\u52a8\u542f\u52a8\u591a\u4e2a\u8282\u70b9\u3002\u5b83\u5e2e\u52a9\u7528\u6237\u63cf\u8ff0\u6574\u4e2a\u7cfb\u7edf\u7684\u914d\u7f6e\uff0c\u5e76\u6309\u63cf\u8ff0\u6267\u884c\u3002\u7cfb\u7edf\u914d\u7f6e\u5305\u62ec\uff1a - \u8981\u8fd0\u884c\u54ea\u4e9b\u7a0b\u5e8f - \u5728\u4f55\u5904\u8fd0\u884c\u5b83\u4eec - \u4f20\u9012\u54ea\u4e9b\u53c2\u6570 - ROS \u7279\u6709\u7684\u7ea6\u5b9a\uff08\u4f8b\u5982\u901a\u8fc7\u4e0d\u540c\u914d\u7f6e\u590d\u7528\u7ec4\u4ef6\uff09</p> <p>\u6b64\u5916\uff0c\u542f\u52a8\u7cfb\u7edf\u8fd8\u8d1f\u8d23\u76d1\u63a7\u5df2\u542f\u52a8\u8fdb\u7a0b\u7684\u72b6\u6001\uff0c\u5e76\u62a5\u544a\u6216\u54cd\u5e94\u8fd9\u4e9b\u8fdb\u7a0b\u72b6\u6001\u7684\u53d8\u5316\u3002</p> <p>\u4e0a\u8ff0\u6240\u6709\u5185\u5bb9\u90fd\u5728\u4e00\u4e2a\u201c\u542f\u52a8\u6587\u4ef6\u201d\uff08launch file\uff09\u4e2d\u5b9a\u4e49\u3002\u542f\u52a8\u6587\u4ef6\u53ef\u4ee5\u7528 XML\u3001YAML \u6216 Python \u7f16\u5199\u3002\u7f16\u5199\u5b8c\u6210\u540e\uff0c\u53ef\u901a\u8fc7 <code>ros2 launch</code> \u547d\u4ee4\u8fd0\u884c\u8be5\u6587\u4ef6\uff0c\u5176\u4e2d\u6307\u5b9a\u7684\u6240\u6709\u8282\u70b9\u5c06\u81ea\u52a8\u542f\u52a8\u3002</p> <p>\u8981\u5f00\u59cb\u7f16\u5199\u548c\u4f7f\u7528\u542f\u52a8\u6587\u4ef6\uff0c\u8bf7\u53c2\u9605 \u542f\u52a8\u6559\u7a0b\u3002 \u5982\u9700\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u542f\u52a8\u7cfb\u7edf\u6587\u6863\u3002</p>"},{"location":"ros2/Concepts/basic/Nodes/","title":"\u8282\u70b9","text":""},{"location":"ros2/Concepts/basic/Nodes/#nodes","title":"\u8282\u70b9\uff08Nodes\uff09","text":"<p>\u8282\u70b9\u662f ROS 2 \u8ba1\u7b97\u56fe\u4e2d\u7684\u53c2\u4e0e\u8005\uff0c\u5b83\u4f7f\u7528\u5ba2\u6237\u7aef\u5e93\u4e0e\u5176\u4ed6\u8282\u70b9\u901a\u4fe1\u3002\u8282\u70b9\u53ef\u4ee5\u4e0e\u540c\u4e00\u8fdb\u7a0b\u5185\u3001\u4e0d\u540c\u8fdb\u7a0b\u6216\u4e0d\u540c\u673a\u5668\u4e0a\u7684\u5176\u4ed6\u8282\u70b9\u8fdb\u884c\u901a\u4fe1\u3002\u8282\u70b9\u901a\u5e38\u662f ROS \u8ba1\u7b97\u56fe\u4e2d\u7684\u8ba1\u7b97\u5355\u5143\uff1b\u6bcf\u4e2a\u8282\u70b9\u5e94\u5b8c\u6210\u4e00\u9879\u903b\u8f91\u4efb\u52a1\u3002</p> <p>\u8282\u70b9\u53ef\u4ee5\u5411\u547d\u540d\u8bdd\u9898\u53d1\u5e03\u6570\u636e\u4ee5\u4f20\u9012\u7ed9\u5176\u4ed6\u8282\u70b9\uff0c\u4e5f\u53ef\u4ee5\u8ba2\u9605\u547d\u540d\u8bdd\u9898\u4ee5\u4ece\u5176\u4ed6\u8282\u70b9\u83b7\u53d6\u6570\u636e\u3002\u5b83\u4eec\u8fd8\u53ef\u4ee5\u4f5c\u4e3a\u670d\u52a1\u5ba2\u6237\u7aef\uff0c\u8bf7\u6c42\u5176\u4ed6\u8282\u70b9\u4ee3\u4e3a\u6267\u884c\u8ba1\u7b97\uff0c\u6216\u4f5c\u4e3a\u670d\u52a1\u670d\u52a1\u5668\uff0c\u5411\u5176\u4ed6\u8282\u70b9\u63d0\u4f9b\u529f\u80fd\u3002\u5bf9\u4e8e\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u8ba1\u7b97\uff0c\u8282\u70b9\u53ef\u4ee5\u4f5c\u4e3a\u52a8\u4f5c\u5ba2\u6237\u7aef\uff0c\u8bf7\u6c42\u5176\u4ed6\u8282\u70b9\u6267\u884c\u8be5\u8ba1\u7b97\uff0c\u6216\u4f5c\u4e3a\u52a8\u4f5c\u670d\u52a1\u5668\uff0c\u5411\u5176\u4ed6\u8282\u70b9\u63d0\u4f9b\u6b64\u7c7b\u529f\u80fd\u3002\u8282\u70b9\u53ef\u5728\u8fd0\u884c\u65f6\u63d0\u4f9b\u53ef\u914d\u7f6e\u7684\u53c2\u6570\u4ee5\u6539\u53d8\u5176\u884c\u4e3a\u3002</p> <p>\u8282\u70b9\u901a\u5e38\u540c\u65f6\u662f\u53d1\u5e03\u8005\u3001\u8ba2\u9605\u8005\u3001\u670d\u52a1\u670d\u52a1\u5668\u3001\u670d\u52a1\u5ba2\u6237\u7aef\u3001\u52a8\u4f5c\u670d\u52a1\u5668\u548c\u52a8\u4f5c\u5ba2\u6237\u7aef\u7684\u590d\u6742\u7ec4\u5408\u3002</p> <p>\u8282\u70b9\u4e4b\u95f4\u7684\u8fde\u63a5\u901a\u8fc7\u5206\u5e03\u5f0f\u53d1\u73b0\u8fc7\u7a0b\u5efa\u7acb\u3002</p>"},{"location":"ros2/Concepts/basic/Parameters/","title":"\u53c2\u6570","text":""},{"location":"ros2/Concepts/basic/Parameters/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":""},{"location":"ros2/Concepts/basic/Parameters/#_1","title":"\u76ee\u5f55","text":"<ul> <li>\u6982\u8ff0  </li> <li>\u53c2\u6570\u80cc\u666f  </li> <li>\u58f0\u660e\u53c2\u6570  </li> <li>\u53c2\u6570\u7c7b\u578b  </li> <li>\u53c2\u6570\u56de\u8c03  </li> <li>\u4e0e\u53c2\u6570\u4ea4\u4e92  </li> <li>\u8fd0\u884c\u8282\u70b9\u65f6\u8bbe\u7f6e\u521d\u59cb\u53c2\u6570\u503c  </li> <li>\u542f\u52a8\u8282\u70b9\u65f6\u8bbe\u7f6e\u521d\u59cb\u53c2\u6570\u503c  </li> <li>\u5728\u8fd0\u884c\u65f6\u64cd\u4f5c\u53c2\u6570\u503c  </li> <li>\u4ece ROS 1 \u8fc1\u79fb  </li> </ul>"},{"location":"ros2/Concepts/basic/Parameters/#_2","title":"\u6982\u8ff0","text":"<p>ROS 2 \u4e2d\u7684\u53c2\u6570\u4e0e\u5355\u4e2a\u8282\u70b9\u5173\u8054\u3002\u53c2\u6570\u7528\u4e8e\u5728\u542f\u52a8\u65f6\uff08\u4ee5\u53ca\u8fd0\u884c\u65f6\uff09\u914d\u7f6e\u8282\u70b9\uff0c\u800c\u65e0\u9700\u4fee\u6539\u4ee3\u7801\u3002\u53c2\u6570\u7684\u751f\u547d\u5468\u671f\u4e0e\u5176\u6240\u5c5e\u8282\u70b9\u7684\u751f\u547d\u5468\u671f\u7ed1\u5b9a\uff08\u5c3d\u7ba1\u8282\u70b9\u53ef\u4ee5\u5b9e\u73b0\u67d0\u79cd\u6301\u4e45\u5316\u673a\u5236\uff0c\u5728\u91cd\u542f\u540e\u91cd\u65b0\u52a0\u8f7d\u53c2\u6570\u503c\uff09\u3002</p> <p>\u53c2\u6570\u901a\u8fc7\u8282\u70b9\u540d\u79f0\u3001\u8282\u70b9\u547d\u540d\u7a7a\u95f4\u3001\u53c2\u6570\u540d\u79f0\u548c\u53c2\u6570\u547d\u540d\u7a7a\u95f4\u8fdb\u884c\u5bfb\u5740\u3002\u53c2\u6570\u547d\u540d\u7a7a\u95f4\u662f\u53ef\u9009\u7684\u3002</p> <p>\u6bcf\u4e2a\u53c2\u6570\u5305\u542b\u4e00\u4e2a\u952e\uff08key\uff09\u3001\u4e00\u4e2a\u503c\uff08value\uff09\u548c\u4e00\u4e2a\u63cf\u8ff0\u7b26\uff08descriptor\uff09\u3002 - \u952e\u4e3a\u5b57\u7b26\u4e32 - \u503c\u7684\u7c7b\u578b\u4e3a\u4ee5\u4e0b\u4e4b\u4e00\uff1a<code>bool</code>\u3001<code>int64</code>\u3001<code>float64</code>\u3001<code>string</code>\u3001<code>byte[]</code>\u3001<code>bool[]</code>\u3001<code>int64[]</code>\u3001<code>float64[]</code> \u6216 <code>string[]</code> - \u63cf\u8ff0\u7b26\u9ed8\u8ba4\u4e3a\u7a7a\uff0c\u4f46\u53ef\u5305\u542b\u53c2\u6570\u8bf4\u660e\u3001\u53d6\u503c\u8303\u56f4\u3001\u7c7b\u578b\u4fe1\u606f\u53ca\u5176\u4ed6\u7ea6\u675f</p> <p>\u5982\u9700\u52a8\u624b\u5b9e\u8df5 ROS \u53c2\u6570\uff0c\u8bf7\u53c2\u9605\uff1aUnderstanding parameters\u3002</p>"},{"location":"ros2/Concepts/basic/Parameters/#_3","title":"\u53c2\u6570\u80cc\u666f","text":"<p>\uff08\u539f\u6587\u65e0\u5185\u5bb9\uff0c\u4ec5\u6807\u9898\uff09</p>"},{"location":"ros2/Concepts/basic/Parameters/#_4","title":"\u58f0\u660e\u53c2\u6570","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8282\u70b9\u5fc5\u987b\u5728\u5176\u751f\u547d\u5468\u671f\u5185\u58f0\u660e\u6240\u6709\u5c06\u8981\u63a5\u53d7\u7684\u53c2\u6570\u3002 \u8fd9\u662f\u4e3a\u4e86\u5728\u8282\u70b9\u542f\u52a8\u65f6\u5c31\u660e\u786e\u5b9a\u4e49\u53c2\u6570\u7684\u7c7b\u578b\u548c\u540d\u79f0\uff0c\u4ece\u800c\u964d\u4f4e\u540e\u7eed\u914d\u7f6e\u9519\u8bef\u7684\u98ce\u9669\u3002</p> <p>\u6709\u5173\u5982\u4f55\u5728\u8282\u70b9\u4e2d\u58f0\u660e\u548c\u4f7f\u7528\u53c2\u6570\u7684\u6559\u7a0b\uff0c\u8bf7\u53c2\u9605\uff1a - \u5728\u7c7b\u4e2d\u4f7f\u7528\u53c2\u6570\uff08C++\uff09 - \u5728\u7c7b\u4e2d\u4f7f\u7528\u53c2\u6570\uff08Python\uff09</p> <p>\u5bf9\u4e8e\u67d0\u4e9b\u7c7b\u578b\u7684\u8282\u70b9\uff0c\u5e76\u975e\u6240\u6709\u53c2\u6570\u90fd\u80fd\u63d0\u524d\u83b7\u77e5\u3002\u6b64\u65f6\u53ef\u5728\u5b9e\u4f8b\u5316\u8282\u70b9\u65f6\u5c06 <code>allow_undeclared_parameters</code> \u8bbe\u4e3a <code>true</code>\uff0c\u4ece\u800c\u5141\u8bb8\u83b7\u53d6\u548c\u8bbe\u7f6e\u672a\u58f0\u660e\u7684\u53c2\u6570\u3002</p>"},{"location":"ros2/Concepts/basic/Parameters/#_5","title":"\u53c2\u6570\u7c7b\u578b","text":"<p>ROS 2 \u8282\u70b9\u4e0a\u7684\u6bcf\u4e2a\u53c2\u6570\u90fd\u5c5e\u4e8e\u6982\u8ff0\u4e2d\u63d0\u5230\u7684\u9884\u5b9a\u4e49\u7c7b\u578b\u4e4b\u4e00\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5728\u8fd0\u884c\u65f6\u5c1d\u8bd5\u66f4\u6539\u5df2\u58f0\u660e\u53c2\u6570\u7684\u7c7b\u578b\u4f1a\u5931\u8d25\uff0c\u4ee5\u9632\u6b62\u5e38\u89c1\u9519\u8bef\uff08\u4f8b\u5982\u5c06\u5e03\u5c14\u503c\u8d4b\u7ed9\u6574\u578b\u53c2\u6570\uff09\u3002</p> <p>\u5982\u679c\u67d0\u4e2a\u53c2\u6570\u9700\u8981\u652f\u6301\u591a\u79cd\u7c7b\u578b\uff0c\u4e14\u4f7f\u7528\u8be5\u53c2\u6570\u7684\u4ee3\u7801\u80fd\u591f\u5904\u7406\u7c7b\u578b\u53d8\u5316\uff0c\u5219\u53ef\u66f4\u6539\u6b64\u9ed8\u8ba4\u884c\u4e3a\u3002 \u5728\u58f0\u660e\u53c2\u6570\u65f6\uff0c\u5e94\u4f7f\u7528 <code>ParameterDescriptor</code> \u5e76\u5c06 <code>dynamic_typing</code> \u6210\u5458\u53d8\u91cf\u8bbe\u4e3a <code>true</code>\u3002</p>"},{"location":"ros2/Concepts/basic/Parameters/#_6","title":"\u53c2\u6570\u56de\u8c03","text":"<p>ROS 2 \u8282\u70b9\u53ef\u6ce8\u518c\u4e09\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u56de\u8c03\u51fd\u6570\uff0c\u4ee5\u54cd\u5e94\u53c2\u6570\u53d8\u5316\u3002\u8fd9\u4e09\u79cd\u56de\u8c03\u5747\u4e3a\u53ef\u9009\u3002</p> <ol> <li> <p>\u201c\u9884\u8bbe\u7f6e\u53c2\u6570\u201d\u56de\u8c03\uff08pre set parameter callback\uff09    \u901a\u8fc7\u8282\u70b9 API \u7684 <code>add_pre_set_parameters_callback</code> \u6ce8\u518c\u3002    \u56de\u8c03\u63a5\u6536\u4e00\u4e2a\u5f85\u4fee\u6539\u7684 <code>Parameter</code> \u5bf9\u8c61\u5217\u8868\uff0c\u4e0d\u8fd4\u56de\u503c\u3002    \u8c03\u7528\u65f6\u53ef\u4fee\u6539\u8be5\u5217\u8868\uff0c\u4ee5\u66f4\u6539\u3001\u6dfb\u52a0\u6216\u5220\u9664\u6761\u76ee\u3002    \u4f8b\u5982\uff1a\u5f53 <code>parameter1</code> \u53d8\u5316\u65f6\u81ea\u52a8\u66f4\u65b0 <code>parameter2</code>\uff0c\u53ef\u901a\u8fc7\u6b64\u56de\u8c03\u5b9e\u73b0\u3002</p> </li> <li> <p>\u201c\u8bbe\u7f6e\u53c2\u6570\u201d\u56de\u8c03\uff08set parameter callback\uff09    \u901a\u8fc7 <code>add_on_set_parameters_callback</code> \u6ce8\u518c\u3002    \u56de\u8c03\u63a5\u6536\u4e00\u4e2a\u4e0d\u53ef\u53d8\u7684 <code>Parameter</code> \u5bf9\u8c61\u5217\u8868\uff0c\u8fd4\u56de <code>rcl_interfaces/msg/SetParametersResult</code>\u3002    \u4e3b\u8981\u7528\u9014\uff1a\u68c0\u67e5\u5373\u5c06\u53d1\u751f\u7684\u53c2\u6570\u66f4\u6539\u5e76\u660e\u786e\u62d2\u7edd\u65e0\u6548\u53d8\u66f4\u3002</p> </li> </ol> <p>\u6ce8\u610f\uff1a \u201c\u8bbe\u7f6e\u53c2\u6570\u201d\u56de\u8c03\u4e0d\u5e94\u4ea7\u751f\u526f\u4f5c\u7528\u3002 \u7531\u4e8e\u591a\u4e2a\u6b64\u7c7b\u56de\u8c03\u53ef\u4e32\u8054\u8c03\u7528\uff0c\u5355\u4e2a\u56de\u8c03\u65e0\u6cd5\u5f97\u77e5\u540e\u7eed\u56de\u8c03\u662f\u5426\u4f1a\u62d2\u7edd\u66f4\u65b0\u3002 \u82e5\u56de\u8c03\u63d0\u524d\u4fee\u6539\u4e86\u5185\u90e8\u72b6\u6001\uff0c\u53ef\u80fd\u5bfc\u81f4\u72b6\u6001\u4e0e\u5b9e\u9645\u53c2\u6570\u503c\u4e0d\u4e00\u81f4\u3002 \u5982\u9700\u5728\u53c2\u6570\u6210\u529f\u66f4\u6539\u540e\u6267\u884c\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u4e0b\u4e00\u79cd\u56de\u8c03\u3002</p> <ol> <li>\u201c\u540e\u8bbe\u7f6e\u53c2\u6570\u201d\u56de\u8c03\uff08post set parameter callback\uff09    \u901a\u8fc7 <code>add_post_set_parameters_callback</code> \u6ce8\u518c\u3002    \u56de\u8c03\u63a5\u6536\u4e00\u4e2a\u4e0d\u53ef\u53d8\u7684 <code>Parameter</code> \u5bf9\u8c61\u5217\u8868\uff0c\u4e0d\u8fd4\u56de\u503c\u3002    \u4e3b\u8981\u7528\u9014\uff1a\u5bf9\u5df2\u6210\u529f\u63a5\u53d7\u7684\u53c2\u6570\u53d8\u66f4\u505a\u51fa\u54cd\u5e94\u3002</li> </ol> <p>ROS 2 \u793a\u4f8b\u5305\u4e2d\u63d0\u4f9b\u4e86\u4e0a\u8ff0\u6240\u6709\u56de\u8c03\u7684\u4f7f\u7528\u793a\u4f8b\u3002</p>"},{"location":"ros2/Concepts/basic/Parameters/#_7","title":"\u4e0e\u53c2\u6570\u4ea4\u4e92","text":"<p>ROS 2 \u8282\u70b9\u53ef\u901a\u8fc7\u8282\u70b9 API \u6267\u884c\u53c2\u6570\u64cd\u4f5c\uff08\u53c2\u89c1 C++/Python \u6559\u7a0b\uff09\u3002 \u5916\u90e8\u8fdb\u7a0b\u5219\u53ef\u901a\u8fc7\u8282\u70b9\u5b9e\u4f8b\u5316\u65f6\u9ed8\u8ba4\u521b\u5efa\u7684\u53c2\u6570\u670d\u52a1\u8fdb\u884c\u64cd\u4f5c\u3002\u8fd9\u4e9b\u670d\u52a1\u5305\u62ec\uff1a</p> <ul> <li> <p><code>/node_name/describe_parameters</code>   \u670d\u52a1\u7c7b\u578b\uff1a<code>rcl_interfaces/srv/DescribeParameters</code>   \u8f93\u5165\u53c2\u6570\u540d\u5217\u8868\uff0c\u8fd4\u56de\u5bf9\u5e94\u7684\u63cf\u8ff0\u7b26\u5217\u8868\u3002</p> </li> <li> <p><code>/node_name/get_parameter_types</code>   \u670d\u52a1\u7c7b\u578b\uff1a<code>rcl_interfaces/srv/GetParameterTypes</code>   \u8f93\u5165\u53c2\u6570\u540d\u5217\u8868\uff0c\u8fd4\u56de\u5bf9\u5e94\u7684\u53c2\u6570\u7c7b\u578b\u5217\u8868\u3002</p> </li> <li> <p><code>/node_name/get_parameters</code>   \u670d\u52a1\u7c7b\u578b\uff1a<code>rcl_interfaces/srv/GetParameters</code>   \u8f93\u5165\u53c2\u6570\u540d\u5217\u8868\uff0c\u8fd4\u56de\u5bf9\u5e94\u7684\u53c2\u6570\u503c\u5217\u8868\u3002</p> </li> <li> <p><code>/node_name/list_parameters</code>   \u670d\u52a1\u7c7b\u578b\uff1a<code>rcl_interfaces/srv/ListParameters</code>   \u8f93\u5165\u53ef\u9009\u7684\u53c2\u6570\u524d\u7f00\u5217\u8868\uff0c\u8fd4\u56de\u5339\u914d\u7684\u53c2\u6570\u540d\uff1b\u82e5\u524d\u7f00\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56de\u6240\u6709\u53c2\u6570\u3002</p> </li> <li> <p><code>/node_name/set_parameters</code>   \u670d\u52a1\u7c7b\u578b\uff1a<code>rcl_interfaces/srv/SetParameters</code>   \u8f93\u5165\u53c2\u6570\u540d\u548c\u503c\u5217\u8868\uff0c\u5c1d\u8bd5\u8bbe\u7f6e\u53c2\u6570\u3002\u8fd4\u56de\u6bcf\u4e2a\u53c2\u6570\u7684\u8bbe\u7f6e\u7ed3\u679c\uff08\u90e8\u5206\u6210\u529f\u3001\u90e8\u5206\u5931\u8d25\uff09\u3002</p> </li> <li> <p><code>/node_name/set_parameters_atomically</code>   \u670d\u52a1\u7c7b\u578b\uff1a<code>rcl_interfaces/srv/SetParametersAtomically</code>   \u8f93\u5165\u53c2\u6570\u540d\u548c\u503c\u5217\u8868\uff0c\u5c1d\u8bd5\u8bbe\u7f6e\u53c2\u6570\u3002\u8fd4\u56de\u5355\u4e00\u7ed3\u679c\uff1a\u4efb\u4e00\u53c2\u6570\u5931\u8d25\u5219\u5168\u90e8\u5931\u8d25\u3002</p> </li> </ul>"},{"location":"ros2/Concepts/basic/Parameters/#_8","title":"\u8fd0\u884c\u8282\u70b9\u65f6\u8bbe\u7f6e\u521d\u59cb\u53c2\u6570\u503c","text":"<p>\u8fd0\u884c\u8282\u70b9\u65f6\uff0c\u53ef\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u6216YAML \u6587\u4ef6\u8bbe\u7f6e\u521d\u59cb\u53c2\u6570\u503c\u3002 \u793a\u4f8b\u8bf7\u53c2\u9605\uff1a\u4ece\u547d\u4ee4\u884c\u76f4\u63a5\u8bbe\u7f6e\u53c2\u6570\u3002</p>"},{"location":"ros2/Concepts/basic/Parameters/#_9","title":"\u542f\u52a8\u8282\u70b9\u65f6\u8bbe\u7f6e\u521d\u59cb\u53c2\u6570\u503c","text":"<p>\u4e5f\u53ef\u901a\u8fc7 ROS 2 \u7684 launch \u673a\u5236\u5728\u542f\u52a8\u8282\u70b9\u65f6\u8bbe\u7f6e\u521d\u59cb\u53c2\u6570\u503c\u3002 \u8be6\u60c5\u8bf7\u53c2\u9605\uff1a\u901a\u8fc7 launch \u6307\u5b9a\u53c2\u6570\u3002</p>"},{"location":"ros2/Concepts/basic/Parameters/#_10","title":"\u5728\u8fd0\u884c\u65f6\u64cd\u4f5c\u53c2\u6570\u503c","text":"<p><code>ros2 param</code> \u547d\u4ee4\u662f\u4e0e\u5df2\u8fd0\u884c\u8282\u70b9\u7684\u53c2\u6570\u4ea4\u4e92\u7684\u901a\u7528\u65b9\u5f0f\u3002 \u5b83\u4f7f\u7528\u4e0a\u8ff0\u53c2\u6570\u670d\u52a1 API \u6267\u884c\u5404\u79cd\u64cd\u4f5c\u3002 \u4f7f\u7528\u8be6\u60c5\u8bf7\u53c2\u9605\uff1a<code>ros2 param</code> \u4f7f\u7528\u6307\u5357\u3002</p>"},{"location":"ros2/Concepts/basic/Parameters/#ros-1","title":"\u4ece ROS 1 \u8fc1\u79fb","text":"<ul> <li>Launch \u6587\u4ef6\u8fc1\u79fb\u6307\u5357 \u8bf4\u660e\u4e86\u5982\u4f55\u5c06 ROS 1 \u4e2d\u7684 <code>&lt;param&gt;</code> \u548c <code>&lt;rosparam&gt;</code> \u6807\u7b7e\u8fc1\u79fb\u5230 ROS 2\u3002</li> <li>\u8fc1\u79fb\u6307\u5357 \u8bf4\u660e\u4e86\u5982\u4f55\u5c06 ROS 1 \u7684\u53c2\u6570\u673a\u5236\u8fc1\u79fb\u5230 ROS 2\u3002</li> </ul>"},{"location":"ros2/Concepts/basic/Services/","title":"\u670d\u52a1","text":""},{"location":"ros2/Concepts/basic/Services/#service-client","title":"\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\uff08Service &amp; client\uff09","text":"<p>\u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef\u662f\u4e00\u4e2a\u8bf7\u6c42\u8fdc\u7a0b\u670d\u52a1\u7aef\u4ee3\u5176\u6267\u884c\u8ba1\u7b97\u7684\u5b9e\u4f53\u3002\u63a5\u7eed\u4e0a\u8ff0\u793a\u4f8b\uff0c\u670d\u52a1\u5ba2\u6237\u7aef\u5c31\u662f\u521b\u5efa\u5305\u542b <code>a</code> \u548c <code>b</code> \u7684\u521d\u59cb\u8bf7\u6c42\u6d88\u606f\uff0c\u5e76\u7b49\u5f85\u670d\u52a1\u7aef\u8ba1\u7b97\u51fa\u7ed3\u679c\u5e76\u8fd4\u56de <code>sum</code> \u7684\u90a3\u4e2a\u5b9e\u4f53\u3002</p> <p>\u4e0e\u670d\u52a1\u7aef\u4e0d\u540c\uff0c\u53ef\u4ee5\u6709\u4efb\u610f\u6570\u91cf\u7684\u670d\u52a1\u5ba2\u6237\u7aef\u4f7f\u7528\u540c\u4e00\u4e2a\u670d\u52a1\u540d\u79f0\u3002</p>"},{"location":"ros2/Concepts/basic/Topics/","title":"\u8bdd\u9898","text":""},{"location":"ros2/Concepts/basic/Topics/#topics","title":"\u8bdd\u9898\uff08Topics\uff09","text":""},{"location":"ros2/Concepts/basic/Topics/#_1","title":"\u76ee\u5f55","text":"<ul> <li>\u53d1\u5e03/\u8ba2\u9605\uff08Publish/Subscribe\uff09  </li> <li>\u533f\u540d\u6027\uff08Anonymous\uff09  </li> <li>\u5f3a\u7c7b\u578b\uff08Strongly-typed\uff09  </li> </ul> <p>\u8bdd\u9898\u662f ROS 2 \u63d0\u4f9b\u7684\u4e09\u79cd\u4e3b\u8981\u63a5\u53e3\u98ce\u683c\u4e4b\u4e00\u3002\u8bdd\u9898\u9002\u7528\u4e8e\u8fde\u7eed\u6570\u636e\u6d41\uff0c\u4f8b\u5982\u4f20\u611f\u5668\u6570\u636e\u3001\u673a\u5668\u4eba\u72b6\u6001\u7b49\u3002</p> <p>\u5982\u524d\u6240\u8ff0\uff0cROS 2 \u662f\u4e00\u4e2a\u5f3a\u7c7b\u578b\u3001\u533f\u540d\u7684\u53d1\u5e03/\u8ba2\u9605\u7cfb\u7edf\u3002\u4e0b\u9762\u6211\u4eec\u5c06\u9010\u53e5\u62c6\u89e3\u5e76\u8fdb\u4e00\u6b65\u89e3\u91ca\u8fd9\u53e5\u8bdd\u7684\u542b\u4e49\u3002</p>"},{"location":"ros2/Concepts/basic/Topics/#publishsubscribe","title":"\u53d1\u5e03/\u8ba2\u9605\uff08Publish/Subscribe\uff09","text":"<p>\u53d1\u5e03/\u8ba2\u9605\u7cfb\u7edf\u5305\u542b\u4e24\u7c7b\u5b9e\u4f53\uff1a\u6570\u636e\u751f\u4ea7\u8005\uff08\u53d1\u5e03\u8005\uff0cpublishers\uff09\u548c\u6570\u636e\u6d88\u8d39\u8005\uff08\u8ba2\u9605\u8005\uff0csubscribers\uff09\u3002\u5b83\u4eec\u901a\u8fc7\u201c\u8bdd\u9898\u201d\uff08topic\uff09\u8fd9\u4e00\u6982\u5ff5\u76f8\u4e92\u8054\u7cfb\u2014\u2014\u8bdd\u9898\u662f\u4e00\u4e2a\u516c\u5171\u540d\u79f0\uff0c\u4f7f\u5404\u65b9\u80fd\u591f\u76f8\u4e92\u53d1\u73b0\u3002</p> <p>\u4f8b\u5982\uff1a - \u521b\u5efa\u53d1\u5e03\u8005\u65f6\uff0c\u5fc5\u987b\u4e3a\u5176\u6307\u5b9a\u4e00\u4e2a\u8bdd\u9898\u540d\u79f0\uff08\u5b57\u7b26\u4e32\uff09 - \u521b\u5efa\u8ba2\u9605\u8005\u65f6\uff0c\u540c\u6837\u9700\u8981\u6307\u5b9a\u8981\u8ba2\u9605\u7684\u8bdd\u9898\u540d\u79f0</p> <p>\u6240\u6709\u4f7f\u7528\u76f8\u540c\u8bdd\u9898\u540d\u79f0\u7684\u53d1\u5e03\u8005\u548c\u8ba2\u9605\u8005\u53ef\u4ee5\u76f4\u63a5\u901a\u4fe1\u3002 \u4efb\u610f\u8bdd\u9898\u4e0a\u53ef\u4ee5\u6709\uff1a - \u96f6\u4e2a\u6216\u591a\u4e2a\u53d1\u5e03\u8005 - \u96f6\u4e2a\u6216\u591a\u4e2a\u8ba2\u9605\u8005</p> <p>\u5f53\u4efb\u610f\u53d1\u5e03\u8005\u5411\u8be5\u8bdd\u9898\u53d1\u5e03\u6570\u636e\u65f6\uff0c\u7cfb\u7edf\u4e2d\u6240\u6709\u8ba2\u9605\u8005\u90fd\u4f1a\u6536\u5230\u8be5\u6570\u636e\u3002</p> <p>\u8fd9\u79cd\u673a\u5236\u4e5f\u88ab\u79f0\u4e3a\u201c\u603b\u7ebf\u201d\uff08bus\uff09\uff0c\u56e0\u4e3a\u5b83\u7c7b\u4f3c\u4e8e\u7535\u5b50\u5de5\u7a0b\u4e2d\u7684\u8bbe\u5907\u603b\u7ebf\u3002 \u6b63\u662f\u8fd9\u79cd\u201c\u603b\u7ebf\u201d\u6982\u5ff5\u4f7f ROS 2 \u6210\u4e3a\u4e00\u4e2a\u5f3a\u5927\u4e14\u7075\u6d3b\u7684\u7cfb\u7edf\uff1a - \u53d1\u5e03\u8005\u548c\u8ba2\u9605\u8005\u53ef\u4ee5\u6309\u9700\u52a8\u6001\u52a0\u5165\u6216\u9000\u51fa - \u8c03\u8bd5\u548c\u5185\u7701\uff08introspection\uff09\u6210\u4e3a\u7cfb\u7edf\u7684\u81ea\u7136\u5ef6\u4f38</p> <p>\u4f8b\u5982\uff0c\u82e5\u8981\u8bb0\u5f55\u6570\u636e\uff0c\u53ef\u4f7f\u7528\uff1a </p><pre><code>ros2 bag record &lt;topic_name&gt;\n</code></pre> \u5176\u5e95\u5c42\u539f\u7406\u662f\uff1a<code>ros2 bag record</code> \u4f1a\u4e3a\u6307\u5b9a\u8bdd\u9898\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8ba2\u9605\u8005\uff0c\u800c\u4e0d\u4f1a\u4e2d\u65ad\u6570\u636e\u6d41\u5411\u7cfb\u7edf\u7684\u5176\u4ed6\u90e8\u5206\u3002<p></p>"},{"location":"ros2/Concepts/basic/Topics/#anonymous","title":"\u533f\u540d\u6027\uff08Anonymous\uff09","text":"<p>ROS 2 \u7684\u53e6\u4e00\u4e2a\u7279\u70b9\u662f\u201c\u533f\u540d\u6027\u201d\u3002 \u8fd9\u610f\u5473\u7740\uff1a\u5f53\u8ba2\u9605\u8005\u6536\u5230\u4e00\u6761\u6570\u636e\u65f6\uff0c\u5b83\u901a\u5e38\u4e0d\u77e5\u9053\u4e5f\u4e0d\u5173\u5fc3\u8be5\u6570\u636e\u6700\u521d\u662f\u7531\u54ea\u4e2a\u53d1\u5e03\u8005\u53d1\u9001\u7684\uff08\u5c3d\u7ba1\u5b83\u53ef\u4ee5\u6839\u636e\u9700\u8981\u67e5\u8be2\u6765\u6e90\uff09\u3002</p> <p>\u8fd9\u79cd\u67b6\u6784\u7684\u4f18\u52bf\u5728\u4e8e\uff1a - \u53d1\u5e03\u8005\u548c\u8ba2\u9605\u8005\u53ef\u4ee5\u968f\u65f6\u66ff\u6362\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u7cfb\u7edf\u5176\u4f59\u90e8\u5206</p>"},{"location":"ros2/Concepts/basic/Topics/#strongly-typed","title":"\u5f3a\u7c7b\u578b\uff08Strongly-typed\uff09","text":"<p>\u6700\u540e\uff0cROS 2 \u7684\u53d1\u5e03/\u8ba2\u9605\u7cfb\u7edf\u662f\u201c\u5f3a\u7c7b\u578b\u201d\u7684\uff0c\u8fd9\u5728\u6b64\u4e0a\u4e0b\u6587\u4e2d\u6709\u4e24\u5c42\u542b\u4e49\uff1a</p>"},{"location":"ros2/Concepts/basic/Topics/#1","title":"1. \u5b57\u6bb5\u7c7b\u578b\u4e25\u683c\u5b9a\u4e49","text":"<p>ROS \u6d88\u606f\u4e2d\u6bcf\u4e2a\u5b57\u6bb5\u7684\u7c7b\u578b\u90fd\u662f\u660e\u786e\u7684\uff0c\u5e76\u5728\u591a\u4e2a\u5c42\u9762\u5f3a\u5236\u6267\u884c\u3002 \u4f8b\u5982\uff0c\u82e5\u67d0 ROS \u6d88\u606f\u5305\u542b\uff1a </p><pre><code>uint32 field1\nstring field2\n</code></pre> \u5219\u7cfb\u7edf\u4ee3\u7801\u4f1a\u786e\u4fdd\uff1a - <code>field1</code> \u59cb\u7ec8\u4e3a\u65e0\u7b26\u53f7\u6574\u6570 - <code>field2</code> \u59cb\u7ec8\u4e3a\u5b57\u7b26\u4e32<p></p>"},{"location":"ros2/Concepts/basic/Topics/#2","title":"2. \u5b57\u6bb5\u8bed\u4e49\u660e\u786e","text":"<p>\u6bcf\u4e2a\u5b57\u6bb5\u7684\u8bed\u4e49\u542b\u4e49\u6709\u660e\u786e\u5b9a\u4e49\uff08\u5c3d\u7ba1\u6ca1\u6709\u81ea\u52a8\u5316\u673a\u5236\u5f3a\u5236\u8bed\u4e49\u6b63\u786e\u6027\uff09\u3002 \u6240\u6709\u6838\u5fc3 ROS \u7c7b\u578b\u90fd\u5177\u6709\u6e05\u6670\u7684\u8bed\u4e49\u7ea6\u5b9a\u3002  </p> <p>\u4f8b\u5982\uff1a - <code>IMU</code> \u6d88\u606f\u4e2d\u5305\u542b\u4e00\u4e2a\u4e09\u7ef4\u5411\u91cf\u8868\u793a\u89d2\u901f\u5ea6 - \u6bcf\u4e2a\u7ef4\u5ea6\u90fd\u660e\u786e\u89c4\u5b9a\u5355\u4f4d\u4e3a \u5f27\u5ea6/\u79d2\uff08radians/second\uff09 - \u4e0d\u5e94\u5c06\u5176\u4ed6\u542b\u4e49\u6216\u5355\u4f4d\u586b\u5165\u8be5\u5b57\u6bb5</p>"},{"location":"ros2/Concepts/basic/basic/","title":"\u6982\u89c8","text":""},{"location":"ros2/Concepts/basic/basic/#_1","title":"\u57fa\u7840\u6982\u5ff5","text":"<p>ROS 2 \u662f\u4e00\u79cd\u57fa\u4e8e\u5f3a\u7c7b\u578b\u3001\u533f\u540d\u53d1\u5e03/\u8ba2\u9605\u673a\u5236\u7684\u4e2d\u95f4\u4ef6\uff0c\u5141\u8bb8\u5728\u4e0d\u540c\u8fdb\u7a0b\u4e4b\u95f4\u4f20\u9012\u6d88\u606f\u3002</p> <p>\u4efb\u4f55 ROS 2 \u7cfb\u7edf\u7684\u6838\u5fc3\u662f ROS \u56fe\u3002ROS \u56fe\u6307\u7684\u662f ROS \u7cfb\u7edf\u4e2d\u8282\u70b9\u7684\u7f51\u7edc\u4ee5\u53ca\u5b83\u4eec\u4e4b\u95f4\u7528\u4e8e\u901a\u4fe1\u7684\u8fde\u63a5\u3002</p> <p>\u8fd9\u4e9b\u6982\u5ff5\u5c06\u5e2e\u52a9\u60a8\u5f00\u59cb\u4e86\u89e3 ROS \u7684\u57fa\u7840\u77e5\u8bc6</p>"},{"location":"ros2/Concepts/intermediate/Composition/","title":"\u7ec4\u4ef6","text":""},{"location":"ros2/Concepts/intermediate/Composition/#_1","title":"\u7ec4\u4ef6","text":""},{"location":"ros2/Concepts/intermediate/Composition/#_2","title":"\u76ee\u5f55","text":"<ul> <li>ROS 1 - \u8282\u70b9\u4e0e\u8282\u70b9\u96c6</li> <li>ROS 2 - \u7edf\u4e00API</li> <li>\u7ec4\u4ef6\u5bb9\u5668</li> <li>\u7f16\u5199\u7ec4\u4ef6</li> <li>CMake\u6ce8\u518c\u5b8f</li> <li>rclcpp_components_register_node</li> <li>rclcpp_components_register_nodes</li> <li>\u4f7f\u7528\u7ec4\u4ef6</li> <li>\u5b9e\u9645\u5e94\u7528</li> </ul>"},{"location":"ros2/Concepts/intermediate/Composition/#ros-1-","title":"ROS 1 - \u8282\u70b9\u4e0e\u8282\u70b9\u96c6","text":"<p>\u5728ROS 1\u4e2d\uff0c\u60a8\u53ef\u4ee5\u5c06\u4ee3\u7801\u7f16\u5199\u4e3aROS\u8282\u70b9\u6216ROS\u8282\u70b9\u96c6\u3002ROS 1\u8282\u70b9\u88ab\u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002\u800cROS 1\u8282\u70b9\u96c6\u5219\u88ab\u7f16\u8bd1\u6210\u5171\u4eab\u5e93\uff0c\u5e76\u5728\u8fd0\u884c\u65f6\u7531\u5bb9\u5668\u8fdb\u7a0b\u52a0\u8f7d\u3002</p>"},{"location":"ros2/Concepts/intermediate/Composition/#ros-2-api","title":"ROS 2 - \u7edf\u4e00API","text":"<p>\u5728ROS 2\u4e2d\uff0c\u63a8\u8350\u7684\u7f16\u5199\u4ee3\u7801\u65b9\u5f0f\u7c7b\u4f3c\u4e8e\u8282\u70b9\u96c6\u2014\u2014\u6211\u4eec\u79f0\u4e4b\u4e3a\u7ec4\u4ef6\u3002\u8fd9\u4f7f\u5f97\u5411\u73b0\u6709\u4ee3\u7801\u6dfb\u52a0\u5e38\u89c1\u7684\u6982\u5ff5\uff08\u5982\u751f\u547d\u5468\u671f\uff09\u53d8\u5f97\u5bb9\u6613\uff0c\u5e76\u4e14\u907f\u514d\u4e86ROS 1\u4e2d\u7684\u4e0d\u540cAPI\u8fd9\u4e00\u6700\u5927\u7f3a\u70b9\uff0c\u56e0\u4e3a\u8fd9\u4e24\u79cd\u65b9\u6cd5\u4f7f\u7528\u76f8\u540c\u7684API\u3002</p> <p>\u6ce8\u610f</p> <p>\u4ecd\u53ef\u4ee5\u9009\u62e9\u7c7b\u4f3c\u201c\u81ea\u5df1\u7f16\u5199\u4e3b\u51fd\u6570\u201d\u7684\u8282\u70b9\u6837\u5f0f\u7684\u7f16\u5199\u65b9\u5f0f\uff0c\u4f46\u5bf9\u4e8e\u5e38\u89c1\u60c5\u51b5\uff0c\u4e0d\u63a8\u8350\u8fd9\u6837\u505a\u3002</p> <p>\u901a\u8fc7\u5c06\u8fdb\u7a0b\u5e03\u5c40\u4f5c\u4e3a\u90e8\u7f72\u65f6\u95f4\u7684\u51b3\u7b56\uff0c\u7528\u6237\u53ef\u4ee5\u9009\u62e9\uff1a</p> <ul> <li>\u5728\u5355\u72ec\u7684\u8fdb\u7a0b\u4e2d\u8fd0\u884c\u591a\u4e2a\u8282\u70b9\uff0c\u4ee5\u83b7\u5f97\u8fdb\u7a0b/\u6545\u969c\u9694\u79bb\u7684\u597d\u5904\uff0c\u8fd8\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u8c03\u8bd5\u5404\u4e2a\u8282\u70b9\u3002</li> <li>\u5728\u5355\u4e2a\u8fdb\u7a0b\u4e2d\u8fd0\u884c\u591a\u4e2a\u8282\u70b9\uff0c\u4ee5\u83b7\u5f97\u8f83\u4f4e\u7684\u5f00\u9500\u548c\u53ef\u9009\u7684\u66f4\u9ad8\u6548\u901a\u4fe1\uff08\u53c2\u89c1\u8fdb\u7a0b\u5185\u901a\u4fe1\uff09\u3002</li> </ul> <p>\u6b64\u5916\uff0c\u53ef\u4ee5\u4f7f\u7528ros2 launch\u901a\u8fc7\u4e13\u7528\u7684\u542f\u52a8\u64cd\u4f5c\u81ea\u52a8\u5316\u8fd9\u4e9b\u64cd\u4f5c\u3002</p>"},{"location":"ros2/Concepts/intermediate/Composition/#_3","title":"\u7ec4\u4ef6\u5bb9\u5668","text":"<p>\u7ec4\u4ef6\u5bb9\u5668\u662f\u4e00\u4e2a\u4e3b\u673a\u8fdb\u7a0b\uff0c\u5728\u540c\u4e00\u8fdb\u7a0b\u7a7a\u95f4\u4e2d\u5141\u8bb8\u5728\u8fd0\u884c\u65f6\u52a0\u8f7d\u548c\u7ba1\u7406\u591a\u4e2a\u7ec4\u4ef6\u3002</p> <p>\u76ee\u524d\u53ef\u7528\u7684\u901a\u7528\u7ec4\u4ef6\u5bb9\u5668\u7c7b\u578b\u5305\u62ec\uff1a</p> <ul> <li>component_container\uff1a\u4f7f\u7528\u5355\u4e00<code>SingleThreadedExecutor</code>\u6267\u884c\u6240\u6709\u7ec4\u4ef6\u3002</li> </ul> \u70b9\u51fb\u67e5\u770b\u4ee3\u7801 <pre><code>```cpp\n#include &lt;memory&gt;\n\n#include \"rclcpp/rclcpp.hpp\"\n\n#include \"rclcpp_components/component_manager.hpp\"\n\nint main(int argc, char * argv[])\n{\n/// Component container with a single-threaded executor.\nrclcpp::init(argc, argv);\nauto exec = std::make_shared&lt;rclcpp::executors::SingleThreadedExecutor&gt;();\nauto node = std::make_shared&lt;rclcpp_components::ComponentManager&gt;(exec);\nexec-&gt;add_node(node);\nexec-&gt;spin();\n}\n```\n</code></pre> <ul> <li>component_container_mt\uff1a\u4f7f\u7528\u5355\u4e00<code>MultiThreadedExecutor</code>\u6267\u884c\u7ec4\u4ef6\u3002</li> </ul> \u70b9\u51fb\u67e5\u770b\u4ee3\u7801 <pre><code>```cpp\n#include &lt;memory&gt;\n\n#include \"rclcpp/rclcpp.hpp\"\n\n#include \"rclcpp_components/component_manager.hpp\"\n\nint main(int argc, char * argv[])\n{\n/// Component container with a multi-threaded executor.\nrclcpp::init(argc, argv);\n\nauto exec = std::make_shared&lt;rclcpp::executors::MultiThreadedExecutor&gt;();\nauto node = std::make_shared&lt;rclcpp_components::ComponentManager&gt;();\nif (node-&gt;has_parameter(\"thread_num\")) {\n    const auto thread_num = node-&gt;get_parameter(\"thread_num\").as_int();\n    exec = std::make_shared&lt;rclcpp::executors::MultiThreadedExecutor&gt;(\n    rclcpp::ExecutorOptions{}, thread_num);\n    node-&gt;set_executor(exec);\n} else {\n    node-&gt;set_executor(exec);\n}\nexec-&gt;add_node(node);\nexec-&gt;spin();\n}\n```\n</code></pre> <ul> <li>component_container_isolated\uff1a\u4e3a\u6bcf\u4e2a\u7ec4\u4ef6\u4f7f\u7528\u4e13\u7528\u7684executor\uff0c\u53ef\u4ee5\u662f<code>SingleThreadedExecutor</code>\uff08\u9ed8\u8ba4\uff09\u6216<code>MultiThreadedExecutor</code>\u3002</li> </ul> \u70b9\u51fb\u67e5\u770b\u4ee3\u7801 <pre><code>```cpp\n#include &lt;memory&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n\n#include \"rclcpp/rclcpp.hpp\"\n#include \"rclcpp/utilities.hpp\"\n#include \"rclcpp_components/component_manager_isolated.hpp\"\n\nint main(int argc, char * argv[])\n{\n/// Component container with dedicated single-threaded executors for each components.\nrclcpp::init(argc, argv);\n// parse arguments\nbool use_multi_threaded_executor{false};\nstd::vector&lt;std::string&gt; args = rclcpp::remove_ros_arguments(argc, argv);\nfor (auto &amp; arg : args) {\n    if (arg == std::string(\"--use_multi_threaded_executor\")) {\n    use_multi_threaded_executor = true;\n    }\n}\n// create executor and component manager\nauto exec = std::make_shared&lt;rclcpp::executors::SingleThreadedExecutor&gt;();\nrclcpp::Node::SharedPtr node;\nif (use_multi_threaded_executor) {\n    using ComponentManagerIsolated =\n    rclcpp_components::ComponentManagerIsolated&lt;rclcpp::executors::MultiThreadedExecutor&gt;;\n    node = std::make_shared&lt;ComponentManagerIsolated&gt;(exec);\n} else {\n    using ComponentManagerIsolated =\n    rclcpp_components::ComponentManagerIsolated&lt;rclcpp::executors::SingleThreadedExecutor&gt;;\n    node = std::make_shared&lt;ComponentManagerIsolated&gt;(exec);\n}\nexec-&gt;add_node(node);\nexec-&gt;spin();\n}\n```\n</code></pre> <p>\u6709\u5173executor\u7c7b\u578b\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605Executor\u7c7b\u578b\u3002\u6709\u5173\u6bcf\u4e2a\u7ec4\u4ef6\u5bb9\u5668\u7684\u9009\u9879\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u7ec4\u5408\u6559\u7a0b\u4e2d\u7684\u7ec4\u4ef6\u5bb9\u5668\u7c7b\u578b\u3002</p>"},{"location":"ros2/Concepts/intermediate/Composition/#_4","title":"\u7f16\u5199\u7ec4\u4ef6","text":"<p>\u7531\u4e8e\u7ec4\u4ef6\u4ec5\u6784\u5efa\u4e3a\u5171\u4eab\u5e93\uff0c\u56e0\u6b64\u6ca1\u6709main\u51fd\u6570\uff08\u53c2\u9605Talker\u6e90\u4ee3\u7801\uff09\u3002\u7ec4\u4ef6\u901a\u5e38\u662f<code>rclcpp::Node</code>\u7684\u5b50\u7c7b\u3002\u7531\u4e8e\u65e0\u6cd5\u63a7\u5236\u7ebf\u7a0b\uff0c\u5b83\u4e0d\u5e94\u8be5\u5728\u5176\u6784\u9020\u51fd\u6570\u4e2d\u6267\u884c\u957f\u65f6\u95f4\u8fd0\u884c\u6216\u963b\u585e\u7684\u4efb\u52a1\u3002\u76f8\u53cd\uff0c\u5b83\u53ef\u4ee5\u4f7f\u7528\u5b9a\u65f6\u5668\u6765\u83b7\u53d6\u5468\u671f\u6027\u901a\u77e5\u3002\u6b64\u5916\uff0c\u5b83\u53ef\u4ee5\u521b\u5efa\u53d1\u5e03\u8005\u3001\u8ba2\u9605\u8005\u3001\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u3002</p> <p>\u4f7f\u6b64\u7c7b\u6210\u4e3a\u7ec4\u4ef6\u7684\u4e00\u4e2a\u91cd\u8981\u56e0\u7d20\u662f\uff0c\u8be5\u7c7b\u4f7f\u7528<code>rclcpp_components</code>\u5305\u4e2d\u7684\u5b8f\u8fdb\u884c\u6ce8\u518c\uff08\u53c2\u89c1\u6e90\u4ee3\u7801\u7684\u6700\u540e\u4e00\u884c\uff09\u3002\u8fd9\u4f7f\u5176\u5728\u52a0\u8f7d\u5176\u5e93\u5230\u6b63\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b\u65f6\u53ef\u4ee5\u88ab\u53d1\u73b0\u2014\u2014\u5b83\u5145\u5f53\u67d0\u79cd\u5165\u53e3\u70b9\u3002</p> <p>\u6b64\u5916\uff0c\u4e00\u65e6\u521b\u5efa\u7ec4\u4ef6\uff0c\u5fc5\u987b\u5c06\u5176\u6ce8\u518c\u5230\u7d22\u5f15\u4e2d\u4ee5\u4fbf\u5de5\u5177\u80fd\u591f\u53d1\u73b0\u5b83\u3002</p> <pre><code>add_library(talker_component SHARED src/talker_component.cpp)\nrclcpp_components_register_nodes(talker_component \"composition::Talker\")\n# \u5728\u540c\u4e00\u5171\u4eab\u5e93\u4e2d\u6ce8\u518c\u591a\u4e2a\u7ec4\u4ef6\u65f6\uff0c\u4f7f\u7528\u591a\u6b21\u8c03\u7528\n# rclcpp_components_register_nodes(talker_component \"composition::Talker2\")\n</code></pre> <p>\u6709\u5173\u793a\u4f8b\uff0c\u8bf7\u53c2\u9605\u6b64\u6559\u7a0b\u3002</p> <p>\u6ce8\u610f</p> <p>\u4e3a\u4e86\u4f7fcomponent_container\u80fd\u591f\u627e\u5230\u6240\u9700\u7684\u7ec4\u4ef6\uff0c\u5fc5\u987b\u4ece\u5df2\u6e90\u5316\u76f8\u5e94\u5de5\u4f5c\u533a\u7684shell\u4e2d\u6267\u884c\u6216\u542f\u52a8\u5b83\u3002</p>"},{"location":"ros2/Concepts/intermediate/Composition/#cmake","title":"CMake\u6ce8\u518c\u5b8f","text":"<p>ROS 2\u63d0\u4f9b\u4e86\u4e24\u4e2aCMake\u5b8f\u6765\u6ce8\u518c\u7ec4\u4ef6\uff0c\u6bcf\u4e2a\u5b8f\u90fd\u6709\u4e0d\u540c\u7684\u7528\u9014\uff1a</p>"},{"location":"ros2/Concepts/intermediate/Composition/#rclcpp_components_register_node","title":"rclcpp_components_register_node","text":"<p>\u6b64\u5b8f\u6ce8\u518c\u4e00\u4e2a\u7ec4\u4ef6\u5e76\u751f\u6210\u72ec\u7acb\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u5f53\u60a8\u5e0c\u671b\u540c\u65f6\u5177\u6709\u7ec4\u5408\u6027\u548c\u80fd\u591f\u5728\u72ec\u7acb\u8fdb\u7a0b\u4e2d\u8fd0\u884c\u8282\u70b9\u7684\u80fd\u529b\u65f6\u4f7f\u7528\u6b64\u5b8f\u3002</p> <pre><code>add_library(talker_component SHARED src/talker_component.cpp)\nrclcpp_components_register_node(talker_component\n  PLUGIN \"composition::Talker\"\n  EXECUTABLE talker)\n</code></pre>"},{"location":"ros2/Concepts/intermediate/Composition/#rclcpp_components_register_nodes","title":"rclcpp_components_register_nodes","text":"<p>\u6b64\u5b8f\u6ce8\u518c\u4e00\u4e2a\u6216\u591a\u4e2a\u7ec4\u4ef6\u4ee5\u8fdb\u884c\u8fd0\u884c\u65f6\u7ec4\u5408\uff0c\u800c\u4e0d\u751f\u6210\u72ec\u7acb\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u5f53\u60a8\u5e0c\u671b\u5728\u8fd0\u884c\u65f6\u52a0\u8f7d\u5230\u7ec4\u4ef6\u5bb9\u5668\u7684\u7eaf\u7ec4\u4ef6\u5e93\u65f6\u4f7f\u7528\u6b64\u5b8f\u3002</p> <pre><code>add_library(talker_component SHARED src/talker_component.cpp)\nrclcpp_components_register_nodes(talker_component \"composition::Talker\")\n</code></pre>"},{"location":"ros2/Concepts/intermediate/Composition/#_5","title":"\u4f7f\u7528\u7ec4\u4ef6","text":"<p>\u7ec4\u4ef6\u5305\u5305\u542b\u51e0\u79cd\u4e0d\u540c\u65b9\u6cd5\u6765\u4f7f\u7528\u7ec4\u4ef6\u3002\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u6709\u4ee5\u4e0b\u4e09\u79cd\uff1a</p> <ul> <li> <p>\u542f\u52a8\uff08\u901a\u7528\u5bb9\u5668\u8fdb\u7a0b\uff09\uff0c\u5e76\u8c03\u7528\u5bb9\u5668\u63d0\u4f9b\u7684ROS\u670d\u52a1load_node\u3002\u8be5ROS\u670d\u52a1\u5c06\u52a0\u8f7d\u6307\u5b9a\u7684\u5e93\u540d\u548c\u5305\u540d\u7684\u7ec4\u4ef6\u5e76\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b\u4e2d\u5f00\u59cb\u6267\u884c\u5b83\u3002\u9664\u4e86\u7f16\u7a0b\u8c03\u7528ROS\u670d\u52a1\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u884c\u5de5\u5177\u901a\u8fc7\u4f20\u9012\u547d\u4ee4\u884c\u53c2\u6570\u6765\u8c03\u7528ROS\u670d\u52a1\u3002</p> </li> <li> <p>\u521b\u5efa\u4e00\u4e2a[\u81ea\u5b9a\u4e49\u53ef\u6267\u884c\u6587\u4ef6]\uff0c\u5176\u4e2d\u5305\u542b\u5728\u7f16\u8bd1\u65f6\u5df2\u77e5\u7684\u591a\u4e2a\u8282\u70b9\u3002\u9700\u8981\u4e3a\u6bcf\u4e2a\u7ec4\u4ef6\u63d0\u4f9b\u5934\u6587\u4ef6\uff08\u5bf9\u7b2c\u4e00\u79cd\u60c5\u51b5\u800c\u8a00\u4e25\u683c\u4e0a\u4e0d\u9700\u8981\uff09\u3002</p> </li> <li> <p>\u521b\u5efa\u4e00\u4e2alaunch\u6587\u4ef6\uff0c\u5e76\u4f7f\u7528<code>ros2 launch</code>\u6765\u521b\u5efa\u5305\u542b\u591a\u4e2a\u7ec4\u4ef6\u7684\u5bb9\u5668\u8fdb\u7a0b\u3002</p> </li> </ul>"},{"location":"ros2/Concepts/intermediate/Composition/#_6","title":"\u5b9e\u9645\u5e94\u7528","text":"<p>\u5c1d\u8bd5\u7ec4\u4ef6demos\u3002</p>"},{"location":"ros2/Concepts/intermediate/Cross-compilation/","title":"\u4ea4\u53c9\u7f16\u8bd1","text":""},{"location":"ros2/Concepts/intermediate/Cross-compilation/#_1","title":"\u8de8\u5e73\u53f0\u7f16\u8bd1","text":""},{"location":"ros2/Concepts/intermediate/Cross-compilation/#_2","title":"\u6982\u8ff0","text":"<p>Open Robotics \u63d0\u4f9b\u4e86\u9002\u7528\u4e8e\u591a\u4e2a\u5e73\u53f0\u7684\u9884\u6784\u5efa ROS 2 \u5305\uff0c\u4f46\u5f88\u591a\u5f00\u53d1\u8005\u4ecd\u7136\u4f9d\u8d56\u4e8e\u8de8\u5e73\u53f0\u7f16\u8bd1\uff0c\u539f\u56e0\u5982\u4e0b\uff1a - \u5f00\u53d1\u673a\u5668\u4e0e\u76ee\u6807\u7cfb\u7edf\u4e0d\u5339\u914d\u3002 - \u9488\u5bf9\u7279\u5b9a\u6838\u5fc3\u67b6\u6784\u8fdb\u884c\u6784\u5efa\u4f18\u5316\uff08\u4f8b\u5982\uff0c\u5728\u4e3a Raspberry Pi3 \u6784\u5efa\u65f6\u8bbe\u7f6e <code>-mcpu=cortex-a53 -mfpu=neon-fp-armv8</code>\uff09\u3002 - \u9488\u5bf9\u9664 Open Robotics \u53d1\u5e03\u7684\u9884\u6784\u5efa\u955c\u50cf\u652f\u6301\u4e4b\u5916\u7684\u6587\u4ef6\u7cfb\u7edf\u8fdb\u884c\u6784\u5efa\u3002</p>"},{"location":"ros2/Concepts/intermediate/Cross-compilation/#_3","title":"\u5982\u4f55\u5de5\u4f5c\uff1f","text":"<p>\u8de8\u7f16\u8bd1\u7b80\u5355\u7684\u8f6f\u4ef6\uff08\u4f8b\u5982\uff0c\u65e0\u9700\u5916\u90e8\u5e93\u7684\u4f9d\u8d56\uff09\u76f8\u5bf9\u7b80\u5355\uff0c\u53ea\u9700\u4f7f\u7528\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u4ee3\u66ff\u539f\u751f\u5de5\u5177\u94fe\u3002</p> <p>\u7136\u800c\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u56e0\u4e3a\u4ee5\u4e0b\u56e0\u7d20\u53d8\u5f97\u590d\u6742\uff1a - \u6b63\u5728\u6784\u5efa\u7684\u8f6f\u4ef6\u5fc5\u987b\u652f\u6301\u76ee\u6807\u67b6\u6784\u3002\u67b6\u6784\u7279\u5b9a\u4ee3\u7801\u5fc5\u987b\u9002\u5f53\u5730\u9694\u79bb\uff0c\u5e76\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u6839\u636e\u76ee\u6807\u67b6\u6784\u542f\u7528\u3002\u793a\u4f8b\u5305\u62ec\u6c47\u7f16\u4ee3\u7801\u3002 - \u6240\u6709\u4f9d\u8d56\u9879\uff08\u4f8b\u5982\uff0c\u5e93\uff09\u5fc5\u987b\u5b58\u5728\uff0c\u8981\u4e48\u4f5c\u4e3a\u9884\u6784\u5efa\u7684\u5305\uff0c\u8981\u4e48\u662f\u4ea4\u53c9\u7f16\u8bd1\u7684\u5305\uff0c\u8fd9\u8981\u5728\u4f7f\u7528\u5b83\u4eec\u7684\u76ee\u6807\u8f6f\u4ef6\u8fdb\u884c\u4ea4\u53c9\u7f16\u8bd1\u4e4b\u524d\u3002 - \u4f7f\u7528\u6784\u5efa\u5de5\u5177\uff08\u4f8b\u5982\uff0ccolcon\uff09\u6784\u5efa\u8f6f\u4ef6\u5806\u6808\uff08\u76f8\u5bf9\u4e8e\u72ec\u7acb\u8f6f\u4ef6\uff09\uff0c\u9884\u671f\u6784\u5efa\u5de5\u5177\u63d0\u4f9b\u673a\u5236\u4f7f\u5f00\u53d1\u4eba\u5458\u80fd\u591f\u542f\u7528\u6bcf\u4e2a\u8f6f\u4ef6\u6808\u6240\u4f7f\u7528\u7684\u57fa\u7840\u6784\u5efa\u7cfb\u7edf\u7684\u4ea4\u53c9\u7f16\u8bd1\u3002</p>"},{"location":"ros2/Concepts/intermediate/Cross-compilation/#_4","title":"\u66ff\u4ee3\u65b9\u6848","text":"<p>\u8de8\u7f16\u8bd1\u7684\u4e00\u4e2a\u66ff\u4ee3\u65b9\u6848\u662f\u4f7f\u7528 <code>docker buildx</code> \u6784\u5efa\u591a\u5e73\u53f0 Docker \u955c\u50cf\u3002</p>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/","title":"\u4e0d\u540c\u7684ROS2\u4e2d\u95f4\u4ef6","text":""},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#ros-2-different-ros-2-middleware-vendors","title":"\u4e0d\u540c\u7684 ROS 2 \u4e2d\u95f4\u4ef6\u4f9b\u5e94\u5546\uff08Different ROS 2 Middleware Vendors\uff09","text":""},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#_1","title":"\u6982\u8ff0","text":"<p>ROS 2 \u652f\u6301\u591a\u79cd\u4e2d\u95f4\u4ef6\u5b9e\u73b0\uff0c\u7528\u4e8e\u63d0\u4f9b\u53d1\u73b0\uff08discovery\uff09\u3001\u5e8f\u5217\u5316\uff08serialization\uff09\u548c\u4f20\u8f93\u901a\u4fe1\uff08transportation\uff09\u529f\u80fd\u3002 \u8fd9\u79cd\u7075\u6d3b\u6027\u6e90\u4e8e\u4e00\u4e2a\u57fa\u672c\u7406\u5ff5\uff1a\u4e2d\u95f4\u4ef6\u9009\u62e9\u5e76\u975e\u201c\u4e00\u5200\u5207\u201d\uff08one size fits all\uff09\u3002</p> <p>\u867d\u7136 ROS 2 \u6700\u521d\u57fa\u4e8e DDS/RTPS \u6784\u5efa\uff0c\u4f46\u5176\u751f\u6001\u7cfb\u7edf\u5df2\u6269\u5c55\u81f3\u5176\u4ed6\u67b6\u6784\uff0c\u4f8b\u5982 Zenoh\u3002</p>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#dds","title":"DDS \u4e2d\u95f4\u4ef6","text":"<p>DDS\uff08Data Distribution Service\uff09\u662f\u5de5\u4e1a\u6807\u51c6\uff0c\u7531\u591a\u5bb6\u5382\u5546\u5b9e\u73b0\uff0c\u5305\u62ec\uff1a</p> <ul> <li>RTI Connext DDS</li> <li>eProsima Fast DDS</li> <li>Eclipse Cyclone DDS</li> <li>GurumNetworks GurumDDS</li> </ul> <p>DDS \u4f7f\u7528 RTPS\uff08Real-Time Publish-Subscribe\uff0c\u53c8\u79f0 DDSI-RTPS\uff09\u4f5c\u4e3a\u5176\u7f51\u7edc\u5c42\u4f20\u8f93\u534f\u8bae\u3002</p>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#dds_1","title":"\u4e3a\u4f55\u9009\u62e9 DDS\uff1f","text":"<ul> <li>\u63d0\u4f9b\u7aef\u5230\u7aef\u4e2d\u95f4\u4ef6\u529f\u80fd  </li> <li>\u5206\u5e03\u5f0f\u53d1\u73b0\u673a\u5236\uff08\u975e ROS 1 \u5f0f\u7684\u4e2d\u5fc3\u5316\uff09  </li> <li>\u652f\u6301\u4e30\u5bcc\u7684 QoS\uff08Quality of Service\uff0c\u670d\u52a1\u8d28\u91cf\uff09\u7b56\u7565\uff0c\u53ef\u7cbe\u7ec6\u63a7\u5236\u901a\u4fe1\u884c\u4e3a</li> </ul> <p>\ud83d\udcda \u8be6\u89c1\uff1aDDS \u5728 ROS 2 \u4e2d\u7684\u5e94\u7528\u52a8\u673a</p>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#zenoh","title":"Zenoh \u4e2d\u95f4\u4ef6","text":"<p>Zenoh \u662f\u4e00\u79cd\u878d\u5408\u4e86\u4e92\u8054\u7f51\u7ea7\u53d1\u5e03/\u8ba2\u9605\u4e0e\u5206\u5e03\u5f0f\u67e5\u8be2\u7684\u534f\u8bae\uff0c\u4e13\u4e3a\u4ece\u670d\u52a1\u5668\u7ea7\u786c\u4ef6\u5230\u8d44\u6e90\u53d7\u9650\u8fb9\u7f18\u8bbe\u5907\u7684\u5e7f\u6cdb\u573a\u666f\u8bbe\u8ba1\u3002</p>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#_2","title":"\u6838\u5fc3\u7279\u6027","text":"<ul> <li>\u4f4d\u7f6e\u900f\u660e\u6027\u6269\u5c55\u81f3\u5b58\u50a8\u6570\u636e\uff1a\u67e5\u8be2\u65e0\u9700\u5173\u5fc3\u6570\u636e\u7269\u7406\u4f4d\u7f6e  </li> <li>\u8f7b\u91cf\u7ea7\uff1a\u76f8\u6bd4 DDS \u66f4\u5c0f\u7684\u8fd0\u884c\u65f6\u5f00\u9500  </li> <li>\u65e0\u51b2\u7a81 QoS\uff1aZenoh \u4e2d\u57fa\u672c\u4e0d\u5b58\u5728\u201c\u4e0d\u517c\u5bb9\u201d\u7684 QoS \u914d\u7f6e  </li> <li>\u4f4e\u7ebf\u7f06\u5f00\u9500 + \u7075\u6d3b\u8def\u7531\uff1a\u9002\u7528\u4e8e\u6076\u52a3\u7f51\u7edc\u73af\u5883</li> </ul> <p>\u4f5c\u4e3a ROS 2 \u7684 RMW \u5b9e\u73b0\uff0cZenoh \u4e3a IoT \u548c\u8fb9\u7f18\u8ba1\u7b97\u63d0\u4f9b\u4e86\u9ad8\u6548\u66ff\u4ee3\u65b9\u6848\u3002</p>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#rmw","title":"\u652f\u6301\u7684 RMW \u5b9e\u73b0","text":"\u4ea7\u54c1\u540d\u79f0 \u8bb8\u53ef\u8bc1 RMW \u5b9e\u73b0 \u72b6\u6001 eProsima Fast DDS Apache 2.0 <code>rmw_fastrtps_cpp</code> \u2705 \u5b8c\u5168\u652f\u6301\uff0c\u9ed8\u8ba4 RMW\uff0c\u4e8c\u8fdb\u5236\u5305\u5185\u7f6e Eclipse Cyclone DDS EPL v2.0 <code>rmw_cyclonedds_cpp</code> \u2705 \u5b8c\u5168\u652f\u6301\uff0c\u4e8c\u8fdb\u5236\u5305\u5185\u7f6e RTI Connext DDS \u5546\u4e1a/\u79d1\u7814 <code>rmw_connextdds</code> \u2705 \u5b8c\u5168\u652f\u6301\uff08\u9700\u5355\u72ec\u5b89\u88c5 Connext\uff09 GurumNetworks GurumDDS \u5546\u4e1a <code>rmw_gurumdds_cpp</code> \ud83d\udc65 \u793e\u533a\u652f\u6301\uff08\u9700\u5355\u72ec\u5b89\u88c5 GurumDDS\uff09 Eclipse Zenoh EPL v2.0 <code>rmw_zenoh_cpp</code> \u2705 \u5b8c\u5168\u652f\u6301\uff08\u81ea Kilted Kaiju \u8d77\u5185\u7f6e\uff09 <p>\ud83d\udcd8 \u5b9e\u64cd\u6307\u5357\uff1a\u300a\u4f7f\u7528\u591a\u4e2a RMW \u5b9e\u73b0\u300b\u6559\u7a0b</p>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#_3","title":"\u9009\u62e9\u4e2d\u95f4\u4ef6\u5b9e\u73b0","text":"<p>\u9009\u62e9\u65f6\u9700\u6743\u8861\u591a\u79cd\u56e0\u7d20\uff1a</p>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#_4","title":"\u903b\u8f91\u56e0\u7d20","text":"<ul> <li>\u8bb8\u53ef\u8bc1\u7c7b\u578b\uff08\u5f00\u6e90 vs \u5546\u4e1a\uff09</li> <li>\u5e73\u53f0\u652f\u6301\uff08Linux\u3001Windows\u3001RTOS \u7b49\uff09</li> </ul>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#_5","title":"\u6280\u672f\u56e0\u7d20","text":"<ul> <li>\u8d44\u6e90\u5360\u7528\uff08\u5185\u5b58\u3001CPU\uff09</li> <li>\u5b9e\u65f6\u6027\u4e0e\u786e\u5b9a\u6027</li> <li>\u5b89\u5168\u8ba4\u8bc1\u9700\u6c42</li> </ul>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#_6","title":"\u5382\u5546\u7b56\u7565\u793a\u4f8b","text":"<ul> <li>RTI\uff1a\u63d0\u4f9b\u591a\u4e2a Connext \u53d8\u4f53\uff08\u5fae\u63a7\u5236\u5668\u7248\u3001\u5b89\u5168\u8ba4\u8bc1\u7248\u7b49\uff09\uff0c\u4f46 ROS 2 \u4ec5\u652f\u6301\u6807\u51c6\u684c\u9762\u7248</li> <li>Eclipse\uff1a</li> <li>Cyclone DDS\uff1a\u8f7b\u91cf\u7ea7 DDS\uff0c\u4f18\u5316\u5b9e\u65f6\u786e\u5b9a\u6027\u901a\u4fe1</li> <li>Zenoh\uff1a\u9762\u5411 IoT/\u8fb9\u7f18\u8ba1\u7b97\uff0c\u5f3a\u8c03\u9ad8\u541e\u5410\u3001\u4f4e\u5ef6\u8fdf\u3001\u5f02\u6784\u73af\u5883\u4e92\u64cd\u4f5c\u6027</li> </ul> <p>\ud83d\udca1 \u5173\u952e\u673a\u5236\uff1a\u901a\u8fc7 RMW\uff08ROS Middleware\uff09\u5b9e\u73b0 ROS 2 \u4e0e\u5177\u4f53\u4e2d\u95f4\u4ef6\u7684\u89e3\u8026\uff0c\u786e\u4fdd\u751f\u6001\u4e0d\u88ab\u5355\u4e00\u5382\u5546\u9501\u5b9a\u3002</p>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#rmw_1","title":"\u591a RMW \u5b9e\u73b0","text":""},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#_7","title":"\u4e8c\u8fdb\u5236\u53d1\u884c\u7248","text":"<ul> <li>\u5f53\u524d\u6d3b\u8dc3 ROS 2 \u53d1\u884c\u7248\u9ed8\u8ba4\u5305\u542b\u591a\u4e2a RMW\uff08Fast DDS\u3001Cyclone DDS\u3001Connext\u3001GurumDDS\uff09</li> <li>\u81ea Kilted Kaiju \u8d77\uff0cZenoh \u4e5f\u5305\u542b\u5728\u5185</li> <li>\u9ed8\u8ba4 RMW\uff1a<code>rmw_fastrtps_cpp</code>\uff08\u65e0\u9700\u989d\u5916\u5b89\u88c5\uff09</li> </ul>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#_8","title":"\u6e90\u7801\u6784\u5efa","text":"<ul> <li>\u5de5\u4f5c\u7a7a\u95f4\u53ef\u540c\u65f6\u6784\u5efa\u591a\u4e2a RMW</li> <li>\u7f16\u8bd1\u65f6\u81ea\u52a8\u68c0\u6d4b\u5df2\u5b89\u88c5\u7684\u4e2d\u95f4\u4ef6\uff08\u5982 Connext Pro\uff09\uff0c\u5e76\u6784\u5efa\u5bf9\u5e94 RMW \u5305</li> </ul>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#rmw_2","title":"\u9ed8\u8ba4 RMW \u9009\u62e9\u89c4\u5219","text":"<ol> <li>\u82e5\u5b89\u88c5\u4e86 <code>rmw_fastrtps_cpp</code> \u2192 \u4f18\u5148\u4f7f\u7528</li> <li>\u5426\u5219\uff0c\u6309 RMW \u5305\u540d\u7684\u5b57\u6bcd\u987a\u5e8f \u9009\u62e9  </li> <li>\u4f8b\u5982\uff1a<code>rmw_connextdds</code> &lt; <code>rmw_cyclonedds_cpp</code> \u2192 \u9009 Connext</li> </ol> <p>\u2699\ufe0f \u4f7f\u7528\u6307\u5357\uff1a\u6307\u5b9a ROS 2 \u793a\u4f8b\u4f7f\u7528\u7684 RMW</p>"},{"location":"ros2/Concepts/intermediate/Different_ROS2_middlewar_vendors/#dds_2","title":"DDS \u4e2d\u95f4\u4ef6\u95f4\u7684\u8de8\u5382\u5546\u901a\u4fe1","text":"<ul> <li>\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4e0d\u540c DDS \u5b9e\u73b0\u7684\u8282\u70b9\u53ef\u4ee5\u4e92\u901a</li> <li>\u4f46\u5e76\u975e\u7edd\u5bf9\u4fdd\u8bc1\uff1aDDS \u6807\u51c6\u5141\u8bb8\u5382\u5546\u6269\u5c55\uff0c\u53ef\u80fd\u5bfc\u81f4\u517c\u5bb9\u6027\u95ee\u9898</li> </ul> <p>\u26a0\ufe0f \u5efa\u8bae\uff1a\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\uff0c\u6240\u6709\u8282\u70b9\u5e94\u4f7f\u7528\u76f8\u540c\u7684 ROS 2 \u7248\u672c\u548c RMW \u5b9e\u73b0\uff0c\u4ee5\u786e\u4fdd\u7a33\u5b9a\u901a\u4fe1\u3002</p>"},{"location":"ros2/Concepts/intermediate/Executors/","title":"\u6267\u884c\u5668","text":""},{"location":"ros2/Concepts/intermediate/Executors/#_1","title":"\u6267\u884c\u5668","text":""},{"location":"ros2/Concepts/intermediate/Executors/#_2","title":"\u6982\u8ff0","text":"<p>\u5728ROS 2\u4e2d\uff0c\u6267\u884c\u7ba1\u7406\u7531\u6267\u884c\u5668\u5904\u7406\u3002\u8be5\u6267\u884c\u5668\u4f7f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u7ebf\u7a0b\u6765\u8c03\u7528\u8ba2\u9605\u3001\u5b9a\u65f6\u5668\u3001\u670d\u52a1\u670d\u52a1\u5668\u3001\u52a8\u4f5c\u670d\u52a1\u5668\u7b49\u7684\u56de\u8c03\u51fd\u6570\uff0c\u4ee5\u54cd\u5e94\u4f20\u5165\u7684\u6d88\u606f\u548c\u4e8b\u4ef6\u3002\u5c3d\u7ba1<code>spin</code>\u673a\u5236\u4e0eROS 1\u7684\u57fa\u672cAPI\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u663e\u5f0f\u7684\u6267\u884c\u5668\u7c7b\u63d0\u4f9b\u4e86\u5bf9\u6267\u884c\u7ba1\u7406\u7684\u66f4\u591a\u63a7\u5236\uff08\u5728rclcpp\u4e2d\u7684<code>executor.hpp</code>\uff0crclpy\u4e2d\u7684<code>executors.py</code>\uff0c\u6216rclc\u4e2d\u7684<code>executor.h</code>\uff09\u3002</p> <p>\u672c\u6587\u6863\u5c06\u4e3b\u8981\u5173\u6ce8C++\u5ba2\u6237\u7aef\u5e93<code>rclcpp</code>\u3002</p>"},{"location":"ros2/Concepts/intermediate/Executors/#_3","title":"\u57fa\u672c\u7528\u6cd5","text":"<p>\u6700\u7b80\u5355\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528<code>rclcpp::spin(..)</code>\u8ba9\u4e3b\u7ebf\u7a0b\u5904\u7406\u8282\u70b9\u7684\u4f20\u5165\u6d88\u606f\u548c\u4e8b\u4ef6\uff1a</p> <pre><code>int main(int argc, char* argv[])\n{\n   // \u90e8\u5206\u521d\u59cb\u5316\u4ee3\u7801\u3002\n   rclcpp::init(argc, argv);\n   ...\n\n   // \u5b9e\u4f8b\u5316\u4e00\u4e2a\u8282\u70b9\u3002\n   rclcpp::Node::SharedPtr node = ...\n\n   // \u8fd0\u884c\u6267\u884c\u5668\u3002\n   rclcpp::spin(node);\n\n   // \u5173\u95ed\u5e76\u9000\u51fa\u3002\n   ...\n   return 0;\n}\n</code></pre> <p>\u8c03\u7528<code>spin(node)</code>\u57fa\u672c\u4e0a\u662f\u5b9e\u4f8b\u5316\u5e76\u8c03\u7528\u5355\u7ebf\u7a0b\u6267\u884c\u5668\uff0c\u8fd9\u662f\u6700\u7b80\u5355\u7684\u6267\u884c\u5668\uff1a</p> <p></p><pre><code>rclcpp::executors::SingleThreadedExecutor executor;\nexecutor.add_node(node);\nexecutor.spin();\n</code></pre> \u901a\u8fc7\u8c03\u7528\u6267\u884c\u5668\u5b9e\u4f8b\u7684<code>spin()</code>\u65b9\u6cd5\uff0c\u5f53\u524d\u7ebf\u7a0b\u5f00\u59cb\u67e5\u8be2rcl\u548c\u4e2d\u95f4\u4ef6\u5c42\u7684\u4f20\u5165\u6d88\u606f\u548c\u5176\u4ed6\u4e8b\u4ef6\uff0c\u5e76\u8c03\u7528\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\u76f4\u5230\u8282\u70b9\u5173\u95ed\u3002\u4e3a\u4e86\u4e0d\u5e72\u6270\u4e2d\u95f4\u4ef6\u7684QoS\u8bbe\u7f6e\uff0c\u4f20\u5165\u6d88\u606f\u4e0d\u4f1a\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\u5e93\u5c42\u7684\u961f\u5217\u4e2d\uff0c\u800c\u662f\u4fdd\u7559\u5728\u4e2d\u95f4\u4ef6\u4e2d\uff0c\u76f4\u5230\u88ab\u56de\u8c03\u51fd\u6570\u53d6\u8d70\u5904\u7406\u3002\uff08\u8fd9\u662f\u4e0eROS 1\u7684\u5173\u952e\u533a\u522b\uff09\u3002\u7b49\u5f85\u96c6\u7528\u4e8e\u901a\u77e5\u6267\u884c\u5668\u5173\u4e8e\u4e2d\u95f4\u4ef6\u5c42\u4e2d\u53ef\u7528\u7684\u6d88\u606f\uff0c\u6bcf\u4e2a\u961f\u5217\u5bf9\u5e94\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6807\u5fd7\u3002\u7b49\u5f85\u96c6\u8fd8\u7528\u4e8e\u68c0\u6d4b\u8ba1\u65f6\u5668\u5230\u671f\u7684\u60c5\u51b5\u3002<p></p> <p></p> <p>\u5355\u7ebf\u7a0b\u6267\u884c\u5668\u8fd8\u7531\u7ec4\u4ef6\u7684\u5bb9\u5668\u8fdb\u7a0b\u4f7f\u7528\uff0c\u5373\u5728\u6ca1\u6709\u663e\u5f0f\u4e3b\u51fd\u6570\u7684\u60c5\u51b5\u521b\u5efa\u548c\u6267\u884c\u8282\u70b9\u7684\u6240\u6709\u60c5\u51b5\u3002</p>"},{"location":"ros2/Concepts/intermediate/Executors/#_4","title":"\u6267\u884c\u5668\u7c7b\u578b","text":"<p>\u76ee\u524d\uff0crclcpp\u63d0\u4f9b\u4e86\u4e09\u79cd\u4ece\u516c\u5171\u57fa\u7c7b\u6d3e\u751f\u7684\u6267\u884c\u5668\u7c7b\u578b\uff1a</p> <pre><code>digraph Flatland {\n    Executor -&gt; SingleThreadedExecutor [dir = back, arrowtail = empty];\n    Executor -&gt; MultiThreadedExecutor [dir = back, arrowtail = empty];\n    Executor -&gt; StaticSingleThreadedExecutor [dir = back, arrowtail = empty];\n    Executor [shape=polygon,sides=4];\n    SingleThreadedExecutor [shape=polygon,sides=4];\n    MultiThreadedExecutor [shape=polygon,sides=4];\n    StaticSingleThreadedExecutor [shape=polygon,sides=4];\n}\n</code></pre> <p>\u591a\u7ebf\u7a0b\u6267\u884c\u5668\u521b\u5efa\u53ef\u914d\u7f6e\u6570\u91cf\u7684\u7ebf\u7a0b\u4ee5\u5141\u8bb8\u591a\u4e2a\u6d88\u606f\u6216\u4e8b\u4ef6\u5e76\u884c\u5904\u7406\u3002</p> <p>\u6ce8\u610f\uff1a \u9759\u6001\u5355\u7ebf\u7a0b\u6267\u884c\u5668\u5df2\u5f03\u7528\uff0c\u5efa\u8bae\u4f7f\u7528\u5355\u7ebf\u7a0b\u6267\u884c\u5668\u3002\u9759\u6001\u5355\u7ebf\u7a0b\u6267\u884c\u5668\u65e8\u5728\u51cf\u5c11\u626b\u63cf\u8282\u70b9\u5b9e\u4f53\uff08\u5982\u8ba2\u9605\u3001\u5b9a\u65f6\u5668\u3001\u670d\u52a1\u670d\u52a1\u5668\u3001\u52a8\u4f5c\u670d\u52a1\u5668\u7b49\uff09\u65b9\u9762\u7684\u8fd0\u884c\u65f6\u5f00\u9500\u3002\u8fd9\u4e9b\u8fd0\u884c\u65f6\u6539\u8fdb\u73b0\u5728\u4e5f\u9002\u7528\u4e8e\u5176\u4ed6\u6240\u6709\u6267\u884c\u5668\u3002\u6b64\u5916\uff0c\u9759\u6001\u5355\u7ebf\u7a0b\u6267\u884c\u7a0b\u5e8f\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\uff0c\u4f8b\u5982\uff0c\u5728<code>spin_some</code>\u4e2d\u4e0d\u5c0a\u91cd\u6700\u5927\u6301\u7eed\u65f6\u95f4\u3002\u7531\u4e8e\u8fd9\u4e9b\u95ee\u9898\u4e0d\u7a33\u5b9a\uff0c\u9488\u5bf9\u9759\u6001\u5355\u7ebf\u7a0b\u6267\u884c\u5668\u8df3\u8fc7\u4e86\u67d0\u4e9b\u5355\u5143\u6d4b\u8bd5\u3002\u60a8\u53ef\u4ee5\u5728ROS Discourse\u4e0a\u67e5\u770b\u8be5\u4e3b\u9898\u7684\u66f4\u591a\u7ec6\u8282\uff1a\u300aThe ROS 2 C++ Executors\u300b\u3002</p> <p>\u53ef\u4ee5\u901a\u8fc7\u4e3a\u6bcf\u4e2a\u8282\u70b9\u8c03\u7528 add_node(..) \u4f7f\u7528\u8fd9\u4e09\u79cd\u6267\u884c\u5668\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u6765\u5904\u7406\u591a\u4e2a\u8282\u70b9\u3002</p> <pre><code>rclcpp::Node::SharedPtr node1 = ...\nrclcpp::Node::SharedPtr node2 = ...\nrclcpp::Node::SharedPtr node3 = ...\n\nrclcpp::executors::SingleThreadedExecutor executor;\nexecutor.add_node(node1);\nexecutor.add_node(node2);\nexecutor.add_node(node3);\nexecutor.spin();\n</code></pre> <p>\u5728\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c\u5355\u7ebf\u7a0b\u6267\u884c\u5668\u7684\u4e00\u4e2a\u7ebf\u7a0b\u7528\u4e8e\u540c\u65f6\u4e3a\u4e09\u4e2a\u8282\u70b9\u63d0\u4f9b\u670d\u52a1\u3002\u800c\u5728\u591a\u7ebf\u7a0b\u6267\u884c\u5668\u7684\u60c5\u51b5\u4e0b\uff0c\u5b9e\u9645\u7684\u5e76\u884c\u6027\u53d6\u51b3\u4e8e\u56de\u8c03\u7ec4\u3002</p>"},{"location":"ros2/Concepts/intermediate/Executors/#_5","title":"\u56de\u8c03\u7ec4","text":"<p>ROS 2 \u5141\u8bb8\u5c06\u4e00\u4e2a\u8282\u70b9\u7684\u56de\u8c03\u7ec4\u7ec7\u6210\u7ec4\u3002\u5728rclcpp\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528Node\u7c7b\u7684create_callback_group\u51fd\u6570\u521b\u5efa\u8fd9\u6837\u4e00\u4e2a\u56de\u8c03\u7ec4\u3002\u5728rclpy\u4e2d\uff0c\u540c\u6837\u7684\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528\u7279\u5b9a\u7c7b\u578b\u7684\u56de\u8c03\u7ec4\u6784\u9020\u51fd\u6570\u6765\u5b9e\u73b0\u3002\u5fc5\u987b\u5728\u6574\u4e2a\u8282\u70b9\u7684\u6267\u884c\u8fc7\u7a0b\u4e2d\u4fdd\u5b58\u56de\u8c03\u7ec4\uff08\u4f8b\u5982\u4f5c\u4e3a\u7c7b\u6210\u5458\uff09\uff0c\u5426\u5219\u6267\u884c\u5668\u5c06\u65e0\u6cd5\u89e6\u53d1\u56de\u8c03\u3002\u7136\u540e\u53ef\u4ee5\u5728\u521b\u5efa\u8ba2\u9605\u3001\u5b9a\u65f6\u5668\u7b49\u65f6\u6307\u5b9a\u8fd9\u4e2a\u56de\u8c03\u7ec4\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u901a\u8fc7\u8ba2\u9605\u9009\u9879\u8fdb\u884c\u8bbe\u7f6e\uff1a</p> <pre><code>C++Python\nmy_callback_group = create_callback_group(rclcpp::CallbackGroupType::MutuallyExclusive);\n\nrclcpp::SubscriptionOptions options;\noptions.callback_group = my_callback_group;\n\nmy_subscription = create_subscription&lt;Int32&gt;(\"/topic\", rclcpp::SensorDataQoS(), callback, options);\n</code></pre> <p>\u672a\u6307\u5b9a\u56de\u8c03\u7ec4\u521b\u5efa\u7684\u6240\u6709\u8ba2\u9605\u3001\u5b9a\u65f6\u5668\u7b49\u4f1a\u88ab\u5206\u914d\u5230\u9ed8\u8ba4\u7684\u56de\u8c03\u7ec4\u4e2d\u3002\u8be5\u9ed8\u8ba4\u7684\u56de\u8c03\u7ec4\u53ef\u4ee5\u901a\u8fc7NodeBaseInterface::get_default_callback_group()\u5728rclcpp\u4ee5\u53ca\u901a\u8fc7Node.default_callback_group\u5728rclpy\u4e2d\u83b7\u53d6\u3002</p> <p>\u56de\u8c03\u7ec4\u6709\u4e24\u79cd\u7c7b\u578b\uff0c\u9700\u8981\u5728\u5b9e\u4f8b\u5316\u65f6\u6307\u5b9a\uff1a</p> <ul> <li>\u4e92\u65a5\uff1a\u6b64\u7ec4\u7684\u56de\u8c03\u4e0d\u80fd\u5e76\u884c\u6267\u884c\u3002</li> <li>\u53ef\u91cd\u5165\uff1a\u6b64\u7ec4\u7684\u56de\u8c03\u53ef\u4ee5\u5e76\u884c\u6267\u884c\u3002</li> </ul> <p>\u6765\u81ea\u4e0d\u540c\u56de\u8c03\u7ec4\u7684\u56de\u8c03\u603b\u662f\u53ef\u4ee5\u5e76\u884c\u6267\u884c\u3002\u591a\u7ebf\u7a0b\u6267\u884c\u5668\u5229\u7528\u5176\u7ebf\u7a0b\u4f5c\u4e3a\u7ebf\u7a0b\u6c60\uff0c\u6839\u636e\u6761\u4ef6\u5c3d\u53ef\u80fd\u5730\u5e76\u884c\u5904\u7406\u56de\u8c03\u3002\u6709\u5173\u5982\u4f55\u9ad8\u6548\u4f7f\u7528\u56de\u8c03\u7ec4\u7684\u63d0\u793a\uff0c\u8bf7\u53c2\u9605\u300a\u4f7f\u7528\u56de\u8c03\u7ec4\u300b\u3002</p> <p>rclcpp \u4e2d\u7684\u6267\u884c\u5668\u57fa\u7c7b\u4e5f\u5177\u6709 add_callback_group(..) \u51fd\u6570\uff0c\u5141\u8bb8\u5c06\u4e0d\u540c\u7684\u56de\u8c03\u7ec4\u5206\u914d\u7ed9\u4e0d\u540c\u7684\u6267\u884c\u5668\u3002\u901a\u8fc7\u914d\u7f6e\u5e95\u5c42\u7ebf\u7a0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u4f18\u5148\u6267\u884c\u7279\u5b9a\u56de\u8c03\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u4f18\u5148\u6267\u884c\u63a7\u5236\u5faa\u73af\u7684\u8ba2\u9605\u548c\u5b9a\u65f6\u5668\uff0c\u800c\u4e0d\u662f\u8282\u70b9\u7684\u6240\u6709\u5176\u4ed6\u8ba2\u9605\u548c\u6807\u51c6\u670d\u52a1\u3002examples_rclcpp_cbg_executor \u5305\u63d0\u4f9b\u7684\u6f14\u793a\u4e86\u6b64\u673a\u5236\u3002</p>"},{"location":"ros2/Concepts/intermediate/Executors/#_6","title":"\u8c03\u5ea6\u8bed\u4e49","text":"<p>\u5982\u679c\u56de\u8c03\u7684\u5904\u7406\u65f6\u95f4\u77ed\u4e8e\u6d88\u606f\u548c\u4e8b\u4ef6\u53d1\u751f\u7684\u5468\u671f\uff0c\u6267\u884c\u5668\u57fa\u672c\u4e0a\u6309\u5148\u8fdb\u5148\u51fa\u7684\u987a\u5e8f\u5904\u7406\u5b83\u4eec\u3002\u7136\u800c\uff0c\u5982\u679c\u6709\u56de\u8c03\u7684\u5904\u7406\u65f6\u95f4\u8f83\u957f\uff0c\u6d88\u606f\u548c\u4e8b\u4ef6\u5c06\u5728\u5806\u6808\u7684\u8f83\u4f4e\u5c42\u6392\u961f\u3002\u7b49\u5f85\u96c6\u673a\u5236\u5411\u6267\u884c\u5668\u62a5\u544a\u5173\u4e8e\u8fd9\u4e9b\u961f\u5217\u7684\u975e\u5e38\u5c11\u91cf\u7684\u4fe1\u606f\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5b83\u4ec5\u62a5\u544a\u662f\u5426\u5b58\u5728\u7279\u5b9a\u4e3b\u9898\u7684\u4efb\u4f55\u6d88\u606f\u3002\u6267\u884c\u5668\u501f\u52a9\u6b64\u4fe1\u606f\u4ee5\u5faa\u73af\u7684\u65b9\u5f0f\u4f46\u4e0d\u662f\u4ee5\u5148\u8fdb\u5148\u51fa\u7684\u65b9\u5f0f\u5904\u7406\u6d88\u606f\uff08\u5305\u62ec\u670d\u52a1\u548c\u52a8\u4f5c\uff09\u3002</p> <p>\u4e0b\u56fe\u53ef\u89c6\u5316\u4e86\u6b64\u8c03\u5ea6\u8bed\u4e49\uff1a</p> <p></p> <p>\u6b64\u8bed\u4e49\u9996\u5148\u7531 Casini \u7b49\u4eba\u5728 2019 \u5e74\u7684 ECRTS \u4f1a\u8bae\u4e0a\u7684\u4e00\u7bc7\u8bba\u6587\u63cf\u8ff0\u3002\uff08\u6ce8\u610f\uff1a\u8be5\u8bba\u6587\u8fd8\u89e3\u91ca\u4e86\u8ba1\u65f6\u5668\u4e8b\u4ef6\u4f18\u5148\u4e8e\u6240\u6709\u5176\u4ed6\u6d88\u606f\u3002\u8fd9\u4e2a\u4f18\u5148\u7ea7\u5728 Eloquent \u4e2d\u5df2\u88ab\u79fb\u9664\u3002\uff09</p>"},{"location":"ros2/Concepts/intermediate/Executors/#_7","title":"\u5c55\u671b","text":"<p>\u867d\u7136 rclcpp \u7684\u4e09\u4e2a\u6267\u884c\u5668\u9002\u5408\u591a\u6570\u5e94\u7528\uff0c\u4f46\u5728\u5bf9\u4e8e\u9700\u8981\u4e25\u683c\u7684\u6267\u884c\u65f6\u95f4\u548c\u786e\u5b9a\u6027\u4ee5\u53ca\u81ea\u5b9a\u4e49\u6267\u884c\u987a\u5e8f\u7684\u5b9e\u65f6\u5e94\u7528\u4e2d\uff0c\u8fd9\u4e9b\u6267\u884c\u5668\u5b58\u5728\u4e00\u4e9b\u9650\u5236\u3002\u4ee5\u4e0b\u662f\u5bf9\u8fd9\u4e9b\u95ee\u9898\u7684\u4e00\u4e9b\u603b\u7ed3\uff1a</p> <ul> <li>\u590d\u6742\u4e14\u6df7\u5408\u7684\u8c03\u5ea6\u8bed\u4e49\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e0c\u671b\u6709\u786e\u5b9a\u7684\u8c03\u5ea6\u8bed\u4e49\u4ee5\u4fbf\u6267\u884c\u6b63\u5f0f\u7684\u65f6\u5e8f\u5206\u6790\u3002</li> <li>\u56de\u8c03\u53ef\u80fd\u53d7\u5230\u4f18\u5148\u7ea7\u5012\u7f6e\u7684\u5f71\u54cd\u3002\u9ad8\u4f18\u5148\u7ea7/callback \u53ef\u80fd\u4f1a\u88ab\u4f4e\u4f18\u5148\u7ea7/callback \u963b\u585e\u3002</li> <li>\u5bf9\u56de\u8c03\u6267\u884c\u987a\u5e8f\u6ca1\u6709\u660e\u786e\u7684\u63a7\u5236\u3002</li> <li>\u6ca1\u6709\u5185\u5efa\u89e6\u53d1\u7279\u5b9a\u8bdd\u9898\u7684\u80fd\u529b\u3002</li> <li>\u6b64\u5916\uff0c\u6267\u884c\u5668\u5728CPU\u548c\u5185\u5b58\u4f7f\u7528\u65b9\u9762\u7684\u5f00\u9500\u76f8\u5f53\u5927\u3002</li> </ul> <p>\u8fd9\u4e9b\u95ee\u9898\u662f\u90e8\u5206\u901a\u8fc7\u4ee5\u4e0b\u53d1\u5c55\u5f97\u5230\u89e3\u51b3\uff1a</p> <ul> <li>rclcpp \u7b49\u5f85\u96c6\uff1arclcpp \u7684\u7b49\u5f85\u96c6\u7c7b\u5141\u8bb8\u76f4\u63a5\u7b49\u5f85\u8ba2\u9605\u3001\u5b9a\u65f6\u5668\u3001\u670d\u52a1\u670d\u52a1\u5668\u3001\u52a8\u4f5c\u670d\u52a1\u5668\u7b49\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u6267\u884c\u5668\u3002\u5b83\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u786e\u5b9a\u6027\u7684\u3001\u7528\u6237\u5b9a\u4e49\u7684\u5904\u7406\u5e8f\u5217\uff0c\u5373\u4f7f\u662f\u4ece\u4e0d\u540c\u7684\u8ba2\u9605\u4e00\u8d77\u5904\u7406\u591a\u4e2a\u6d88\u606f\u3002examples_rclcpp_wait_set \u5305\u63d0\u4f9b\u4e86\u7528\u6237\u7ea7\u7b49\u5f85\u96c6\u673a\u5236\u4f7f\u7528\u7684\u51e0\u4e2a\u4f8b\u5b50\u3002</li> <li>rclc \u6267\u884c\u5668\uff1a\u8fd9\u662f\u4e3a micro-ROS \u5f00\u53d1\u7684 C \u5ba2\u6237\u7aef\u5e93 rclc \u4e2d\u7684\u6267\u884c\u5668\uff0c\u63d0\u4f9b\u4e86\u5bf9\u56de\u8c03\u6267\u884c\u987a\u5e8f\u7684\u7ec6\u7c92\u5ea6\u63a7\u5236\uff0c\u5e76\u5141\u8bb8\u81ea\u5b9a\u4e49\u89e6\u53d1\u6761\u4ef6\u6765\u6fc0\u6d3b\u56de\u8c03\u3002\u6b64\u5916\uff0c\u5b83\u5b9e\u73b0\u4e86\u903b\u8f91\u6267\u884c\u65f6\u95f4(LET)\u8bed\u4e49\u7684\u60f3\u6cd5\u3002</li> </ul>"},{"location":"ros2/Concepts/intermediate/Executors/#_8","title":"\u8fdb\u4e00\u6b65\u4fe1\u606f","text":"<ul> <li>Michael P\u00f6hnl et al.: \"ROS 2 Executor: How to make it efficient, real-time and deterministic?\". \u5de5\u4f5c\u574a\uff0cROS World 2021. \u865a\u62df\u6d3b\u52a8. 2021\u5e7410\u670819\u65e5\u3002</li> <li>Ralph Lange: \"\u9ad8\u7ea7\u6267\u884c\u7ba1\u7406\u4e0e ROS 2\". ROS \u5de5\u4e1a\u4f1a\u8bae. \u865a\u62df\u6d3b\u52a8. 2020\u5e7412\u670816\u65e5\u3002</li> <li>Daniel Casini, Tobias Blass, Ingo L\u00fctkebohle, \u548c Bj\u00f6rn Brandenburg: \"\u57fa\u4e8e\u9884\u7559\u8c03\u5ea6\u4e0b\u7684ROS 2\u5904\u7406\u94fe\u7684\u54cd\u5e94\u65f6\u95f4\u5206\u6790\"\uff0c\u300a\u7b2c31\u5c4aECRTS\u4f1a\u8bae\u8bba\u6587\u96c6\u300b\uff0c\u5fb7\u56fd\u65af\u56fe\u52a0\u7279\uff0c2019\u5e747\u6708\u3002</li> </ul>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/","title":"\u65e5\u5fd7\u548c\u8bb0\u5f55\u914d\u7f6e","text":""},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#logging-and-logger-configuration","title":"\u65e5\u5fd7\u4e0e\u65e5\u5fd7\u8bb0\u5f55\u5668\u914d\u7f6e (Logging and logger configuration)","text":""},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#_1","title":"\u6982\u8ff0","text":"<p>ROS 2 \u4e2d\u7684\u65e5\u5fd7\u5b50\u7cfb\u7edf\u65e8\u5728\u5c06\u65e5\u5fd7\u6d88\u606f\u4f20\u9012\u7ed9\u591a\u79cd\u76ee\u6807\uff0c\u5305\u62ec\uff1a</p> <ul> <li>\u63a7\u5236\u53f0\uff08\u5982\u679c\u6709\u8fde\u63a5\uff09</li> <li>\u78c1\u76d8\u4e0a\u7684\u65e5\u5fd7\u6587\u4ef6\uff08\u5982\u679c\u672c\u5730\u5b58\u50a8\u53ef\u7528\uff09</li> <li>ROS 2 \u7f51\u7edc\u4e0a\u7684 <code>/rosout</code> \u8bdd\u9898</li> </ul> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cROS 2 \u8282\u70b9\u7684\u65e5\u5fd7\u6d88\u606f\u4f1a\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff08\u6807\u51c6\u9519\u8bef stderr\uff09\u3001\u78c1\u76d8\u4e0a\u7684\u65e5\u5fd7\u6587\u4ef6\u4ee5\u53ca ROS 2 \u7f51\u7edc\u4e0a\u7684 <code>/rosout</code> \u8bdd\u9898\u3002\u6240\u6709\u8fd9\u4e9b\u76ee\u6807\u90fd\u53ef\u4ee5\u9488\u5bf9\u6bcf\u4e2a\u8282\u70b9\u5355\u72ec\u542f\u7528\u6216\u7981\u7528\u3002</p> <p>\u672c\u6587\u6863\u7684\u5176\u4f59\u90e8\u5206\u5c06\u4ecb\u7ecd\u65e5\u5fd7\u5b50\u7cfb\u7edf\u80cc\u540e\u7684\u4e00\u4e9b\u7406\u5ff5\u3002</p>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#_2","title":"\u4e25\u91cd\u7ea7\u522b","text":"<p>\u65e5\u5fd7\u6d88\u606f\u5173\u8054\u4e86\u4e00\u4e2a\u4e25\u91cd\u7ea7\u522b\uff1a<code>DEBUG</code>\u3001<code>INFO</code>\u3001<code>WARN</code>\u3001<code>ERROR</code> \u6216 <code>FATAL</code>\uff0c\u6309\u4e25\u91cd\u7a0b\u5ea6\u9012\u589e\u6392\u5e8f\u3002</p> <p>\u65e5\u5fd7\u8bb0\u5f55\u5668\uff08Logger\uff09\u53ea\u4f1a\u5904\u7406\u4e25\u91cd\u7ea7\u522b\u7b49\u4e8e\u6216\u9ad8\u4e8e\u8be5\u8bb0\u5f55\u5668\u6240\u9009\u6307\u5b9a\u7ea7\u522b\u7684\u6d88\u606f\u3002</p> <p>\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u4e00\u4e2a\u5173\u8054\u7684\u65e5\u5fd7\u8bb0\u5f55\u5668\uff0c\u8be5\u8bb0\u5f55\u5668\u4f1a\u81ea\u52a8\u5305\u542b\u8282\u70b9\u7684\u540d\u79f0\u548c\u547d\u540d\u7a7a\u95f4\u3002\u5982\u679c\u8282\u70b9\u7684\u540d\u79f0\u5728\u5916\u90e8\u88ab\u91cd\u6620\u5c04\uff08Remap\uff09\u4e3a\u6e90\u4ee3\u7801\u4e2d\u5b9a\u4e49\u4ee5\u5916\u7684\u540d\u79f0\uff0c\u8fd9\u4e5f\u4f1a\u53cd\u6620\u5728\u65e5\u5fd7\u8bb0\u5f55\u5668\u540d\u79f0\u4e2d\u3002\u6b64\u5916\uff0c\u4e5f\u53ef\u4ee5\u521b\u5efa\u4f7f\u7528\u7279\u5b9a\u540d\u79f0\u7684\u975e\u8282\u70b9\u65e5\u5fd7\u8bb0\u5f55\u5668\u3002</p> <p>\u65e5\u5fd7\u8bb0\u5f55\u5668\u540d\u79f0\u4ee3\u8868\u4e00\u79cd\u5c42\u7ea7\u7ed3\u6784\u3002\u5982\u679c\u540d\u4e3a \"abc.def\" \u7684\u65e5\u5fd7\u8bb0\u5f55\u5668\u7ea7\u522b\u672a\u8bbe\u7f6e\uff0c\u5b83\u5c06\u63a8\u8fdf\u4f7f\u7528\u5176\u7236\u7ea7 \"abc\" \u7684\u7ea7\u522b\uff1b\u5982\u679c\u8be5\u7ea7\u522b\u4e5f\u672a\u8bbe\u7f6e\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7684\u65e5\u5fd7\u8bb0\u5f55\u5668\u7ea7\u522b\u3002\u5f53\u65e5\u5fd7\u8bb0\u5f55\u5668 \"abc\" \u7684\u7ea7\u522b\u53d1\u751f\u66f4\u6539\u65f6\uff0c\u5176\u6240\u6709\u540e\u4ee3\uff08\u4f8b\u5982 \"abc.def\"\u3001\"abc.ghi.jkl\"\uff09\u7684\u7ea7\u522b\u90fd\u4f1a\u53d7\u5230\u5f71\u54cd\uff0c\u9664\u975e\u5b83\u4eec\u7684\u7ea7\u522b\u5df2\u88ab\u663e\u5f0f\u8bbe\u7f6e\u3002</p>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#api","title":"API \u63a5\u53e3","text":"<p>\u4ee5\u4e0b\u662f ROS 2 \u65e5\u5fd7\u57fa\u7840\u8bbe\u65bd\u7684\u7ec8\u7aef\u7528\u6237\u5e94\u4f7f\u7528\u7684 API\uff0c\u6309\u5ba2\u6237\u7aef\u5e93\u5212\u5206\u3002</p> CPP <pre><code>        \u4ee5\u4e0b\u5b8f\u5b9a\u4e49\u7528\u4e8e C++ \u5f00\u53d1\u3002\u6bcf\u4e2a API \u90fd\u63a5\u53d7\u4e00\u4e2a `rclcpp::Logger` \u5bf9\u8c61\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528 `node-&gt;get_logger()` \u4ece\u8282\u70b9 API \u83b7\u53d6\uff08\u63a8\u8350\uff09\uff0c\u6216\u8005\u6784\u5efa\u4e00\u4e2a\u72ec\u7acb\u7684 `rclcpp::Logger` \u5bf9\u8c61\u3002\n\n        &gt; **\u6ce8\u610f\uff1a** \u4e0b\u5217\u5b8f\u4e2d\u7684 `{DEBUG,INFO,WARN,ERROR,FATAL}` \u4ee3\u8868\u53ef\u66ff\u6362\u7684\u4e25\u91cd\u7ea7\u522b\u5360\u4f4d\u7b26\u3002\n\n        * **`RCLCPP_{LEVEL}`**: \u6bcf\u6b21\u8fd0\u884c\u6b64\u884c\u4ee3\u7801\u65f6\uff0c\u8f93\u51fa\u7ed9\u5b9a\u7684 printf \u98ce\u683c\u7684\u6d88\u606f\u3002\n        * **`RCLCPP_{LEVEL}_ONCE`**: \u4ec5\u5728\u7b2c\u4e00\u6b21\u8fd0\u884c\u6b64\u884c\u4ee3\u7801\u65f6\uff0c\u8f93\u51fa\u7ed9\u5b9a\u7684 printf \u98ce\u683c\u7684\u6d88\u606f\u3002\n        * **`RCLCPP_{LEVEL}_EXPRESSION`**: \u4ec5\u5f53\u7ed9\u5b9a\u7684\u8868\u8fbe\u5f0f\u4e3a\u771f\u65f6\uff0c\u8f93\u51fa\u7ed9\u5b9a\u7684 printf \u98ce\u683c\u7684\u6d88\u606f\u3002\n        * **`RCLCPP_{LEVEL}_FUNCTION`**: \u4ec5\u5f53\u7ed9\u5b9a\u7684\u51fd\u6570\u8fd4\u56de\u771f\u65f6\uff0c\u8f93\u51fa\u7ed9\u5b9a\u7684 printf \u98ce\u683c\u7684\u6d88\u606f\u3002\n        * **`RCLCPP_{LEVEL}_SKIPFIRST`**: \u9664\u4e86\u7b2c\u4e00\u6b21\u8fd0\u884c\u6b64\u884c\u4ee3\u7801\u5916\uff0c\u5176\u4f59\u6bcf\u6b21\u90fd\u8f93\u51fa\u7ed9\u5b9a\u7684 printf \u98ce\u683c\u7684\u6d88\u606f\u3002\n        * **`RCLCPP_{LEVEL}_THROTTLE`**: \u8f93\u51fa\u7ed9\u5b9a\u7684 printf \u98ce\u683c\u7684\u6d88\u606f\uff0c\u4f46\u8f93\u51fa\u9891\u7387\u4e0d\u8d85\u8fc7\u7ed9\u5b9a\u7684\u901f\u7387\uff08\u4ee5\u6574\u6570\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\n        * **`RCLCPP_{LEVEL}_SKIPFIRST_THROTTLE`**: \u8f93\u51fa\u7ed9\u5b9a\u7684 printf \u98ce\u683c\u7684\u6d88\u606f\uff0c\u9891\u7387\u4e0d\u8d85\u8fc7\u7ed9\u5b9a\u7684\u901f\u7387\uff08\u4ee5\u6574\u6570\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\uff0c\u4f46\u8df3\u8fc7\u7b2c\u4e00\u6b21\u3002\n\n        **\u6d41\u5f0f (Stream) \u98ce\u683c API:**\n\n        * **`RCLCPP_{LEVEL}_STREAM`**: \u6bcf\u6b21\u8fd0\u884c\u6b64\u884c\u4ee3\u7801\u65f6\uff0c\u8f93\u51fa\u7ed9\u5b9a\u7684 C++ \u6d41\u5f0f (stream-style) \u6d88\u606f\u3002\n        * **`RCLCPP_{LEVEL}_STREAM_ONCE`**: \u4ec5\u5728\u7b2c\u4e00\u6b21\u8fd0\u884c\u6b64\u884c\u4ee3\u7801\u65f6\uff0c\u8f93\u51fa\u7ed9\u5b9a\u7684 C++ \u6d41\u5f0f\u6d88\u606f\u3002\n        * **`RCLCPP_{LEVEL}_STREAM_EXPRESSION`**: \u4ec5\u5f53\u7ed9\u5b9a\u7684\u8868\u8fbe\u5f0f\u4e3a\u771f\u65f6\uff0c\u8f93\u51fa\u7ed9\u5b9a\u7684 C++ \u6d41\u5f0f\u6d88\u606f\u3002\n        * **`RCLCPP_{LEVEL}_STREAM_FUNCTION`**: \u4ec5\u5f53\u7ed9\u5b9a\u7684\u51fd\u6570\u8fd4\u56de\u771f\u65f6\uff0c\u8f93\u51fa\u7ed9\u5b9a\u7684 C++ \u6d41\u5f0f\u6d88\u606f\u3002\n        * **`RCLCPP_{LEVEL}_STREAM_SKIPFIRST`**: \u9664\u4e86\u7b2c\u4e00\u6b21\u8fd0\u884c\u6b64\u884c\u4ee3\u7801\u5916\uff0c\u5176\u4f59\u6bcf\u6b21\u90fd\u8f93\u51fa\u7ed9\u5b9a\u7684 C++ \u6d41\u5f0f\u6d88\u606f\u3002\n        * **`RCLCPP_{LEVEL}_STREAM_THROTTLE`**: \u8f93\u51fa\u7ed9\u5b9a\u7684 C++ \u6d41\u5f0f\u6d88\u606f\uff0c\u4f46\u8f93\u51fa\u9891\u7387\u4e0d\u8d85\u8fc7\u7ed9\u5b9a\u7684\u901f\u7387\uff08\u4ee5\u6574\u6570\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\n        * **`RCLCPP_{LEVEL}_STREAM_SKIPFIRST_THROTTLE`**: \u8f93\u51fa\u7ed9\u5b9a\u7684 C++ \u6d41\u5f0f\u6d88\u606f\uff0c\u9891\u7387\u4e0d\u8d85\u8fc7\u7ed9\u5b9a\u7684\u901f\u7387\uff08\u4ee5\u6574\u6570\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\uff0c\u4f46\u8df3\u8fc7\u7b2c\u4e00\u6b21\u3002\n\n        **\u901a\u7528\u5de5\u5177:**\n\n        * `rcutils_logging_set_logger_level`: \u5c06\u7279\u5b9a\u65e5\u5fd7\u8bb0\u5f55\u5668\u540d\u79f0\u7684\u65e5\u5fd7\u7ea7\u522b\u8bbe\u7f6e\u4e3a\u7ed9\u5b9a\u7684\u4e25\u91cd\u7ea7\u522b\u3002\n        * `rcutils_logging_get_logger_effective_level`: \u7ed9\u5b9a\u4e00\u4e2a\u65e5\u5fd7\u8bb0\u5f55\u5668\u540d\u79f0\uff0c\u8fd4\u56de\u5176\u65e5\u5fd7\u7ea7\u522b\uff08\u53ef\u80fd\u672a\u8bbe\u7f6e\uff09\u3002\n\n        -----\n</code></pre> Python <pre><code>        logger.{debug,info,warning,error,fatal} \u5c06\u7ed9\u5b9a\u7684 Python \u5b57\u7b26\u4e32\u8f93\u51fa\u5230\u65e5\u5fd7\u57fa\u7840\u8bbe\u65bd\u3002\u8fd9\u4e9b\u8c03\u7528\u63a5\u53d7\u4ee5\u4e0b\u5173\u952e\u5b57\u53c2\u6570\u6765\u63a7\u5236\u884c\u4e3a\uff1a\n\n        throttle_duration_sec: \u5982\u679c\u4e0d\u4e3a None\uff0c\u5219\u6307\u5b9a\u8282\u6d41\uff08\u9891\u7387\u9650\u5236\uff09\u7684\u95f4\u9694\u65f6\u957f\uff0c\u5355\u4f4d\u4e3a\u6d6e\u70b9\u79d2\u3002\n\n        skip_first: \u5982\u679c\u4e3a True\uff0c\u5219\u9664\u4e86\u7b2c\u4e00\u6b21\u6267\u884c\u5230\u6b64\u884c\u4ee3\u7801\u5916\uff0c\u5176\u4f59\u6bcf\u6b21\u90fd\u8f93\u51fa\u6d88\u606f\uff08\u5373\u8df3\u8fc7\u7b2c\u4e00\u6b21\uff09\u3002\n\n        once: \u5982\u679c\u4e3a True\uff0c\u4ec5\u5728\u7b2c\u4e00\u6b21\u6267\u884c\u5230\u6b64\u884c\u4ee3\u7801\u65f6\u8f93\u51fa\u6d88\u606f\u3002\n\n        rclpy.logging.set_logger_level \u5c06\u7279\u5b9a\u65e5\u5fd7\u8bb0\u5f55\u5668\u540d\u79f0\uff08Logger Name\uff09\u7684\u65e5\u5fd7\u7ea7\u522b\u8bbe\u7f6e\u4e3a\u7ed9\u5b9a\u7684\u4e25\u91cd\u6027\u7ea7\u522b\uff08Severity Level\uff09\u3002\n\n        rclpy.logging.get_logger_effective_level \u7ed9\u5b9a\u4e00\u4e2a\u65e5\u5fd7\u8bb0\u5f55\u5668\u540d\u79f0\uff0c\u8fd4\u56de\u5176\u5f53\u524d\u7684\u65e5\u5fd7\u7ea7\u522b\uff08\u8be5\u7ea7\u522b\u53ef\u80fd\u5904\u4e8e\u672a\u8bbe\u7f6e\u72b6\u6001\uff09\u3002\n</code></pre>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#_3","title":"\u914d\u7f6e","text":"<p>\u7531\u4e8e <code>rclcpp</code> \u548c <code>rclpy</code> \u4f7f\u7528\u76f8\u540c\u7684\u5e95\u5c42\u65e5\u5fd7\u57fa\u7840\u8bbe\u65bd\uff0c\u56e0\u6b64\u914d\u7f6e\u9009\u9879\u662f\u76f8\u540c\u7684\u3002</p>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#_4","title":"\u73af\u5883\u53d8\u91cf","text":"<p>\u4ee5\u4e0b\u73af\u5883\u53d8\u91cf\u63a7\u5236 ROS 2 \u65e5\u5fd7\u8bb0\u5f55\u5668\u7684\u67d0\u4e9b\u65b9\u9762\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u662f\u8fdb\u7a0b\u8303\u56f4 (process-wide) \u7684\u8bbe\u7f6e\uff0c\u56e0\u6b64\u5b83\u4eec\u9002\u7528\u4e8e\u8be5\u8fdb\u7a0b\u4e2d\u7684\u6240\u6709\u8282\u70b9\u3002</p> <ul> <li> <p><code>ROS_LOG_DIR</code></p> <ul> <li>\u63a7\u5236\u7528\u4e8e\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u5165\u78c1\u76d8\uff08\u5982\u679c\u5df2\u542f\u7528\uff09\u7684\u65e5\u5fd7\u76ee\u5f55\u3002\u5982\u679c\u4e0d\u4e3a\u7a7a\uff0c\u5219\u4f7f\u7528\u6b64\u53d8\u91cf\u4e2d\u6307\u5b9a\u7684\u7cbe\u786e\u76ee\u5f55\u3002\u5982\u679c\u4e3a\u7a7a\uff0c\u5219\u4f7f\u7528 <code>ROS_HOME</code> \u73af\u5883\u53d8\u91cf\u7684\u5185\u5bb9\u6784\u5efa\u5f62\u5f0f\u4e3a <code>$ROS_HOME/.log</code> \u7684\u8def\u5f84\u3002\u5728\u6240\u6709\u60c5\u51b5\u4e0b\uff0c<code>~</code> \u5b57\u7b26\u90fd\u4f1a\u6269\u5c55\u4e3a\u7528\u6237\u7684 HOME \u76ee\u5f55\u3002</li> </ul> </li> <li> <p><code>ROS_HOME</code></p> <ul> <li>\u63a7\u5236\u7528\u4e8e\u5404\u79cd ROS \u6587\u4ef6\uff08\u5305\u62ec\u65e5\u5fd7\u548c\u914d\u7f6e\u6587\u4ef6\uff09\u7684\u4e3b\u76ee\u5f55\u3002\u5728\u65e5\u5fd7\u8bb0\u5f55\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c\u6b64\u53d8\u91cf\u7528\u4e8e\u6784\u5efa\u65e5\u5fd7\u6587\u4ef6\u76ee\u5f55\u7684\u8def\u5f84\u3002\u5982\u679c\u4e0d\u4e3a\u7a7a\uff0c\u5219\u5c06\u6b64\u53d8\u91cf\u7684\u5185\u5bb9\u7528\u4f5c ROS_HOME \u8def\u5f84\u3002\u5728\u6240\u6709\u60c5\u51b5\u4e0b\uff0c<code>~</code> \u5b57\u7b26\u90fd\u4f1a\u6269\u5c55\u4e3a\u7528\u6237\u7684 HOME \u76ee\u5f55\u3002</li> </ul> </li> <li> <p><code>RCUTILS_LOGGING_USE_STDOUT</code></p> <ul> <li>\u63a7\u5236\u8f93\u51fa\u6d88\u606f\u6d41\u5411\u7684\u76ee\u6807\u3002\u5982\u679c\u672a\u8bbe\u7f6e\u6216\u4e3a <code>0</code>\uff0c\u4f7f\u7528\u6807\u51c6\u9519\u8bef (<code>stderr</code>)\u3002\u5982\u679c\u662f <code>1</code>\uff0c\u4f7f\u7528\u6807\u51c6\u8f93\u51fa (<code>stdout</code>)\u3002</li> </ul> </li> <li> <p><code>RCUTILS_LOGGING_BUFFERED_STREAM</code></p> <ul> <li>\u63a7\u5236\u65e5\u5fd7\u6d41\uff08\u6309 <code>RCUTILS_LOGGING_USE_STDOUT</code> \u914d\u7f6e\uff09\u662f\u884c\u7f13\u51b2\u8fd8\u662f\u65e0\u7f13\u51b2\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u5219\u4f7f\u7528\u6d41\u7684\u9ed8\u8ba4\u8bbe\u7f6e\uff08\u901a\u5e38 stdout \u4e3a\u884c\u7f13\u51b2\uff0cstderr \u4e3a\u65e0\u7f13\u51b2\uff09\u3002\u5982\u679c\u662f <code>0</code>\uff0c\u5f3a\u5236\u6d41\u4e3a\u65e0\u7f13\u51b2\u3002\u5982\u679c\u662f <code>1</code>\uff0c\u5f3a\u5236\u6d41\u4e3a\u884c\u7f13\u51b2\u3002</li> </ul> </li> <li> <p><code>RCUTILS_COLORIZED_OUTPUT</code></p> <ul> <li>\u63a7\u5236\u8f93\u51fa\u6d88\u606f\u65f6\u662f\u5426\u4f7f\u7528\u989c\u8272\u3002\u5982\u679c\u672a\u8bbe\u7f6e\uff0c\u5219\u6839\u636e\u5e73\u53f0\u548c\u63a7\u5236\u53f0\u662f\u5426\u4e3a TTY \u81ea\u52a8\u786e\u5b9a\u3002\u5982\u679c\u662f <code>0</code>\uff0c\u5f3a\u5236\u7981\u7528\u989c\u8272\u8f93\u51fa\u3002\u5982\u679c\u662f <code>1</code>\uff0c\u5f3a\u5236\u542f\u7528\u989c\u8272\u8f93\u51fa\u3002</li> </ul> </li> <li> <p><code>RCUTILS_CONSOLE_OUTPUT_FORMAT</code></p> <ul> <li>\u63a7\u5236\u6bcf\u6761\u65e5\u5fd7\u6d88\u606f\u8f93\u51fa\u7684\u5b57\u6bb5\u3002\u53ef\u7528\u5b57\u6bb5\u5305\u62ec\uff1a<ul> <li><code>{severity}</code> - \u4e25\u91cd\u7ea7\u522b\u3002</li> <li><code>{name}</code> - \u65e5\u5fd7\u8bb0\u5f55\u5668\u7684\u540d\u79f0\uff08\u53ef\u80fd\u4e3a\u7a7a\uff09\u3002</li> <li><code>{message}</code> - \u65e5\u5fd7\u6d88\u606f\uff08\u53ef\u80fd\u4e3a\u7a7a\uff09\u3002</li> <li><code>{function_name}</code> - \u8c03\u7528\u6b64\u6d88\u606f\u7684\u51fd\u6570\u540d\uff08\u53ef\u80fd\u4e3a\u7a7a\uff09\u3002</li> <li><code>{file_name}</code> - \u8c03\u7528\u6b64\u6d88\u606f\u7684\u6587\u4ef6\u540d\uff08\u53ef\u80fd\u4e3a\u7a7a\uff09\u3002</li> <li><code>{time}</code> - \u81ea epoch \u4ee5\u6765\u7684\u65f6\u95f4\uff08\u79d2\uff09\u3002</li> <li><code>{time_as_nanoseconds}</code> - \u81ea epoch \u4ee5\u6765\u7684\u65f6\u95f4\uff08\u7eb3\u79d2\uff09\u3002</li> <li><code>{date_time_with_ms}</code> - ISO \u683c\u5f0f\u7684\u65f6\u95f4\uff0c\u4f8b\u5982 <code>2024-06-11 09:29:19.304</code>\u3002</li> <li><code>{line_number}</code> - \u8c03\u7528\u6b64\u6d88\u606f\u7684\u884c\u53f7\uff08\u53ef\u80fd\u4e3a\u7a7a\uff09\u3002</li> </ul> </li> </ul> <p>\u5982\u679c\u672a\u7ed9\u51fa\u683c\u5f0f\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c\uff1a<code>[{severity}] [{time}] [{name}]: {message}</code>\u3002</p> </li> </ul> <p>\u8f6c\u4e49\u5b57\u7b26\u8bed\u6cd5\uff1a <code>RCUTILS_CONSOLE_OUTPUT_FORMAT</code> \u4e5f\u652f\u6301\u4ee5\u4e0b\u8f6c\u4e49\u5b57\u7b26\u8bed\u6cd5\u3002</p> \u8f6c\u4e49\u5b57\u7b26\u8bed\u6cd5 \u4ee3\u8868\u5b57\u7b26 <code>\\a</code> Alert (\u8b66\u62a5) <code>\\b</code> Backspace (\u9000\u683c) <code>\\n</code> New line (\u6362\u884c) <code>\\r</code> Carriage return (\u56de\u8f66) <code>\\t</code> Horizontal tab (\u6c34\u5e73\u5236\u8868\u7b26)"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#_5","title":"\u8282\u70b9\u521b\u5efa","text":"<p>\u5728\u521d\u59cb\u5316 ROS 2 \u8282\u70b9\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u8282\u70b9\u9009\u9879\u63a7\u5236\u67d0\u4e9b\u884c\u4e3a\u3002\u7531\u4e8e\u8fd9\u4e9b\u662f\u6bcf\u4e2a\u8282\u70b9 (per-node) \u7684\u9009\u9879\uff0c\u5373\u4f7f\u8282\u70b9\u7ec4\u5408\u5728\u540c\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u4e0d\u540c\u7684\u8282\u70b9\u8fdb\u884c\u4e0d\u540c\u7684\u8bbe\u7f6e\u3002</p> <ul> <li> <p><code>log_levels</code></p> <ul> <li>\u7528\u4e8e\u6b64\u7279\u5b9a\u8282\u70b9\u5185\u7ec4\u4ef6\u7684\u65e5\u5fd7\u7ea7\u522b\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u8bbe\u7f6e\uff1a     <code>ros2 run demo_nodes_cpp talker --ros-args --log-level talker:=DEBUG</code></li> </ul> </li> <li> <p><code>external_log_config_file</code></p> <ul> <li>\u7528\u4e8e\u914d\u7f6e\u540e\u7aef\u65e5\u5fd7\u8bb0\u5f55\u5668\u7684\u5916\u90e8\u6587\u4ef6\u3002\u5982\u679c\u4e3a NULL\uff0c\u5c06\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u3002\u8bf7\u6ce8\u610f\uff0c\u6b64\u6587\u4ef6\u7684\u683c\u5f0f\u662f\u7279\u5b9a\u4e8e\u540e\u7aef\u7684\uff08\u5bf9\u4e8e\u9ed8\u8ba4\u7684 spdlog \u540e\u7aef\u65e5\u5fd7\u8bb0\u5f55\u5668\uff0c\u76ee\u524d\u5c1a\u672a\u5b9e\u73b0\uff09\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u8bbe\u7f6e\uff1a     <code>ros2 run demo_nodes_cpp talker --ros-args --log-config-file log-config.txt</code></li> </ul> </li> <li> <p><code>log_stdout_disabled</code></p> <ul> <li>\u662f\u5426\u7981\u7528\u5c06\u65e5\u5fd7\u6d88\u606f\u5199\u5165\u63a7\u5236\u53f0\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5b8c\u6210\uff1a     <code>ros2 run demo_nodes_cpp talker --ros-args --disable-stdout-logs</code></li> </ul> </li> <li> <p><code>log_rosout_disabled</code></p> <ul> <li>\u662f\u5426\u7981\u7528\u5c06\u65e5\u5fd7\u6d88\u606f\u8f93\u51fa\u5230 <code>/rosout</code>\u3002\u8fd9\u53ef\u4ee5\u663e\u8457\u8282\u7701\u7f51\u7edc\u5e26\u5bbd\uff0c\u4f46\u5916\u90e8\u89c2\u5bdf\u8005\u5c06\u65e0\u6cd5\u76d1\u63a7\u65e5\u5fd7\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5b8c\u6210\uff1a     <code>ros2 run demo_nodes_cpp talker --ros-args --disable-rosout-logs</code></li> </ul> </li> <li> <p><code>log_ext_lib_disabled</code></p> <ul> <li>\u662f\u5426\u5b8c\u5168\u7981\u7528\u4f7f\u7528\u5916\u90e8\u65e5\u5fd7\u5e93\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u8fd9\u53ef\u80fd\u4f1a\u66f4\u5feb\uff0c\u4f46\u4e5f\u610f\u5473\u7740\u65e5\u5fd7\u5c06\u4e0d\u4f1a\u5199\u5165\u78c1\u76d8\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5b8c\u6210\uff1a     <code>ros2 run demo_nodes_cpp talker --ros-args --disable-external-lib-logs</code></li> </ul> </li> </ul>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#_6","title":"\u65e5\u5fd7\u5b50\u7cfb\u7edf\u8bbe\u8ba1","text":"<p>\u4e0b\u56fe\u663e\u793a\u4e86\u65e5\u5fd7\u5b50\u7cfb\u7edf\u7684\u4e94\u4e2a\u4e3b\u8981\u90e8\u5206\u53ca\u5176\u4ea4\u4e92\u65b9\u5f0f\u3002 </p>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#rcutils","title":"rcutils","text":"<p><code>rcutils</code> \u62e5\u6709\u4e00\u4e2a\u65e5\u5fd7\u5b9e\u73b0\uff0c\u53ef\u4ee5\u6839\u636e\u7279\u5b9a\u683c\u5f0f\uff08\u53c2\u89c1\u4e0a\u9762\u7684\u914d\u7f6e\uff09\u683c\u5f0f\u5316\u65e5\u5fd7\u6d88\u606f\uff0c\u5e76\u5c06\u8fd9\u4e9b\u65e5\u5fd7\u6d88\u606f\u8f93\u51fa\u5230\u63a7\u5236\u53f0\u3002<code>rcutils</code> \u5b9e\u73b0\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u65e5\u5fd7\u89e3\u51b3\u65b9\u6848\uff0c\u4f46\u4e5f\u5141\u8bb8\u66f4\u9ad8\u7ea7\u522b\u7684\u7ec4\u4ef6\u4ee5\u4f9d\u8d56\u6ce8\u5165\uff08dependency-injection\uff09\u6a21\u578b\u5c06\u81ea\u5df1\u63d2\u5165\u5230\u65e5\u5fd7\u57fa\u7840\u8bbe\u65bd\u4e2d\u3002\u5f53\u6211\u4eec\u8ba8\u8bba\u4e0b\u9762\u7684 <code>rcl</code> \u5c42\u65f6\uff0c\u8fd9\u4e00\u70b9\u5c06\u53d8\u5f97\u66f4\u52a0\u660e\u663e\u3002</p> <p>\u6ce8\u610f\uff1a \u8fd9\u662f\u4e00\u4e2a\u6bcf\u8fdb\u7a0b (per-process) \u7684\u65e5\u5fd7\u5b9e\u73b0\uff0c\u56e0\u6b64\u5728\u6b64\u7ea7\u522b\u914d\u7f6e\u7684\u4efb\u4f55\u5185\u5bb9\u90fd\u5c06\u5f71\u54cd\u6574\u4e2a\u8fdb\u7a0b\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u5355\u4e2a\u8282\u70b9\u3002</p>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#rcl_logging_spdlog","title":"rcl_logging_spdlog","text":"<p><code>rcl_logging_spdlog</code> \u5b9e\u73b0\u4e86 <code>rcl_logging_interface</code> API\uff0c\u4ece\u800c\u4e3a <code>rcl</code> \u5c42\u63d0\u4f9b\u5916\u90e8\u65e5\u5fd7\u670d\u52a1\u3002\u5177\u4f53\u6765\u8bf4\uff0c<code>rcl_logging_spdlog</code> \u5b9e\u73b0\u63a5\u6536\u683c\u5f0f\u5316\u7684\u65e5\u5fd7\u6d88\u606f\uff0c\u5e76\u4f7f\u7528 <code>spdlog</code> \u5e93\u5c06\u5b83\u4eec\u5199\u5165\u78c1\u76d8\u4e0a\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u901a\u5e38\u4f4d\u4e8e <code>~/.ros/log</code> \u4e2d\uff08\u5c3d\u7ba1\u8fd9\u662f\u53ef\u914d\u7f6e\u7684\uff1b\u53c2\u89c1\u4e0a\u9762\u7684\u914d\u7f6e\uff09\u3002</p>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#rcl","title":"rcl","text":"<p><code>rcl</code> \u4e2d\u7684\u65e5\u5fd7\u5b50\u7cfb\u7edf\u4f7f\u7528 <code>rcutils</code> \u548c <code>rcl_logging_spdlog</code> \u6765\u63d0\u4f9b\u5927\u90e8\u5206 ROS 2 \u65e5\u5fd7\u670d\u52a1\u3002\u5f53\u65e5\u5fd7\u6d88\u606f\u4f20\u5165\u65f6\uff0c<code>rcl</code> \u51b3\u5b9a\u5c06\u5176\u53d1\u9001\u5230\u4f55\u5904\u3002\u65e5\u5fd7\u6d88\u606f\u53ef\u4ee5\u4f20\u9012\u5230\u7684 3 \u4e2a\u4e3b\u8981\u4f4d\u7f6e\uff08\u5355\u4e2a\u8282\u70b9\u53ef\u4ee5\u542f\u7528\u5176\u4e2d\u4efb\u4f55\u7ec4\u5408\uff09\uff1a</p> <ol> <li>\u901a\u8fc7 <code>rcutils</code> \u5c42\u53d1\u9001\u5230\u63a7\u5236\u53f0\u3002</li> <li>\u901a\u8fc7 <code>rcl_logging_spdlog</code> \u5c42\u53d1\u9001\u5230\u78c1\u76d8\u3002</li> <li>\u901a\u8fc7 RMW \u5c42\u53d1\u9001\u5230 ROS 2 \u7f51\u7edc\u4e0a\u7684 /rosout \u8bdd\u9898\u3002</li> </ol>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#rclcpp","title":"rclcpp","text":"<p>\u8fd9\u662f\u4f4d\u4e8e <code>rcl</code> API \u4e4b\u4e0a\u7684\u4e3b\u8981 ROS 2 C++ API\u3002\u5728\u65e5\u5fd7\u8bb0\u5f55\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c<code>rclcpp</code> \u63d0\u4f9b\u4e86 <code>RCLCPP_</code> \u65e5\u5fd7\u5b8f\uff1b\u6709\u5173\u5b8c\u6574\u5217\u8868\uff0c\u8bf7\u53c2\u9605\u4e0a\u9762\u7684 API \u63a5\u53e3\u3002\u5f53 <code>RCLCPP_</code> \u5b8f\u4e4b\u4e00\u8fd0\u884c\u65f6\uff0c\u5b83\u4f1a\u5c06\u8282\u70b9\u7684\u5f53\u524d\u4e25\u91cd\u7ea7\u522b\u4e0e\u5b8f\u7684\u4e25\u91cd\u7ea7\u522b\u8fdb\u884c\u68c0\u67e5\u3002\u5982\u679c\u5b8f\u7684\u4e25\u91cd\u7ea7\u522b\u5927\u4e8e\u6216\u7b49\u4e8e\u8282\u70b9\u4e25\u91cd\u7ea7\u522b\uff0c\u5219\u6d88\u606f\u5c06\u88ab\u683c\u5f0f\u5316\u5e76\u8f93\u51fa\u5230\u5f53\u524d\u914d\u7f6e\u7684\u6240\u6709\u4f4d\u7f6e\u3002</p> <p>\u6ce8\u610f\uff1a <code>rclcpp</code> \u5bf9\u65e5\u5fd7\u8c03\u7528\u4f7f\u7528\u5168\u5c40\u4e92\u65a5\u9501 (global mutex)\uff0c\u56e0\u6b64\u540c\u4e00\u8fdb\u7a0b\u5185\u7684\u6240\u6709\u65e5\u5fd7\u8c03\u7528\u6700\u7ec8\u90fd\u662f\u5355\u7ebf\u7a0b\u7684\u3002</p>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#rclpy","title":"rclpy","text":"<p>\u8fd9\u662f\u4f4d\u4e8e <code>rcl</code> API \u4e4b\u4e0a\u7684\u4e3b\u8981 ROS 2 Python API\u3002\u5728\u65e5\u5fd7\u8bb0\u5f55\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c<code>rclpy</code> \u63d0\u4f9b\u4e86 <code>logger.debug</code> \u98ce\u683c\u7684\u51fd\u6570\u3002\u5f53 <code>logger.debug</code> \u51fd\u6570\u4e4b\u4e00\u8fd0\u884c\u65f6\uff0c\u5b83\u4f1a\u5c06\u8282\u70b9\u7684\u5f53\u524d\u4e25\u91cd\u7ea7\u522b\u4e0e\u5b8f\u7684\u4e25\u91cd\u7ea7\u522b\u8fdb\u884c\u68c0\u67e5\u3002\u5982\u679c\u5b8f\u7684\u4e25\u91cd\u7ea7\u522b\u5927\u4e8e\u6216\u7b49\u4e8e\u8282\u70b9\u4e25\u91cd\u7ea7\u522b\uff0c\u5219\u6d88\u606f\u5c06\u88ab\u683c\u5f0f\u5316\u5e76\u8f93\u51fa\u5230\u5f53\u524d\u914d\u7f6e\u7684\u6240\u6709\u4f4d\u7f6e\u3002</p>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#_7","title":"\u65e5\u5fd7\u7528\u6cd5","text":""},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#c","title":"C++","text":"<p>\u8bf7\u53c2\u9605 rclcpp logging demo \u83b7\u53d6\u4e00\u4e9b\u7b80\u5355\u793a\u4f8b\u3002</p>"},{"location":"ros2/Concepts/intermediate/Logging_and_logger_configuration/#python","title":"Python","text":"<p>\u8bf7\u53c2\u9605 logging demo \u83b7\u53d6\u793a\u4f8b\u7528\u6cd5\u3002</p> <p>Would you like me to create a specific <code>RCLCPP</code> logging example snippet demonstrating how to set up a custom logger with a specific severity threshold?</p>"},{"location":"ros2/Concepts/intermediate/Overview_and_usage_of_RQt/","title":"RQt\u6982\u8ff0\u548c\u4f7f\u7528","text":""},{"location":"ros2/Concepts/intermediate/Overview_and_usage_of_RQt/#rqt","title":"RQt \u6982\u8ff0\u4e0e\u4f7f\u7528","text":""},{"location":"ros2/Concepts/intermediate/Overview_and_usage_of_RQt/#_1","title":"\u6982\u8ff0","text":"<p>RQt \u662f\u4e00\u4e2a\u56fe\u5f62\u7528\u6237\u754c\u9762\u6846\u67b6\uff0c\u4ee5\u63d2\u4ef6\u5f62\u5f0f\u5b9e\u73b0\u5404\u79cd\u5de5\u5177\u548c\u63a5\u53e3\u3002\u4f60\u53ef\u4ee5\u5728 RQt \u4e2d\u4ee5\u6d6e\u52a8\u7a97\u53e3\u7684\u5f62\u5f0f\u8fd0\u884c\u6240\u6709\u73b0\u6709\u7684 GUI \u5de5\u5177\u3002\u5de5\u5177\u4ecd\u7136\u53ef\u4ee5\u4ee5\u4f20\u7edf\u7684\u72ec\u7acb\u65b9\u5f0f\u8fd0\u884c\uff0c\u4f46 RQt \u53ef\u4ee5\u66f4\u65b9\u4fbf\u5730\u5728\u4e00\u4e2a\u5c4f\u5e55\u5e03\u5c40\u4e2d\u7ba1\u7406\u6240\u6709\u5404\u79cd\u7a97\u53e3\u3002</p> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u8f7b\u677e\u8fd0\u884c\u4efb\u4f55 RQt \u5de5\u5177/\u63d2\u4ef6\uff1a</p> <pre><code>rqt\n</code></pre> <p>\u8fd9\u4e2a GUI \u5141\u8bb8\u4f60\u9009\u62e9\u7cfb\u7edf\u4e2d\u53ef\u7528\u7684\u4efb\u4f55\u63d2\u4ef6\u3002\u4f60\u4e5f\u53ef\u4ee5\u5728\u72ec\u7acb\u7a97\u53e3\u4e2d\u8fd0\u884c\u63d2\u4ef6\u3002\u4f8b\u5982\uff0cRQt Python \u63a7\u5236\u53f0\uff1a</p> <pre><code>ros2 run rqt_py_console rqt_py_console\n</code></pre> <p>\u7528\u6237\u53ef\u4ee5\u4f7f\u7528 Python \u6216 C++ \u4e3a RQt \u521b\u5efa\u81ea\u5df1\u7684\u63d2\u4ef6\u3002\u8981\u67e5\u770b\u7cfb\u7edf\u53ef\u7528\u7684 RQt \u63d2\u4ef6\uff0c\u8bf7\u8fd0\u884c\uff1a</p> <pre><code>ros2 pkg list\n</code></pre> <p>\u7136\u540e\u67e5\u627e\u4ee5 <code>rqt_</code> \u5f00\u5934\u7684\u5305\u3002</p>"},{"location":"ros2/Concepts/intermediate/Overview_and_usage_of_RQt/#_2","title":"\u7cfb\u7edf\u8bbe\u7f6e","text":""},{"location":"ros2/Concepts/intermediate/Overview_and_usage_of_RQt/#deb","title":"\u4ece deb \u5b89\u88c5","text":"<pre><code>sudo apt install ros-kilted-rqt*\n</code></pre>"},{"location":"ros2/Concepts/intermediate/Overview_and_usage_of_RQt/#rqt_1","title":"RQt \u7ec4\u4ef6\u7ed3\u6784","text":"<p>RQt \u7531\u4e24\u4e2a\u5143\u5305\u7ec4\u6210\uff1a</p> <ul> <li><code>rqt</code> - \u6838\u5fc3\u57fa\u7840\u8bbe\u65bd\u6a21\u5757\u3002</li> <li><code>rqt_common_plugins</code> - \u5e38\u7528\u7684\u8c03\u8bd5\u5de5\u5177\u3002</li> </ul>"},{"location":"ros2/Concepts/intermediate/Overview_and_usage_of_RQt/#rqt_2","title":"RQt \u6846\u67b6\u7684\u4f18\u52bf","text":"<p>\u4e0e\u4ece\u5934\u5f00\u59cb\u6784\u5efa\u81ea\u5df1\u7684 GUI \u76f8\u6bd4\uff1a</p> <ul> <li>\u63d0\u4f9b\u6807\u51c6\u5316\u7684\u5e38\u89c1 GUI \u8fc7\u7a0b\uff08\u542f\u52a8\u5173\u95ed\u94a9\u5b50\u3001\u6062\u590d\u5148\u524d\u72b6\u6001\uff09\u3002</li> <li>\u591a\u4e2a\u90e8\u4ef6\u53ef\u4ee5\u505c\u9760\u5728\u4e00\u4e2a\u7a97\u53e3\u4e2d\u3002</li> <li>\u8f7b\u677e\u5c06\u73b0\u6709\u7684 Qt \u5c0f\u90e8\u4ef6\u8f6c\u6362\u4e3a RQt \u63d2\u4ef6\u3002</li> <li>\u5728\u673a\u5668\u4eba\u5806\u6808\u4ea4\u6362\uff08ROS \u793e\u533a\u7f51\u7ad9\u4e0a\u7684\u95ee\u7b54\u7ad9\u70b9\uff09\u83b7\u5f97\u652f\u6301\u3002</li> </ul> <p>\u4ece\u7cfb\u7edf\u67b6\u6784\u7684\u89d2\u5ea6\u6765\u770b\uff1a</p> <ul> <li>\u652f\u6301\u591a\u5e73\u53f0\uff08\u57fa\u672c\u5728\u4efb\u4f55\u8fd0\u884c QT \u548c ROS \u7684\u5730\u65b9\uff09\u548c\u591a\u8bed\u8a00\uff08Python, C++\uff09\u3002</li> <li>\u53ef\u7ba1\u7406\u751f\u547d\u5468\u671f\uff1a\u4f7f\u7528\u901a\u7528 API \u7684 RQt \u63d2\u4ef6\u7b80\u5316\u4e86\u7ef4\u62a4\u548c\u91cd\u7528\u3002</li> </ul>"},{"location":"ros2/Concepts/intermediate/Overview_and_usage_of_RQt/#_3","title":"\u8fdb\u4e00\u6b65\u9605\u8bfb","text":"<ul> <li>ROS 2 \u53d1\u5e03\u5173\u4e8e\u79fb\u690d\u5230 ROS 2 \u7684\u516c\u544a</li> <li>\u9002\u7528\u4e8e ROS 1 \u7684 RQt \u6587\u6863</li> <li>RQt \u7b80\u4ecb\uff08Willow Garage \u5b9e\u4e60\u751f\u535a\u5ba2\u6587\u7ae0\uff09 ROS GUI\u89c6\u9891: https://youtu.be/CyP9wHu2PpY</li> </ul>"},{"location":"ros2/Concepts/intermediate/Quality_of_Service_settings/","title":"\u670d\u52a1\u8d28\u91cf\u8bbe\u7f6e","text":""},{"location":"ros2/Concepts/intermediate/ROS2_Security/","title":"ROS2\u5b89\u5168","text":""},{"location":"ros2/Concepts/intermediate/ROS2_Security/#ros-2-ros-2-security","title":"ROS 2 \u5b89\u5168\u6027 (ROS 2 Security)","text":""},{"location":"ros2/Concepts/intermediate/ROS2_Security/#overview","title":"\u6982\u8ff0 (Overview)","text":"<p>ROS 2 \u5177\u5907\u4fdd\u62a4 ROS 2 \u8ba1\u7b97\u56fe\uff08computational graph\uff09\u4e2d\u8282\u70b9\u95f4\u901a\u4fe1\u7684\u80fd\u529b\u3002\u4e0e\u53d1\u73b0\u673a\u5236\uff08discovery\uff09\u7c7b\u4f3c\uff0c\u5b89\u5168\u6027\u4e5f\u662f\u901a\u8fc7\u5e95\u5c42\u7684 ROS 2 \u4e2d\u95f4\u4ef6\u5b9e\u73b0\u7684\uff08\u524d\u63d0\u662f\u8be5\u4e2d\u95f4\u4ef6\u652f\u6301\u76f8\u5e94\u7684\u5b89\u5168\u63d2\u4ef6\uff09\u3002\u542f\u7528\u5b89\u5168\u6027\u65e0\u9700\u5b89\u88c5\u989d\u5916\u7684\u8f6f\u4ef6\uff1b\u4f46\u662f\uff0c\u4e2d\u95f4\u4ef6\u9700\u8981\u4e3a\u6bcf\u4e2a ROS \u56fe\u53c2\u4e0e\u8005\u914d\u7f6e\u76f8\u5e94\u7684\u6587\u4ef6\u3002\u8fd9\u4e9b\u6587\u4ef6\u542f\u7528\u4e86\u52a0\u5bc6\u548c\u8eab\u4efd\u9a8c\u8bc1\uff0c\u5e76\u5b9a\u4e49\u4e86\u9488\u5bf9\u5355\u4e2a\u8282\u70b9\u4ee5\u53ca\u6574\u4e2a ROS \u56fe\u7684\u7b56\u7565\u3002ROS 2 \u8fd8\u589e\u52a0\u4e86\u4e00\u4e2a\u603b\u201c\u5f00\u5173\u201d\u6765\u63a7\u5236\u5b89\u5168\u884c\u4e3a\u3002</p> <p>ROS \u5b9e\u7528\u5de5\u5177\u53ef\u4ee5\u4e3a ROS \u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u6743\u5a01\u7684\u4fe1\u4efb\u951a\u70b9 (trust anchor)\uff0c\u6216\u8005\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5916\u90e8\u7684\u8bc1\u4e66\u9881\u53d1\u673a\u6784 (CA)\u3002</p> <p>\u5185\u7f6e\u7684 ROS 2 \u5b89\u5168\u7279\u6027\u80fd\u591f\u63a7\u5236\u6574\u4e2a ROS \u56fe\u4e2d\u7684\u901a\u4fe1\u3002\u8fd9\u4e0d\u4ec5\u5141\u8bb8\u5bf9 ROS \u57df\u53c2\u4e0e\u8005\u4e4b\u95f4\u4f20\u8f93\u7684\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\uff0c\u8fd8\u80fd\u5bf9\u53d1\u9001\u6570\u636e\u7684\u53c2\u4e0e\u8005\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\uff0c\u786e\u4fdd\u6240\u53d1\u9001\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u5e76\u542f\u7528\u5168\u57df\u8303\u56f4\u7684\u8bbf\u95ee\u63a7\u5236\u3002</p> <p>ROS 2 \u7684\u5b89\u5168\u670d\u52a1\u7531\u5e95\u5c42\u7684\u6570\u636e\u5206\u53d1\u670d\u52a1 (DDS)\u63d0\u4f9b\uff0cDDS \u7528\u4e8e\u8282\u70b9\u95f4\u7684\u901a\u4fe1\u3002DDS \u4f9b\u5e94\u5546\u63d0\u4f9b\u4e86\u53ef\u4e0e ROS \u914d\u5408\u4f7f\u7528\u7684\u5f00\u6e90\u548c\u5546\u4e1a DDS \u5b9e\u73b0\u3002\u7136\u800c\uff0c\u4e3a\u4e86\u521b\u5efa\u4e00\u4e2a\u7b26\u5408\u89c4\u8303\u7684 DDS \u5b9e\u73b0\uff0c\u6240\u6709\u4f9b\u5e94\u5546\u5fc5\u987b\u5305\u542b DDS \u5b89\u5168\u89c4\u8303\u4e2d\u5217\u51fa\u7684\u5b89\u5168\u63d2\u4ef6\u3002ROS \u5b89\u5168\u7279\u6027\u5229\u7528\u8fd9\u4e9b DDS \u5b89\u5168\u63d2\u4ef6\u6765\u63d0\u4f9b\u57fa\u4e8e\u7b56\u7565\u7684\u52a0\u5bc6\u3001\u8eab\u4efd\u9a8c\u8bc1\u548c\u8bbf\u95ee\u63a7\u5236\u3002DDS \u548c ROS \u7684\u5b89\u5168\u6027\u662f\u901a\u8fc7\u9884\u5b9a\u4e49\u7684\u914d\u7f6e\u6587\u4ef6\u548c\u73af\u5883\u53d8\u91cf\u542f\u7528\u7684\u3002</p>"},{"location":"ros2/Concepts/intermediate/ROS2_Security/#the-security-enclave","title":"\u5b89\u5168\u533a\u57df (The Security Enclave)","text":"<p>\u4e00\u4e2a \u5b89\u5168\u533a\u57df (Security Enclave) \u5c01\u88c5\u4e86\u7528\u4e8e\u4fdd\u62a4 ROS \u901a\u4fe1\u7684\u5355\u4e00\u7b56\u7565\u3002\u8be5\u533a\u57df\u53ef\u4ee5\u4e3a\u591a\u4e2a\u8282\u70b9\u3001\u6574\u4e2a ROS \u56fe\uff0c\u6216\u53d7\u4fdd\u62a4\u7684 ROS \u8fdb\u7a0b\u4e0e\u8bbe\u5907\u7684\u4efb\u610f\u7ec4\u5408\u8bbe\u7f6e\u7b56\u7565\u3002\u5728\u90e8\u7f72\u65f6\uff0c\u5b89\u5168\u533a\u57df\u53ef\u4ee5\u7075\u6d3b\u5730\u6620\u5c04\u5230\u8fdb\u7a0b\u3001\u7528\u6237\u6216\u8bbe\u5907\u3002\u8c03\u6574\u8fd9\u79cd\u9ed8\u8ba4\u884c\u4e3a\u5bf9\u4e8e\u4f18\u5316\u901a\u4fe1\u548c\u5904\u7406\u590d\u6742\u7cfb\u7edf\u53d8\u5f97\u975e\u5e38\u91cd\u8981\u3002\u6709\u5173\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ROS 2 \u5b89\u5168\u533a\u57df\u8bbe\u8ba1\u6587\u6863\u3002</p>"},{"location":"ros2/Concepts/intermediate/ROS2_Security/#security-files","title":"\u5b89\u5168\u6587\u4ef6 (Security Files)","text":"<p>\u6839\u636e DDS \u89c4\u8303\uff0c\u5efa\u7acb\u4e00\u4e2a ROS 2 \u5b89\u5168\u533a\u57df \u9700\u8981 6 \u4e2a\u6587\u4ef6\u3002\u5176\u4e2d\u4e09\u4e2a\u6587\u4ef6\u5b9a\u4e49\u533a\u57df\u7684\u8eab\u4efd (Identity)\uff0c\u53e6\u5916\u4e09\u4e2a\u6587\u4ef6\u5b9a\u4e49\u6388\u4e88\u8be5\u533a\u57df\u7684\u6743\u9650 (Permissions)\u3002\u6240\u6709\u516d\u4e2a\u6587\u4ef6\u90fd\u4f4d\u4e8e\u540c\u4e00\u4e2a\u76ee\u5f55\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u5408\u683c\u7684\u533a\u57df\u8def\u5f84\uff0c\u542f\u52a8\u7684\u8282\u70b9\u5c06\u4f7f\u7528\u9ed8\u8ba4\u6839\u7ea7\u533a\u57df\u4e2d\u7684\u6587\u4ef6\u3002</p>"},{"location":"ros2/Concepts/intermediate/ROS2_Security/#enclave-identity","title":"\u533a\u57df\u8eab\u4efd (Enclave Identity)","text":"<ol> <li><code>identity_ca.cert.pem</code> (\u8eab\u4efd\u8bc1\u4e66\u9881\u53d1\u673a\u6784\u6587\u4ef6): \u5145\u5f53\u7528\u4e8e\u8bc6\u522b\u53c2\u4e0e\u8005\u7684\u4fe1\u4efb\u951a\u70b9\u3002</li> <li><code>cert.pem</code>: \u6bcf\u4e2a\u533a\u57df\u6301\u6709\u7684\u552f\u4e00\u8eab\u4efd\u8bc1\u4e66\u3002</li> <li><code>key.pem</code>: \u4e0e\u8eab\u4efd\u8bc1\u4e66\u5173\u8054\u7684\u79c1\u94a5\u3002</li> </ol> <p>\u7531\u4e8e <code>cert.pem</code> \u8bc1\u4e66\u5df2\u7531\u8eab\u4efd\u8bc1\u4e66\uff08CA\uff09\u7b7e\u540d\uff0c\u5f53\u4e00\u4e2a\u53c2\u4e0e\u8005\u5411\u5176\u4ed6\u57df\u6210\u5458\u51fa\u793a\u6b64\u8bc1\u4e66\u65f6\uff0c\u5176\u4ed6\u6210\u5458\u80fd\u591f\u4f7f\u7528\u4ed6\u4eec\u81ea\u5df1\u7684\u8eab\u4efd\u8bc1\u4e66\u526f\u672c\u9a8c\u8bc1\u8be5\u53c2\u4e0e\u8005\u7684\u8eab\u4efd\u3002\u8fd9\u79cd\u6709\u6548\u7684\u8bc1\u4e66\u4ea4\u6362\u5141\u8bb8\u8be5\u533a\u57df\u4e0e\u5176\u4ed6\u53c2\u4e0e\u8005\u5b89\u5168\u5730\u5efa\u7acb\u53d7\u4fe1\u4efb\u7684\u901a\u4fe1\u3002</p> <p>\u6ce8\u610f\uff1a \u533a\u57df\u4e0d\u4f1a\u5171\u4eab <code>key.pem</code> \u79c1\u94a5\uff0c\u5b83\u4ec5\u7528\u4e8e\u89e3\u5bc6\u548c\u6d88\u606f\u7b7e\u540d\u3002</p>"},{"location":"ros2/Concepts/intermediate/ROS2_Security/#enclave-permissions","title":"\u533a\u57df\u6743\u9650 (Enclave Permissions)","text":"<ol> <li><code>permissions_ca.cert.pem</code> (\u6743\u9650\u8bc1\u4e66\u9881\u53d1\u673a\u6784\u6587\u4ef6): \u5145\u5f53\u5411\u5b89\u5168\u533a\u57df\u6388\u4e88\u6743\u9650\u7684\u4fe1\u4efb\u951a\u70b9\u3002</li> <li><code>governance.p7s</code>: \u7531\u6743\u9650 CA \u7b7e\u540d\u7684 XML \u6587\u6863\uff0c\u5b9a\u4e49\u4e86\u5168\u57df\u8303\u56f4\u7684\u4fdd\u62a4\u7b56\u7565\u3002</li> <li><code>permissions.p7s</code>: \u540c\u6837\u662f XML \u6587\u4ef6\uff0c\u6982\u8ff0\u4e86\u8be5\u7279\u5b9a\u533a\u57df\u7684\u6743\u9650\uff0c\u5e76\u5df2\u7531\u6743\u9650 CA \u7b7e\u540d\u3002</li> </ol> <p>\u57df\u6210\u5458\u4f7f\u7528\u6743\u9650 CA \u7684\u526f\u672c\u6765\u9a8c\u8bc1\u8fd9\u4e9b\u7b7e\u540d\u6587\u4ef6\u5e76\u6388\u4e88\u8bf7\u6c42\u7684\u8bbf\u95ee\u6743\u9650\u3002</p> <p>\u867d\u7136\u8fd9\u4e24\u4e2a\u8bc1\u4e66\u9881\u53d1\u673a\u6784\u652f\u6301\u8eab\u4efd\u548c\u6743\u9650\u7684\u5206\u79bb\u5de5\u4f5c\u6d41\uff0c\u4f46\u5728\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u540c\u4e00\u4e2a\u8bc1\u4e66\u4f1a\u540c\u65f6\u5145\u5f53\u8eab\u4efd\u548c\u6743\u9650\u7684\u9881\u53d1\u673a\u6784\u3002</p>"},{"location":"ros2/Concepts/intermediate/ROS2_Security/#private-keys","title":"\u79c1\u94a5 (Private Keys)","text":"<p>\u8eab\u4efd\u8bc1\u4e66\u548c\u6743\u9650\u8bc1\u4e66\u4e5f\u6709\u5173\u8054\u7684\u79c1\u94a5\u6587\u4ef6\u3002</p> <ul> <li>\u6dfb\u52a0\u65b0\u533a\u57df\uff1a \u901a\u8fc7\u4f7f\u7528\u8eab\u4efd\u8bc1\u4e66\u7684\u79c1\u94a5\u7b7e\u7f72\u5176\u8bc1\u4e66\u7b7e\u540d\u8bf7\u6c42 (CSR) \u6765\u5411\u57df\u4e2d\u6dfb\u52a0\u65b0\u533a\u57df\u3002</li> <li>\u6388\u4e88\u6743\u9650\uff1a \u540c\u6837\uff0c\u901a\u8fc7\u4f7f\u7528\u6743\u9650\u8bc1\u4e66\u7684\u79c1\u94a5\u7b7e\u7f72\u6743\u9650 XML \u6587\u6863\u6765\u4e3a\u65b0\u533a\u57df\u6388\u4e88\u6743\u9650\u3002</li> </ul>"},{"location":"ros2/Concepts/intermediate/ROS2_Security/#security-environment-variables","title":"\u5b89\u5168\u73af\u5883\u53d8\u91cf (Security Environment Variables)","text":"<ul> <li> <p><code>ROS_SECURITY_ENABLE</code>     \u5145\u5f53\u533a\u57df ROS 2 \u5b89\u5168\u7279\u6027\u7684\u603b\u201c\u5f00\u5173\u201d\u3002\u5b89\u5168\u6027\u9ed8\u8ba4\u662f\u5173\u95ed\u7684\uff0c\u56e0\u6b64\u5373\u4f7f\u5b58\u5728\u6b63\u786e\u7684\u5b89\u5168\u6587\u4ef6\uff0c\u5b89\u5168\u7279\u6027\u4e5f\u4e0d\u4f1a\u542f\u7528\u3002\u4e3a\u4e86\u542f\u7528 ROS 2 \u5b89\u5168\u6027\uff0c\u8bf7\u5c06\u6b64\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u4e3a <code>true</code>\uff08\u533a\u5206\u5927\u5c0f\u5199\uff09\u3002</p> </li> <li> <p><code>ROS_SECURITY_STRATEGY</code>     \u4e00\u65e6\u542f\u7528\u4e86\u5b89\u5168\u6027\uff0c\u6b64\u73af\u5883\u53d8\u91cf\u5b9a\u4e49\u4e86\u57df\u53c2\u4e0e\u8005\u5728\u542f\u52a8\u9047\u5230\u95ee\u9898\u65f6\u7684\u5904\u7406\u65b9\u5f0f\u3002\u5b89\u5168\u7279\u6027\u4f9d\u8d56\u4e8e\u8bc1\u4e66\u548c\u6b63\u786e\u7b7e\u540d\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4f46\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u914d\u7f6e\u4e0d\u5f53\u7684\u53c2\u4e0e\u8005\u4ecd\u7136\u53ef\u4ee5\u542f\u52a8\u6210\u529f\uff0c\u53ea\u662f\u6ca1\u6709\u5b89\u5168\u7279\u6027\u3002\u4e3a\u4e86\u5f3a\u5236\u4e25\u683c\u9075\u5b88\u5b89\u5168\u8bbe\u7f6e\u5e76\u8ba9\u4e0d\u5408\u89c4\u7684\u533a\u57df\u542f\u52a8\u5931\u8d25\uff0c\u8bf7\u5c06\u6b64\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u4e3a <code>Enforce</code>\uff08\u533a\u5206\u5927\u5c0f\u5199\uff09\u3002</p> </li> </ul> <p>\u66f4\u591a\u7684\u5b89\u5168\u76f8\u5173\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u5728 ROS 2 DDS-Security \u96c6\u6210\u8bbe\u8ba1\u6587\u6863 \u4e2d\u627e\u5230\u3002\u8fd9\u4e9b\u53d8\u91cf\u901a\u5e38\u7528\u4e8e\u534f\u52a9 ROS \u7ba1\u7406\u533a\u57df\u548c\u5b9a\u4f4d\u5b89\u5168\u6587\u4ef6\u3002</p>"},{"location":"ros2/Concepts/intermediate/ROS2_Security/#learn-more","title":"\u4e86\u89e3\u66f4\u591a (Learn More)","text":"<p>\u6709\u5173\u542f\u7528 ROS 2 \u901a\u4fe1\u5b89\u5168\u6027\u7684\u66f4\u591a\u4fe1\u606f\u548c\u52a8\u624b\u7ec3\u4e60\uff0c\u8bf7\u53c2\u9605 \u8bbe\u7f6e\u5b89\u5168\u6027 (Setting up security) \u6559\u7a0b\u3002</p>"},{"location":"ros2/Concepts/intermediate/Tf2/","title":"Tf2","text":""},{"location":"ros2/Concepts/intermediate/Tf2/#tf2","title":"Tf2","text":""},{"location":"ros2/Concepts/intermediate/Tf2/#_1","title":"\u76ee\u5f55","text":"<ul> <li>\u6982\u8ff0</li> <li>tf2 \u7684\u7279\u6027</li> <li>\u53d1\u5e03\u53d8\u6362</li> <li>\u4f4d\u7f6e (Position)</li> <li>\u901f\u5ea6 (Velocity)</li> <li>\u6559\u7a0b</li> <li>\u8bba\u6587</li> </ul>"},{"location":"ros2/Concepts/intermediate/Tf2/#overview","title":"\u6982\u8ff0 (Overview)","text":"<p>tf2 \u662f\u4e00\u4e2a\u53d8\u6362\uff08transform\uff09\u5e93\uff0c\u5b83\u5141\u8bb8\u7528\u6237\u968f\u65f6\u95f4\u8ddf\u8e2a\u591a\u4e2a\u5750\u6807\u7cfb\u3002tf2 \u5728\u4e00\u4e2a\u65f6\u95f4\u7f13\u51b2\u7684\u6811\u5f62\u7ed3\u6784\u4e2d\u7ef4\u62a4\u5750\u6807\u7cfb\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5e76\u5141\u8bb8\u7528\u6237\u5728\u4efb\u610f\u6240\u9700\u7684\u65f6\u95f4\u70b9\uff0c\u5728\u4efb\u610f\u4e24\u4e2a\u5750\u6807\u7cfb\u4e4b\u95f4\u8f6c\u6362\u70b9\u3001\u5411\u91cf\u7b49\u6570\u636e\u3002</p>"},{"location":"ros2/Concepts/intermediate/Tf2/#tf2-properties-of-tf2","title":"tf2 \u7684\u7279\u6027 (Properties of tf2)","text":"<p>\u4e00\u4e2a\u673a\u5668\u4eba\u7cfb\u7edf\u901a\u5e38\u62e5\u6709\u8bb8\u591a\u968f\u65f6\u95f4\u53d8\u5316\u7684 3D \u5750\u6807\u7cfb\uff0c\u4f8b\u5982\u4e16\u754c\u5750\u6807\u7cfb\uff08world frame\uff09\u3001\u57fa\u5ea7\u5750\u6807\u7cfb\uff08base frame\uff09\u3001\u5939\u722a\u5750\u6807\u7cfb\uff08gripper frame\uff09\u3001\u5934\u90e8\u5750\u6807\u7cfb\uff08head frame\uff09\u7b49\u3002tf2 \u4f1a\u968f\u65f6\u95f4\u8ddf\u8e2a\u6240\u6709\u8fd9\u4e9b\u5750\u6807\u7cfb\uff0c\u5e76\u5141\u8bb8\u60a8\u63d0\u51fa\u5982\u4e0b\u95ee\u9898\uff1a</p> <ul> <li>5 \u79d2\u524d\uff0c\u5934\u90e8\u5750\u6807\u7cfb\u76f8\u5bf9\u4e8e\u4e16\u754c\u5750\u6807\u7cfb\u5728\u54ea\u91cc\uff1f</li> <li>\u6211\u7684\u5939\u722a\u4e2d\u7684\u7269\u4f53\u76f8\u5bf9\u4e8e\u6211\u7684\u57fa\u5ea7\u7684\u4f4d\u59ff\uff08pose\uff09\u662f\u4ec0\u4e48\uff1f</li> <li>\u57fa\u5ea7\u5750\u6807\u7cfb\u5728\u5730\u56fe\u5750\u6807\u7cfb\u4e2d\u7684\u5f53\u524d\u4f4d\u59ff\u662f\u4ec0\u4e48\uff1f</li> </ul> <p>tf2 \u53ef\u4ee5\u5728\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u8fd0\u884c\u3002\u8fd9\u610f\u5473\u7740\u5173\u4e8e\u673a\u5668\u4eba\u5750\u6807\u7cfb\u7684\u6240\u6709\u4fe1\u606f\u90fd\u53ef\u4f9b\u7cfb\u7edf\u4e2d\u4efb\u4f55\u8ba1\u7b97\u673a\u4e0a\u7684\u6240\u6709 ROS 2 \u7ec4\u4ef6\u4f7f\u7528\u3002tf2 \u53ef\u4ee5\u8ba9\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u6bcf\u4e2a\u7ec4\u4ef6\u6784\u5efa\u81ea\u5df1\u7684\u53d8\u6362\u4fe1\u606f\u6570\u636e\u5e93\uff0c\u6216\u8005\u62e5\u6709\u4e00\u4e2a\u4e2d\u5fc3\u8282\u70b9\u6765\u6536\u96c6\u548c\u5b58\u50a8\u6240\u6709\u53d8\u6362\u4fe1\u606f\u3002</p> <pre><code>flowchart LR\n      E((\u5730\u7403&lt;br&gt;Earth))\n      E --&gt; A[[\u8f66\u8f86 A&lt;br&gt;Car A]]\n      E --&gt; B[[\u8f66\u8f86 B&lt;br&gt;Car B]]\n      E --&gt; C{{\u536b\u661f C&lt;br&gt;Satellite C}}\n      E --&gt; D((\u6708\u7403 D&lt;br&gt;Moon D))</code></pre>"},{"location":"ros2/Concepts/intermediate/Tf2/#publishing-transforms","title":"\u53d1\u5e03\u53d8\u6362 (Publishing transforms)","text":"<p>\u5728\u53d1\u5e03\u53d8\u6362\u65f6\uff0c\u6211\u4eec\u901a\u5e38\u5c06\u5176\u89c6\u4e3a\u4ece\u4e00\u4e2a\u5750\u6807\u7cfb\u5230\u53e6\u4e00\u4e2a\u5750\u6807\u7cfb\u7684\u53d8\u6362\u3002\u8bed\u4e49\u4e0a\u7684\u533a\u522b\u5728\u4e8e\uff0c\u4f60\u662f\u5728\u53d8\u6362\u5728\u4e00\u4e2a\u5750\u6807\u7cfb\u4e2d\u8868\u793a\u7684\u6570\u636e\uff0c\u8fd8\u662f\u5728\u53d8\u6362\u5750\u6807\u7cfb\u672c\u8eab\u3002\u8fd9\u4e9b\u503c\u662f\u76f4\u63a5\u4e92\u9006\u7684\u3002\u5728 <code>geometry_msgs/msg/Transform</code> \u6d88\u606f\u4e2d\u53d1\u5e03\u7684\u53d8\u6362\u8868\u793a\u7684\u662f\u5750\u6807\u7cfb\u7684\u6784\u578b\uff08frame formulation\uff09\u3002\u5728\u8c03\u8bd5\u53d1\u5e03\u7684\u53d8\u6362\u65f6\u8bf7\u8bb0\u4f4f\u8fd9\u4e00\u70b9\uff1a\u5b83\u4eec\u662f\u4f60\u6839\u636e\u904d\u5386\u53d8\u6362\u6811\u7684\u65b9\u5411\u8fdb\u884c\u67e5\u627e\uff08lookup\uff09\u65f6\u7684\u9006\u8fd0\u7b97\u3002</p> <p>$$ {}{B}T^{data}} = ({{B}T^{frame} $$TF \u5e93\u4f1a\u6839\u636e\u4f60\u904d\u5386\u53d8\u6362\u6811\u7684\u65b9\u5411\uff0c\u81ea\u52a8\u4e3a\u4f60\u5904\u7406\u8fd9\u4e9b\u5143\u7d20\u7684\u6c42\u9006\u3002\u5728\u672c\u6587\u6863\u7684\u5176\u4f59\u90e8\u5206\uff0c\u6211\u4eec\u5c06\u4ec5\u4f7f\u7528 })^{-1\\(T^{data}\\)\uff0c\u4f46 \\(data\\) \u4e0a\u6807\u901a\u5e38\u662f\u7701\u7565\u4e0d\u5199\u7684\u3002</p>"},{"location":"ros2/Concepts/intermediate/Tf2/#position","title":"\u4f4d\u7f6e (Position)","text":"<p>\u5982\u679c\u8f66\u8f86 A \u4e2d\u7684\u9a7e\u9a76\u5458\u89c2\u5bdf\u5230\u4e86\u67d0\u7269\uff0c\u800c\u5730\u9762\u4e0a\u7684\u4eba\u60f3\u77e5\u9053\u8be5\u7269\u4f53\u76f8\u5bf9\u4e8e\u4ed6\u4eec\u7684\u4f4d\u7f6e\uff0c\u4f60\u9700\u8981\u5c06\u89c2\u5bdf\u7ed3\u679c\u4ece\u6e90\u5750\u6807\u7cfb\uff08Source Frame\uff09\u53d8\u6362\u5230\u76ee\u6807\u5750\u6807\u7cfb\uff08Target Frame\uff09\u3002</p> <p>$${}{E}T $$\u73b0\u5728\uff0c\u5982\u679c\u8f66\u8f86 B \u4e2d\u7684\u4eba\u4e5f\u60f3\u77e5\u9053\u8be5\u7269\u4f53\u5728\u54ea\u91cc\uff0c\u4f60\u53ef\u4ee5\u8ba1\u7b97\u51c0\u53d8\u6362\uff08net transform\uff09\uff1a} * P_{A}^{Obs} = P_{E}^{Obs</p> <p>$$ {}{B}T} * {{E}T} * P_{A}^{Obs} = {{B}T $$\u8fd9\u6b63\u662f } * P_{A}^{Obs} = P_{B}^{Obs<code>lookupTransform</code> \u6240\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u5176\u4e2d <code>A</code> \u662f <code>source_frame_id</code>\uff08\u6e90\u5750\u6807\u7cfb ID\uff09\uff0c<code>B</code> \u662f <code>target_frame_id</code>\uff08\u76ee\u6807\u5750\u6807\u7cfb ID\uff09\u3002</p> <p>\u5efa\u8bae\u5c3d\u53ef\u80fd\u4f7f\u7528 <code>transform&lt;T&gt;(target_frame, ...)</code> \u65b9\u6cd5\uff0c\u56e0\u4e3a\u5b83\u4eec\u4f1a\u4ece\u6570\u636e\u7c7b\u578b\u4e2d\u8bfb\u53d6 <code>source_frame_id</code>\uff0c\u5e76\u5c06 <code>target_frame_id</code> \u5199\u5165\u7ed3\u679c\u6570\u636e\u7c7b\u578b\u4e2d\uff0c\u5185\u90e8\u4f1a\u81ea\u52a8\u5904\u7406\u6570\u5b66\u8ba1\u7b97\u3002</p> <p>\u5982\u679c \\(P\\) \u662f\u4e00\u4e2a <code>Stamped</code>\uff08\u5e26\u65f6\u95f4\u6233\uff09\u7684\u6570\u636e\u7c7b\u578b\uff0c\u90a3\u4e48 <code>_A</code> \u5c31\u662f\u5b83\u7684 <code>frame_id</code>\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u6839\u5750\u6807\u7cfb <code>A</code> \u5728\u5750\u6807\u7cfb <code>B</code> \u4e0b\u65b9 1 \u7c73\u5904\uff0c\u4ece <code>A</code> \u5230 <code>B</code> \u7684\u53d8\u6362\u662f\u6b63\u503c\uff08\u9ad8\u5ea6\u589e\u52a0\uff09\u3002 \u7136\u800c\uff0c\u5f53\u5c06\u6570\u636e\u4ece\u5750\u6807\u7cfb <code>B</code> \u8f6c\u6362\u5230\u5750\u6807\u7cfb <code>A</code> \u65f6\uff0c\u4f60\u5fc5\u987b\u4f7f\u7528\u8be5\u503c\u7684\u9006\u3002\u8fd9\u53ef\u4ee5\u7406\u89e3\u4e3a\uff1a\u5f53\u4f60\u5207\u6362\u5230\u8f83\u4f4e\u7684\u53c2\u8003\u5750\u6807\u7cfb\u65f6\uff0c\u4f60\u9700\u8981\u7ed9\u9ad8\u5ea6\u589e\u52a0\u6570\u503c\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u662f\u5c06\u6570\u636e\u4ece\u5750\u6807\u7cfb <code>A</code> \u53d8\u6362\u5230\u5750\u6807\u7cfb <code>B</code>\uff0c\u9ad8\u5ea6\u4f1a\u51cf\u5c0f\uff0c\u56e0\u4e3a\u65b0\u7684\u53c2\u8003\u7cfb\u66f4\u9ad8\u3002</p> <p>$${}{B}T} = ({{B}{Tf} $$### \u901f\u5ea6 (Velocity)})^{-1</p> <p>\u4e3a\u4e86\u8868\u793a \u901f\u5ea6 (Velocity)\uff0c\u6211\u4eec\u6709\u4e09\u90e8\u5206\u4fe1\u606f\uff1a\\(V^{moving\\_frame - reference\\_frame}_{observing\\_frame}\\)\u3002 \u8be5\u901f\u5ea6\u8868\u793a\u201c\u79fb\u52a8\u5750\u6807\u7cfb\u201d\u4e0e\u201c\u53c2\u8003\u5750\u6807\u7cfb\u201d\u4e4b\u95f4\u7684\u901f\u5ea6\uff0c\u5e76\u4e14\u5b83\u662f\u5728\u201c\u89c2\u5bdf\u5750\u6807\u7cfb\u201d\u4e2d\u8868\u793a\u7684\u3002</p> <p>\u4f8b\u5982\uff0c\u8f66\u8f86 A \u4e2d\u7684\u9a7e\u9a76\u5458\u53ef\u4ee5\u62a5\u544a\u4ed6\u4eec\u6b63\u4ee5 1m/s \u7684\u901f\u5ea6\u5411\u524d\u884c\u9a76\uff08\u5728 A \u4e2d\u89c2\u5bdf\uff0c\u76f8\u5bf9\u4e8e\u5730\u7403\uff09\uff0c\u90a3\u4e48\u8fd9\u5c06\u662f\uff1a \\(\\(V_{A}^{A - E} = (1,0,0)\\)\\) \u800c\u5728\u5730\u7403\u7684\u89c6\u89d2\u4e0b\u89c2\u5bdf\u540c\u6837\u7684\u901f\u5ea6\uff08\u5047\u8bbe\u6c7d\u8f66\u5411\u4e1c\u884c\u9a76\uff0c\u4e14\u5730\u7403\u5750\u6807\u7cfb\u4e3a\u5317\u4e1c\u5730 NED\uff09\uff0c\u5219\u4f1a\u662f\uff1a \\(\\(V_{E}^{A - E} = (0, 1, 0)\\)\\)</p> <p>\u7136\u800c\uff0c\u53d8\u6362\u53ef\u4ee5\u8868\u660e\u8fd9\u4e24\u8005\u5b9e\u9645\u4e0a\u662f\u76f8\u540c\u7684\uff1a</p> <p>$$ {}{E}T $$\u5982\u679c\u901f\u5ea6\u662f\u5728\u540c\u4e00\u4e2a\u5750\u6807\u7cfb\uff08\u672c\u4f8b\u4e2d\u4e3a } * V_{A}^{A - E} = V_{E}^{A - E<code>Obs</code>\uff09\u4e2d\u8868\u793a\u7684\uff0c\u5219\u53ef\u4ee5\u8fdb\u884c\u52a0\u51cf\u8fd0\u7b97\uff1a</p> <p>$$V_{Obs}^{A - C} = V_{Obs}^{A - B} + V_{Obs}^{D - C} $$\u901f\u5ea6\u53ef\u4ee5\u901a\u8fc7\u6c42\u9006\u6765\u201c\u53cd\u8f6c\u201d\uff1a</p> <p>$$ V_{Obs}^{A - C} = -(V_{Obs}^{C - A}) $$\u5982\u679c\u4f60\u60f3\u6bd4\u8f83\u4e24\u4e2a\u901f\u5ea6\uff0c\u5fc5\u987b\u9996\u5148\u5c06\u5b83\u4eec\u53d8\u6362\u5230\u540c\u4e00\u4e2a\u89c2\u5bdf\u5750\u6807\u7cfb\u4e2d\u3002</p>"},{"location":"ros2/Concepts/intermediate/Tf2/#tutorials","title":"\u6559\u7a0b (Tutorials)","text":"<p>\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u5957 \u6559\u7a0b (<code>../../Tutorials/Intermediate/Tf2/Tf2-Main</code>)\uff0c\u4e00\u6b65\u6b65\u6307\u5bfc\u60a8\u4f7f\u7528 tf2\u3002\u60a8\u53ef\u4ee5\u4ece tf2 \u7b80\u4ecb (<code>../../Tutorials/Intermediate/Tf2/Introduction-To-Tf2</code>) \u6559\u7a0b\u5f00\u59cb\u3002\u8981\u67e5\u770b\u6240\u6709 tf2 \u53ca\u76f8\u5173\u6559\u7a0b\u7684\u5b8c\u6574\u5217\u8868\uff0c\u8bf7\u67e5\u770b \u6559\u7a0b (<code>../../Tutorials/Intermediate/Tf2/Tf2-Main</code>) \u9875\u9762\u3002</p> <p>\u7528\u6237\u4f7f\u7528 tf2 \u672c\u8d28\u4e0a\u6709\u4e24\u4e2a\u4e3b\u8981\u4efb\u52a1\uff1a\u76d1\u542c\u53d8\u6362 (listening for transforms) \u548c \u5e7f\u64ad\u53d8\u6362 (broadcasting transforms)\u3002</p> <ul> <li> <p>\u76d1\u542c\u53d8\u6362\uff1a \u5982\u679c\u60a8\u60f3\u4f7f\u7528 tf2 \u5728\u5750\u6807\u7cfb\u4e4b\u95f4\u8fdb\u884c\u8f6c\u6362\uff0c\u60a8\u7684\u8282\u70b9\u9700\u8981\u76d1\u542c\u53d8\u6362\u3002\u60a8\u8981\u505a\u7684\u662f\u63a5\u6536\u5e76\u7f13\u51b2\u7cfb\u7edf\u4e2d\u5e7f\u64ad\u7684\u6240\u6709\u5750\u6807\u7cfb\uff0c\u5e76\u67e5\u8be2\u5e27\u4e4b\u95f4\u7684\u7279\u5b9a\u53d8\u6362\u3002\u8bf7\u67e5\u770b \"\u7f16\u5199\u76d1\u542c\u5668 (Writing a listener)\" \u6559\u7a0b\uff08Python\u7248 / C++\u7248\uff09\u4ee5\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002</p> </li> <li> <p>\u5e7f\u64ad\u53d8\u6362\uff1a \u8981\u6269\u5c55\u673a\u5668\u4eba\u7684\u80fd\u529b\uff0c\u60a8\u9700\u8981\u5f00\u59cb\u5e7f\u64ad\u53d8\u6362\u3002\u5e7f\u64ad\u53d8\u6362\u610f\u5473\u7740\u5411\u7cfb\u7edf\u7684\u5176\u4f59\u90e8\u5206\u53d1\u9001\u5750\u6807\u7cfb\u7684\u76f8\u5bf9\u4f4d\u59ff\u3002\u4e00\u4e2a\u7cfb\u7edf\u53ef\u4ee5\u6709\u8bb8\u591a\u5e7f\u64ad\u5668\uff0c\u6bcf\u4e2a\u5e7f\u64ad\u5668\u63d0\u4f9b\u5173\u4e8e\u673a\u5668\u4eba\u4e0d\u540c\u90e8\u5206\u7684\u4fe1\u606f\u3002\u8bf7\u67e5\u770b \"\u7f16\u5199\u5e7f\u64ad\u5668 (Writing a broadcaster)\" \u6559\u7a0b\uff08Python\u7248 / C++\u7248\uff09\u4ee5\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002</p> </li> <li> <p>\u9759\u6001\u5e7f\u64ad\uff1a \u6b64\u5916\uff0ctf2 \u53ef\u4ee5\u5e7f\u64ad\u968f\u65f6\u95f4\u4e0d\u53d8\u7684\u9759\u6001\u53d8\u6362\u3002\u8fd9\u4e3b\u8981\u8282\u7701\u4e86\u5b58\u50a8\u548c\u67e5\u627e\u65f6\u95f4\uff0c\u4f46\u4e5f\u51cf\u5c11\u4e86\u53d1\u5e03\u5f00\u9500\u3002\u60a8\u5e94\u8be5\u6ce8\u610f\uff0c\u9759\u6001\u53d8\u6362\u53ea\u53d1\u5e03\u4e00\u6b21\uff0c\u5e76\u5047\u5b9a\u4e0d\u4f1a\u66f4\u6539\uff0c\u56e0\u6b64\u4e0d\u5b58\u50a8\u5386\u53f2\u8bb0\u5f55\u3002\u5982\u679c\u60a8\u60f3\u5728 tf2 \u6811\u4e2d\u5b9a\u4e49\u9759\u6001\u53d8\u6362\uff0c\u8bf7\u67e5\u770b \"\u7f16\u5199\u9759\u6001\u5e7f\u64ad\u5668 (Writing a static broadcaster)\" \u6559\u7a0b\uff08Python\u7248 / C++\u7248\uff09\u3002</p> </li> <li> <p>\u6dfb\u52a0\u5750\u6807\u7cfb\uff1a \u60a8\u8fd8\u53ef\u4ee5\u5728 \"\u6dfb\u52a0\u5750\u6807\u7cfb (Adding a frame)\" \u6559\u7a0b\uff08Python\u7248 / C++\u7248\uff09\u4e2d\u5b66\u4e60\u5982\u4f55\u5411 tf2 \u6811\u6dfb\u52a0\u56fa\u5b9a\u548c\u52a8\u6001\u5750\u6807\u7cfb\u3002</p> </li> <li> <p>\u65f6\u95f4\u4e0eTf2\uff1a \u5b8c\u6210\u57fa\u7840\u6559\u7a0b\u540e\uff0c\u60a8\u53ef\u4ee5\u7ee7\u7eed\u5b66\u4e60\u5173\u4e8e tf2 \u548c\u65f6\u95f4\u7684\u5185\u5bb9\u3002tf2 \u4e0e\u65f6\u95f4 \u6559\u7a0b\u8bb2\u6388\u4e86 tf2 \u548c\u65f6\u95f4\u7684\u57fa\u672c\u539f\u7406\u3002\u5173\u4e8e tf2 \u548c\u65f6\u95f4\u7684\u8fdb\u9636\u6559\u7a0b\u5219\u8bb2\u6388\u4e86\u4f7f\u7528 tf2 \u8fdb\u884c\u65f6\u95f4\u65c5\u884c\u7684\u539f\u7406\u3002</p> </li> </ul>"},{"location":"ros2/Concepts/intermediate/Tf2/#paper","title":"\u8bba\u6587 (Paper)","text":"<p>TePRA 2013 \u4e0a\u53d1\u8868\u4e86\u4e00\u7bc7\u5173\u4e8e tf2 \u7684\u8bba\u6587\uff1atf: The transform library\u3002 $$</p>"},{"location":"ros2/Concepts/intermediate/The_ROS_DOMAIN_ID/","title":"ROS_DOMAIN ID","text":""},{"location":"ros2/Concepts/intermediate/The_ROS_DOMAIN_ID/#the-ros_domain_id","title":"The ROS_DOMAIN_ID","text":""},{"location":"ros2/Concepts/intermediate/The_ROS_DOMAIN_ID/#overview","title":"\u6982\u8ff0 (Overview)","text":"<p>\u5982\u5728\u5176\u4ed6\u5730\u65b9\u6240\u89e3\u91ca\u7684\uff0cROS 2 \u7528\u4e8e\u901a\u4fe1\u7684\u9ed8\u8ba4\u4e2d\u95f4\u4ef6\u662f DDS\u3002\u5728 DDS \u4e2d\uff0c\u8ba9\u4e0d\u540c\u7684\u903b\u8f91\u7f51\u7edc\u5171\u4eab\u7269\u7406\u7f51\u7edc\u7684\u4e3b\u8981\u673a\u5236\u79f0\u4e3a Domain ID\uff08\u57df ID\uff09\u3002\u5904\u4e8e\u540c\u4e00\u57df\uff08Domain\uff09\u4e0a\u7684 ROS 2 \u8282\u70b9\u53ef\u4ee5\u81ea\u7531\u53d1\u73b0\u5f7c\u6b64\u5e76\u53d1\u9001\u6d88\u606f\uff0c\u800c\u5904\u4e8e\u4e0d\u540c\u57df\u4e0a\u7684 ROS 2 \u8282\u70b9\u5219\u4e0d\u80fd\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709 ROS 2 \u8282\u70b9\u90fd\u4f7f\u7528 Domain ID 0\u3002\u4e3a\u4e86\u907f\u514d\u540c\u4e00\u7f51\u7edc\u4e0a\u8fd0\u884c ROS 2 \u7684\u4e0d\u540c\u8ba1\u7b97\u673a\u7ec4\u4e4b\u95f4\u4ea7\u751f\u5e72\u6270\uff0c\u5e94\u4e3a\u6bcf\u4e2a\u7ec4\u8bbe\u7f6e\u4e0d\u540c\u7684 Domain ID\u3002</p>"},{"location":"ros2/Concepts/intermediate/The_ROS_DOMAIN_ID/#domain-id","title":"\u9009\u62e9 Domain ID\uff08\u7b80\u77ed\u7248\uff09","text":"<p>\u4e0b\u6587\u89e3\u91ca\u4e86 ROS 2 \u4e2d\u5e94\u4f7f\u7528\u7684 Domain ID \u8303\u56f4\u7684\u63a8\u5bfc\u8fc7\u7a0b\u3002\u82e5\u60f3\u8df3\u8fc7\u80cc\u666f\u77e5\u8bc6\u76f4\u63a5\u9009\u62e9\u4e00\u4e2a\u5b89\u5168\u7684\u6570\u5b57\uff0c\u53ea\u9700\u9009\u62e9\u4e00\u4e2a 0 \u5230 101\uff08\u542b\uff09 \u4e4b\u95f4\u7684 Domain ID \u5373\u53ef\u3002</p>"},{"location":"ros2/Concepts/intermediate/The_ROS_DOMAIN_ID/#domain-id_1","title":"\u9009\u62e9 Domain ID\uff08\u8be6\u7ec6\u7248\uff09","text":"<p>DDS \u4f7f\u7528 Domain ID \u6765\u8ba1\u7b97\u5c06\u7528\u4e8e\u53d1\u73b0\u548c\u901a\u4fe1\u7684 UDP \u7aef\u53e3\u3002\u6709\u5173\u7aef\u53e3\u8ba1\u7b97\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u8fd9\u7bc7\u6587\u7ae0\u3002\u56de\u987e\u4e00\u4e0b\u7f51\u7edc\u57fa\u7840\u77e5\u8bc6\uff0cUDP \u7aef\u53e3\u662f\u4e00\u4e2a \u65e0\u7b26\u53f7 16 \u4f4d\u6574\u6570\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u5206\u914d\u7684\u6700\u5927\u7aef\u53e3\u53f7\u662f 65535\u3002\u6839\u636e\u4e0a\u8ff0\u6587\u7ae0\u4e2d\u7684\u516c\u5f0f\u8fdb\u884c\u8ba1\u7b97\uff0c\u8fd9\u610f\u5473\u7740\u53ef\u4ee5\u5206\u914d\u7684\u6700\u9ad8 Domain ID \u662f 232\uff0c\u800c\u6700\u4f4e\u53ef\u4ee5\u5206\u914d\u7684\u662f 0\u3002</p>"},{"location":"ros2/Concepts/intermediate/The_ROS_DOMAIN_ID/#platform-specific-constraints","title":"\u5e73\u53f0\u7279\u5b9a\u7684\u7ea6\u675f (Platform-specific constraints)","text":"<p>\u4e3a\u4e86\u83b7\u5f97\u6700\u5927\u7684\u517c\u5bb9\u6027\uff0c\u5728\u9009\u62e9 Domain ID \u65f6\u5e94\u9075\u5faa\u4e00\u4e9b\u989d\u5916\u7684\u5e73\u53f0\u7279\u5b9a\u7ea6\u675f\u3002\u7279\u522b\u662f\uff0c\u6700\u597d\u907f\u514d\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684 \u4e34\u65f6\u7aef\u53e3\u8303\u56f4 (ephemeral port range) \u5185\u5206\u914d Domain ID\u3002\u8fd9\u53ef\u4ee5\u907f\u514d ROS 2 \u8282\u70b9\u4f7f\u7528\u7684\u7aef\u53e3\u4e0e\u8ba1\u7b97\u673a\u4e0a\u5176\u4ed6\u7f51\u7edc\u670d\u52a1\u4f7f\u7528\u7684\u7aef\u53e3\u53d1\u751f\u51b2\u7a81\u3002</p> <p>\u4ee5\u4e0b\u662f\u5173\u4e8e\u4e34\u65f6\u7aef\u53e3\u7684\u4e00\u4e9b\u5e73\u53f0\u7279\u5b9a\u8bf4\u660e\uff1a</p> <p>\\=== \"Linux\"</p> <pre><code>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cLinux \u5185\u6838\u4f7f\u7528\u7aef\u53e3 **32768-60999** \u4f5c\u4e3a\u4e34\u65f6\u7aef\u53e3\u3002\u8fd9\u610f\u5473\u7740 **Domain ID 0-101** \u548c **215-232** \u53ef\u4ee5\u5b89\u5168\u4f7f\u7528\uff0c\u800c\u4e0d\u4f1a\u4e0e\u4e34\u65f6\u7aef\u53e3\u51b2\u7a81\u3002\n\n\u5728 Linux \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728 `/proc/sys/net/ipv4/ip_local_port_range` \u4e2d\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u503c\u6765\u914d\u7f6e\u4e34\u65f6\u7aef\u53e3\u8303\u56f4\u3002\u5982\u679c\u4f7f\u7528\u4e86\u81ea\u5b9a\u4e49\u7684\u4e34\u65f6\u7aef\u53e3\u8303\u56f4\uff0c\u4e0a\u8ff0\u6570\u5b57\u53ef\u80fd\u9700\u8981\u76f8\u5e94\u8c03\u6574\u3002\n</code></pre> <p>\\=== \"macOS\"</p> <pre><code>macOS \u540c\u6837\u6709\u5176\u7279\u5b9a\u7684\u4e34\u65f6\u7aef\u53e3\u8303\u56f4\uff08\u901a\u5e38\u9075\u5faa IANA \u5efa\u8bae\u6216 BSD \u98ce\u683c\uff09\uff0c\u5efa\u8bae\u9075\u5faa\u901a\u7528\u7684\u5b89\u5168\u8303\u56f4\u3002\n</code></pre> <p>\\=== \"Windows\"</p> <pre><code>Windows \u4e5f\u6709\u5176\u9ed8\u8ba4\u7684\u4e34\u65f6\u7aef\u53e3\u8303\u56f4\u3002\u5efa\u8bae\u9075\u5faa\u901a\u7528\u7684\u5b89\u5168\u8303\u56f4\u3002\n</code></pre>"},{"location":"ros2/Concepts/intermediate/The_ROS_DOMAIN_ID/#participant-constraints","title":"\u53c2\u4e0e\u8005\u7ea6\u675f (Participant constraints)","text":"<p>\u5bf9\u4e8e\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u7684\u6bcf\u4e2a ROS 2 \u8fdb\u7a0b\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a DDS\u201c\u53c2\u4e0e\u8005 (participant)\u201d\u3002\u7531\u4e8e\u6bcf\u4e2a DDS \u53c2\u4e0e\u8005\u8981\u5728\u8ba1\u7b97\u673a\u4e0a\u5360\u7528\u4e24\u4e2a\u7aef\u53e3\uff0c\u56e0\u6b64\u5728\u4e00\u53f0\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u8d85\u8fc7 120 \u4e2a ROS 2 \u8fdb\u7a0b\u53ef\u80fd\u4f1a\u6ea2\u51fa\u5230\u5176\u4ed6 Domain ID \u6216\u4e34\u65f6\u7aef\u53e3\u4e2d\u3002</p> <p>\u4e3a\u4e86\u7406\u89e3\u539f\u56e0\uff0c\u8bf7\u8003\u8651 Domain ID 1 \u548c 2\uff1a</p> <ul> <li>Domain ID 1 \u4f7f\u7528\u7aef\u53e3 7650 \u548c 7651 \u8fdb\u884c\u591a\u64ad (multicast)\u3002</li> <li>Domain ID 2 \u4f7f\u7528\u7aef\u53e3 7900 \u548c 7901 \u8fdb\u884c\u591a\u64ad\u3002</li> </ul> <p>\u5f53\u5728 Domain ID 1 \u4e2d\u521b\u5efa\u7b2c 1 \u4e2a\u8fdb\u7a0b\uff08\u7b2c 0 \u4e2a\u53c2\u4e0e\u8005\uff09\u65f6\uff0c\u7aef\u53e3 7660 \u548c 7661 \u7528\u4e8e\u5355\u64ad (unicast)\u3002 \u5f53\u5728 Domain ID 1 \u4e2d\u521b\u5efa\u7b2c 120 \u4e2a\u8fdb\u7a0b\uff08\u7b2c 119 \u4e2a\u53c2\u4e0e\u8005\uff09\u65f6\uff0c\u7aef\u53e3 7898 \u548c 7899 \u7528\u4e8e\u5355\u64ad\u3002 \u5f53\u5728 Domain ID 1 \u4e2d\u521b\u5efa\u7b2c 121 \u4e2a\u8fdb\u7a0b\uff08\u7b2c 120 \u4e2a\u53c2\u4e0e\u8005\uff09\u65f6\uff0c\u7aef\u53e3 7900 \u548c 7901 \u7528\u4e8e\u5355\u64ad\uff0c\u8fd9\u4e0e Domain ID 2 \u91cd\u53e0\u3002</p> <p>\u5982\u679c\u5df2\u77e5\u8ba1\u7b97\u673a\u4e00\u6b21\u53ea\u4f1a\u5904\u4e8e\u4e00\u4e2a Domain ID \u4e0a\uff0c\u5e76\u4e14 Domain ID \u8db3\u591f\u4f4e\uff0c\u90a3\u4e48\u521b\u5efa\u6bd4\u8fd9\u66f4\u591a\u7684 ROS 2 \u8fdb\u7a0b\u662f\u5b89\u5168\u7684\u3002</p> <p>\u5f53\u9009\u62e9\u4e00\u4e2a\u63a5\u8fd1\u5e73\u53f0\u7279\u5b9a Domain ID \u8303\u56f4\u4e0a\u9650\u7684 ID \u65f6\uff0c\u8fd8\u5e94\u8003\u8651\u4e00\u4e2a\u989d\u5916\u7684\u7ea6\u675f\u3002</p> <p>\u4f8b\u5982\uff0c\u5047\u8bbe\u4e00\u53f0 Linux \u8ba1\u7b97\u673a\u7684 Domain ID \u4e3a 101\uff1a</p> <ul> <li>\u8ba1\u7b97\u673a\u4e0a\u7684\u7b2c 0 \u4e2a ROS 2 \u8fdb\u7a0b\u5c06\u8fde\u63a5\u5230\u7aef\u53e3 32650, 32651, 32660, \u548c 32661\u3002</li> <li>\u8ba1\u7b97\u673a\u4e0a\u7684\u7b2c 1 \u4e2a ROS 2 \u8fdb\u7a0b\u5c06\u8fde\u63a5\u5230\u7aef\u53e3 32650, 32651, 32662, \u548c 32663\u3002</li> <li>...</li> <li>\u8ba1\u7b97\u673a\u4e0a\u7684\u7b2c 53 \u4e2a ROS 2 \u8fdb\u7a0b\u5c06\u8fde\u63a5\u5230\u7aef\u53e3 32650, 32651, 32766, \u548c 32767\u3002</li> <li>\u8ba1\u7b97\u673a\u4e0a\u7684\u7b2c 54 \u4e2a ROS 2 \u8fdb\u7a0b\u5c06\u8fde\u63a5\u5230\u7aef\u53e3 32650, 32651, 32768 \u548c 32769\uff0c\u8fd9\u95ef\u5165\u4e86\u4e34\u65f6\u7aef\u53e3\u8303\u56f4\u3002</li> </ul> <p>\u56e0\u6b64\uff0c\u5728 Linux \u4e0a\u4f7f\u7528 Domain ID 101 \u65f6\uff0c\u5e94\u521b\u5efa\u7684\u6700\u5927\u8fdb\u7a0b\u6570\u4e3a 54\u3002\u540c\u6837\uff0c\u5728 Linux \u4e0a\u4f7f\u7528 Domain ID 232 \u65f6\uff0c\u5e94\u521b\u5efa\u7684\u6700\u5927\u8fdb\u7a0b\u6570\u4e3a 63\uff0c\u56e0\u4e3a\u6700\u5927\u7aef\u53e3\u53f7\u4e3a 65535\u3002</p> <p>macOS \u548c Windows \u4e0a\u7684\u60c5\u51b5\u7c7b\u4f3c\uff0c\u53ea\u662f\u6570\u5b57\u4e0d\u540c\u3002\u5728 macOS \u548c Windows \u4e0a\uff0c\u5f53\u9009\u62e9 166\uff08\u8303\u56f4\u7684\u4e0a\u9650\uff09\u4f5c\u4e3a Domain ID \u65f6\uff0c\u5728\u95ef\u5165\u4e34\u65f6\u7aef\u53e3\u8303\u56f4\u4e4b\u524d\uff0c\u8ba1\u7b97\u673a\u4e0a\u53ef\u4ee5\u521b\u5efa\u7684\u6700\u5927 ROS 2 \u8fdb\u7a0b\u6570\u4e3a 120\u3002</p>"},{"location":"ros2/Concepts/intermediate/The_ROS_DOMAIN_ID/#domain-id-udp","title":"Domain ID \u5230 UDP \u7aef\u53e3\u8ba1\u7b97\u5668","text":"Domain ID: Participant ID: Discovery Multicast Port: <code>7400</code> User Multicast Port: <code>7401</code> Discovery Unicast Port: <code>7410</code> User Unicast Port: <code>7411</code>"},{"location":"ros2/Concepts/intermediate/Topic_statistics/","title":"\u8bdd\u9898\u7edf\u8ba1","text":""},{"location":"ros2/Concepts/intermediate/Topic_statistics/#_1","title":"\u4e3b\u9898\u7edf\u8ba1","text":""},{"location":"ros2/Concepts/intermediate/Topic_statistics/#_2","title":"\u6982\u8ff0","text":"<p>ROS 2 \u63d0\u4f9b\u4e86\u5bf9\u4efb\u4f55\u8ba2\u9605\u63a5\u6536\u5230\u7684\u6d88\u606f\u8fdb\u884c\u7efc\u5408\u7edf\u8ba1\u6d4b\u91cf\u7684\u529f\u80fd\u3002\u5141\u8bb8\u7528\u6237\u6536\u96c6\u8ba2\u9605\u7edf\u8ba1\u4fe1\u606f\uff0c\u4ece\u800c\u80fd\u591f\u5bf9\u5176\u7cfb\u7edf\u7684\u6027\u80fd\u8fdb\u884c\u8868\u5f81\u6216\u8bca\u65ad\u5f53\u524d\u5b58\u5728\u7684\u4efb\u4f55\u95ee\u9898\u3002</p> <p>\u63d0\u4f9b\u7684\u6d4b\u91cf\u65b9\u5f0f\u5305\u62ec\u63a5\u6536\u6d88\u606f\u7684\u65f6\u95f4\u95f4\u9694\u548c\u63a5\u6536\u6d88\u606f\u7684\u5468\u671f\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u6d4b\u91cf\uff0c\u63d0\u4f9b\u7684\u7edf\u8ba1\u4fe1\u606f\u5305\u62ec\u5e73\u5747\u503c\u3001\u6700\u5927\u503c\u3001\u6700\u5c0f\u503c\u3001\u6807\u51c6\u5dee\u548c\u6837\u672c\u6570\u91cf\u3002\u8fd9\u4e9b\u7edf\u8ba1\u4fe1\u606f\u662f\u5728\u4e00\u4e2a\u79fb\u52a8\u7a97\u53e3\u4e2d\u8ba1\u7b97\u7684\u3002</p>"},{"location":"ros2/Concepts/intermediate/Topic_statistics/#_3","title":"\u7edf\u8ba1\u8ba1\u7b97\u65b9\u5f0f","text":"<p>\u6bcf\u4e2a\u7edf\u8ba1\u96c6\u5408\u901a\u8fc7\u4f7f\u7528 <code>libstatistics_collector</code> \u5305\u4e2d\u5b9e\u73b0\u7684\u5de5\u5177\uff0c\u5728\u5e38\u6570\u65f6\u95f4\u548c\u5e38\u6570\u5185\u5b58\u4e0b\u8fdb\u884c\u8ba1\u7b97\u3002\u5f53\u8ba2\u9605\u63a5\u6536\u5230\u65b0\u6d88\u606f\u65f6\uff0c\u8fd9\u88ab\u89c6\u4e3a\u5f53\u524d\u6d4b\u91cf\u7a97\u53e3\u4e2d\u7684\u4e00\u4e2a\u65b0\u7684\u6837\u672c\u3002\u8ba1\u7b97\u7684\u5e73\u5747\u503c\u662f\u4e00\u4e2a\u79fb\u52a8\u5e73\u5747\u503c\u3002\u6700\u5927\u503c\u3001\u6700\u5c0f\u503c\u548c\u6837\u672c\u6570\u91cf\u5728\u6bcf\u6b21\u6536\u5230\u65b0\u6837\u672c\u65f6\u66f4\u65b0\uff0c\u800c\u6807\u51c6\u5dee\u662f\u4f7f\u7528 Welford \u7684\u5728\u7ebf\u7b97\u6cd5\u8ba1\u7b97\u7684\u3002</p>"},{"location":"ros2/Concepts/intermediate/Topic_statistics/#_4","title":"\u8ba1\u7b97\u7684\u7edf\u8ba1\u7c7b\u578b","text":""},{"location":"ros2/Concepts/intermediate/Topic_statistics/#_5","title":"\u63a5\u6536\u6d88\u606f\u5468\u671f","text":"<ul> <li>\u5355\u4f4d\uff1a\u6beb\u79d2</li> <li>\u4f7f\u7528\u7cfb\u7edf\u65f6\u949f\u6d4b\u91cf\u63a5\u6536\u6d88\u606f\u4e4b\u95f4\u7684\u5468\u671f</li> </ul>"},{"location":"ros2/Concepts/intermediate/Topic_statistics/#_6","title":"\u63a5\u6536\u6d88\u606f\u65f6\u95f4\u95f4\u9694","text":"<ul> <li>\u5355\u4f4d\uff1a\u6beb\u79d2</li> <li>\u9700\u8981\u6d88\u606f\u5934\u5b57\u6bb5\u4e2d\u586b\u5145\u7684\u65f6\u95f4\u6233\uff0c\u4ee5\u4fbf\u8ba1\u7b97\u4ece\u53d1\u5e03\u8005\u53d1\u9001\u6d88\u606f\u4ee5\u6765\u7684\u65f6\u95f4\u95f4\u9694</li> </ul>"},{"location":"ros2/Concepts/intermediate/Topic_statistics/#_7","title":"\u884c\u4e3a","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e3b\u9898\u7edf\u8ba1\u6d4b\u91cf\u529f\u80fd\u672a\u542f\u7528\u3002\u901a\u8fc7\u8ba2\u9605\u914d\u7f6e\u9009\u9879\u4e3a\u7279\u5b9a\u8282\u70b9\u542f\u7528\u6b64\u529f\u80fd\u540e\uff0c\u63a5\u6536\u6d88\u606f\u65f6\u95f4\u95f4\u9694\u548c\u63a5\u6536\u6d88\u606f\u5468\u671f\u7684\u6d4b\u91cf\u5c06\u9488\u5bf9\u8be5\u7279\u5b9a\u8ba2\u9605\u542f\u7528\u3002</p> <p>\u6570\u636e\u5c06\u4ee5 <code>statistics_msg/msg/MetricsMessage</code> \u7684\u5f62\u5f0f\u4ee5\u53ef\u914d\u7f6e\u7684\u5468\u671f\uff08\u9ed8\u8ba4\u4e3a 1 \u79d2\uff09\u53d1\u5e03\u5230\u53ef\u914d\u7f6e\u7684\u4e3b\u9898\uff08\u9ed8\u8ba4\u4e3a <code>/statistics</code>\uff09\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u53d1\u5e03\u5468\u671f\u4e5f\u4f5c\u4e3a\u6837\u672c\u6536\u96c6\u7a97\u53e3\u7684\u5468\u671f\u3002</p> <p>\u7531\u4e8e\u63a5\u6536\u6d88\u606f\u5468\u671f\u9700\u8981\u6d88\u606f\u5934\u5b57\u6bb5\u4e2d\u7684\u65f6\u95f4\u6233\uff0c\u5982\u679c\u6ca1\u6709\u65f6\u95f4\u6233\uff0c\u5219\u53d1\u5e03\u7a7a\u6570\u636e\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u627e\u4e0d\u5230\u65f6\u95f4\u6233\uff0c\u5219\u6240\u6709\u7edf\u8ba1\u503c\u5747\u4e3a NaN\u3002\u53d1\u5e03 NaN \u503c\u800c\u4e0d\u662f\u4e0d\u53d1\u5e03\u4efb\u4f55\u6570\u636e\u53ef\u4ee5\u907f\u514d\u4fe1\u53f7\u4e22\u5931\u7684\u95ee\u9898\uff0c\u5e76\u660e\u786e\u8868\u793a\u6d4b\u91cf\u65e0\u6cd5\u8fdb\u884c\u3002</p> <p>\u6bcf\u4e2a\u7a97\u53e3\u7684\u63a5\u6536\u6d88\u606f\u5468\u671f\u7edf\u8ba1\u7684\u7b2c\u4e00\u4e2a\u6837\u672c\u4e0d\u4f1a\u4ea7\u751f\u6d4b\u91cf\u7ed3\u679c\u3002\u8fd9\u662f\u56e0\u4e3a\u8ba1\u7b97\u6b64\u7edf\u8ba1\u503c\u9700\u8981\u77e5\u9053\u524d\u4e00\u6761\u6d88\u606f\u5230\u8fbe\u7684\u65f6\u95f4\uff0c\u56e0\u6b64\u7a97\u53e3\u4e2d\u7684\u540e\u7eed\u6837\u672c\u4f1a\u751f\u6210\u6d4b\u91cf\u7ed3\u679c\u3002</p>"},{"location":"ros2/Concepts/intermediate/Topic_statistics/#ros-1","title":"\u4e0e ROS 1 \u7684\u5bf9\u6bd4","text":"<p>\u7c7b\u4f3c\u4e8e ROS 1 \u7684\u4e3b\u9898\u7edf\u8ba1\uff0c\u4e24\u8005\u90fd\u8ba1\u7b97\u6d88\u606f\u5e74\u9f84\u548c\u6d88\u606f\u5468\u671f\uff0c\u5c3d\u7ba1\u662f\u4ece\u8ba2\u9605\u7aef\u8ba1\u7b97\u7684\u3002\u5176\u4ed6 ROS 1 \u6307\u6807\uff0c\u4f8b\u5982\u4e22\u5f03\u7684\u6d88\u606f\u6570\u91cf\u6216\u6d41\u91cf\u4f53\u79ef\uff0c\u76ee\u524d\u5c1a\u672a\u63d0\u4f9b\u3002</p>"},{"location":"ros2/Concepts/intermediate/Topic_statistics/#_8","title":"\u652f\u6301\u60c5\u51b5","text":"<p>\u6b64\u529f\u80fd\u76ee\u524d\u4ec5\u5728 ROS 2 Foxy \u7684 C++\uff08rclcpp\uff09\u4e2d\u53d7\u652f\u6301\u3002\u672a\u6765\u7684\u6539\u8fdb\u548c\u5de5\u4f5c\uff0c\u4f8b\u5982 Python \u652f\u6301\uff0c\u8bf7\u53c2\u89c1\u6b64\u5904\u3002</p>"},{"location":"ros2_control/intro/","title":"\u6982\u89c8","text":""},{"location":"ros2_control/intro/#ros2_control","title":"\u6b22\u8fce\u4f7f\u7528 ros2_control \u6587\u6863\uff01","text":"<p><code>ros2_control</code> \u662f\u4e00\u4e2a\u7528\u4e8e\uff08\u5b9e\u65f6\uff09\u63a7\u5236\u673a\u5668\u4eba\u7684\u6846\u67b6\uff0c\u57fa\u4e8e ROS 2 \u6784\u5efa\u3002 \u5b83\u662f\u5bf9 ROS 1 \u4e2d <code>ros_control</code> \u8f6f\u4ef6\u5305\u7684\u91cd\u5199\u4e0e\u6539\u8fdb\uff0c\u65e8\u5728\u7b80\u5316\u65b0\u786c\u4ef6\u7684\u96c6\u6210\u5e76\u514b\u670d\u539f\u6709\u8bbe\u8ba1\u7684\u82e5\u5e72\u4e0d\u8db3\u3002</p> <p>\ud83d\udca1 \u63d0\u793a\uff1a\u5982\u679c\u60a8\u4e0d\u719f\u6089\u63a7\u5236\u7406\u8bba\uff0c\u8bf7\u5148\u901a\u8fc7 \u7ef4\u57fa\u767e\u79d1 \u7b49\u8d44\u6e90\u4e86\u89e3\u57fa\u672c\u6982\u5ff5\uff0c\u4ee5\u4fbf\u66f4\u597d\u5730\u7406\u89e3\u672c\u6587\u6863\u4e2d\u4f7f\u7528\u7684\u672f\u8bed\u3002</p>"},{"location":"ros2_control/intro/#ros2_control_1","title":"ros2_control \u4ee3\u7801\u4ed3\u5e93","text":"<p>\u8be5\u6846\u67b6\u7531 ros-controls GitHub \u7ec4\u7ec7\u7ef4\u62a4\uff0c\u5305\u542b\u4ee5\u4e0b\u6838\u5fc3\u4ed3\u5e93\uff1a</p> \u4ed3\u5e93 \u8bf4\u660e <code>ros2_control</code> \u6846\u67b6\u7684\u6838\u5fc3\u63a5\u53e3\u4e0e\u7ec4\u4ef6 <code>ros2_controllers</code> \u5e38\u7528\u63a7\u5236\u5668\uff08\u5982\u524d\u9988\u547d\u4ee4\u63a7\u5236\u5668\u3001\u5173\u8282\u8f68\u8ff9\u63a7\u5236\u5668\u3001\u5dee\u901f\u9a71\u52a8\u63a7\u5236\u5668\u7b49\uff09 <code>control_toolbox</code> \u63a7\u5236\u7406\u8bba\u5e38\u7528\u5b9e\u73b0\uff08\u5982 PID \u63a7\u5236\u5668\uff09 <code>realtime_tools</code> \u5b9e\u65f6\u652f\u6301\u5de5\u5177\uff08\u5982\u5b9e\u65f6\u7f13\u51b2\u533a\u3001\u5b9e\u65f6\u53d1\u5e03\u8005\uff09 <code>control_msgs</code> \u901a\u7528\u63a7\u5236\u6d88\u606f\u7c7b\u578b <code>kinematics_interface</code> \u7528\u4e8e\u96c6\u6210 C++ \u8fd0\u52a8\u5b66\u6846\u67b6 <code>gz_ros2_control</code> Gazebo \u4eff\u771f\u63d2\u4ef6 <code>topic_based_hardware_interfaces</code> \u9762\u5411\u4ec5\u652f\u6301 ROS \u8bdd\u9898\u901a\u4fe1\u7684\u4eff\u771f\u5668\u6216\u786c\u4ef6\u7684\u786c\u4ef6\u63a5\u53e3"},{"location":"ros2_control/intro/#_1","title":"\u5176\u4ed6\u76f8\u5173\uff08\u672a\u53d1\u5e03\uff09\u4ed3\u5e93","text":"\u4ed3\u5e93 \u7528\u9014 <code>ros2_control_demos</code> \u5e38\u89c1\u7528\u4f8b\u7684\u793a\u4f8b\u5b9e\u73b0\uff0c\u4fbf\u4e8e\u5feb\u901f\u4e0a\u624b <code>roadmap</code> \u9879\u76ee\u89c4\u5212\u4e0e\u8bbe\u8ba1\u6587\u6863 <code>ros2_control_ci</code> \u53ef\u590d\u7528\u7684 GitHub Actions \u4e0e CI Docker \u955c\u50cf\uff08Ubuntu/RHEL/Debian\uff09 <code>.github</code> \u7ec4\u7ec7\u7ea7\u6587\u4ef6\uff08\u5982 Issue \u6a21\u677f\uff09 <code>ros2_control_cmake</code> \u9879\u76ee\u4e13\u7528 CMake \u5b8f <code>control.ros.org</code> \u672c\u5b98\u65b9\u6587\u6863\u7ad9\u70b9"},{"location":"ros2_control/intro/#_2","title":"\u5f00\u53d1\u7ec4\u7ec7\u4e0e\u6c9f\u901a\u6e20\u9053","text":""},{"location":"ros2_control/intro/#_3","title":"\u6cbb\u7406\u673a\u6784","text":"<p><code>ros-controls</code> \u9879\u76ee\u7531 \u5f00\u6e90\u673a\u5668\u4eba\u8054\u76df\uff08Open Source Robotics Alliance, OSRA\uff09\u7ba1\u7406\u3002 \u8be6\u89c1\uff1aProject Governance</p>"},{"location":"ros2_control/intro/#_4","title":"\u95ee\u9898\u54a8\u8be2","text":"<p>\u8bf7\u4f7f\u7528 Robotics Stack Exchange\uff0c\u5e76\u6dfb\u52a0 <code>ros2_control</code> \u6807\u7b7e\u3002</p>"},{"location":"ros2_control/intro/#pmc","title":"PMC \u4f1a\u8bae","text":"<ul> <li>\u9891\u7387\uff1a\u6bcf\u4e24\u5468\u4e00\u6b21\uff08\u901a\u5e38\u5728\u5468\u4e09\uff09</li> <li>\u53c2\u4e0e\u65b9\u5f0f\uff1a\u5173\u6ce8 ROS Discourse \u4e0a\u7684\u516c\u544a\uff0c\u901a\u8fc7 Google Groups \u6216 Zoom \u52a0\u5165</li> <li>\u8bae\u7a0b\u4e0e\u7eaa\u8981\uff1a\u4f1a\u8bae\u6587\u6863</li> </ul>"},{"location":"ros2_control/intro/#_5","title":"\u9879\u76ee\u7ba1\u7406","text":"<ul> <li>\u4f7f\u7528 GitHub Projects\uff08<code>ros-controls</code> \u7ec4\u7ec7\u4e0b\uff09\u8ddf\u8e2a\u5f00\u53d1\u4efb\u52a1</li> </ul>"},{"location":"ros2_control/intro/#_6","title":"\u95ee\u9898\u62a5\u544a\u4e0e\u529f\u80fd\u8bf7\u6c42","text":"<p>\u8bf7\u5728\u5bf9\u5e94\u4ed3\u5e93\u7684 Issue Tracker \u4e2d\u63d0\u4ea4\uff1a 1. \u7b80\u660e\u63cf\u8ff0\u95ee\u9898 2. \u63d0\u4f9b\u53ef\u590d\u73b0\u95ee\u9898\u7684\u6700\u5c0f\u6b65\u9aa4 3. \u6ce8\u660e\u64cd\u4f5c\u7cfb\u7edf\u3001ROS \u7248\u672c\u7b49\u73af\u5883\u4fe1\u606f</p>"},{"location":"ros2_control/intro/#_7","title":"\u4e00\u822c\u6027\u8ba8\u8bba","text":"<p>\u8bf7\u4f7f\u7528 ROS Discourse\u3002</p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/","title":"\u5173\u8282\u8fd0\u52a8\u5b66","text":""},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#ros2_control-joint-kinematics-for-ros2_control","title":"ros2_control \u4e2d\u7684\u5173\u8282\u8fd0\u52a8\u5b66\uff08Joint Kinematics for ros2_control\uff09","text":"<p>\u672c\u6587\u65e8\u5728\u6982\u8ff0 ros2_control \u6846\u67b6\u4e2d\u5173\u8282\u8fd0\u52a8\u5b66\uff08Joint Kinematics\uff09\u7684\u76f8\u5173\u6982\u5ff5\uff0c\u7b80\u8981\u4ecb\u7ecd\u8be5\u4e3b\u9898\u5e76\u89e3\u91ca\u5f53\u524d\u5728 ros2_control \u4e2d\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002</p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#nomenclature","title":"\u672f\u8bed\u5b9a\u4e49\uff08Nomenclature\uff09","text":""},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#degrees-of-freedom-dof","title":"\u81ea\u7531\u5ea6\uff08Degrees of Freedom, DoF\uff09","text":"<p>\u5f15\u81ea\u7ef4\u57fa\u767e\u79d1\uff1a \u5728\u7269\u7406\u5b66\u4e2d\uff0c\u4e00\u4e2a\u673a\u68b0\u7cfb\u7edf\u7684\u81ea\u7531\u5ea6\uff08DoF\uff09\u662f\u6307\u5b9a\u4e49\u5176\u6784\u578b\u6216\u72b6\u6001\u6240\u9700\u7684\u72ec\u7acb\u53c2\u6570\u6570\u91cf\u3002</p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#joint","title":"\u5173\u8282\uff08Joint\uff09","text":"<p>\u5173\u8282\u662f\u8fde\u63a5\u4e24\u4e2a\u8fde\u6746\uff08link\uff09\u7684\u673a\u68b0\u7ed3\u6784\u3002\u5728 ROS \u751f\u6001\u7cfb\u7edf\u4e2d\uff0c\u5e38\u89c1\u7684\u5173\u8282\u7c7b\u578b\u5305\u62ec\uff1a</p> <ul> <li>Revolute\uff08\u65cb\u8f6c\u5173\u8282\uff09\uff1a\u5e26\u4f4d\u7f6e\u9650\u5236\u7684\u94f0\u94fe\u5173\u8282  </li> <li>Continuous\uff08\u8fde\u7eed\u65cb\u8f6c\u5173\u8282\uff09\uff1a\u65e0\u4f4d\u7f6e\u9650\u5236\u7684\u65cb\u8f6c\u5173\u8282  </li> <li>Prismatic\uff08\u68f1\u67f1\u5173\u8282\uff09\uff1a\u6cbf\u8f74\u7ebf\u6ed1\u52a8\u7684\u5e73\u79fb\u5173\u8282</li> </ul> <p>\u5173\u8282\u53ef\u5206\u4e3a\uff1a - \u4e3b\u52a8\u5173\u8282\uff08Actuated\uff09\uff1a\u914d\u5907\u6267\u884c\u5668\uff0c\u53ef\u4e3b\u52a8\u9a71\u52a8 - \u88ab\u52a8\u5173\u8282\uff08Passive / Non-actuated\uff09\uff1a\u65e0\u6267\u884c\u5668\uff0c\u4ec5\u901a\u8fc7\u5916\u529b\u6216\u5176\u5b83\u5173\u8282\u5e26\u52a8\u8fd0\u52a8  </p> <p>\u88ab\u52a8\u5173\u8282\u53ef\u4ee5\u5177\u6709 1 \u4e2a\u81ea\u7531\u5ea6\uff08\u5982\u5355\u6446\uff09\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5e76\u8054\u673a\u6784\u7684\u4e00\u90e8\u5206\u800c\u5177\u6709 0 \u81ea\u7531\u5ea6\uff08\u53d7\u7ea6\u675f\uff09\u3002</p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#serial-kinematics","title":"\u4e32\u8054\u8fd0\u52a8\u5b66\uff08Serial Kinematics\uff09","text":"<p>\u6307\u673a\u5668\u4eba\u64cd\u4f5c\u81c2\u4e2d\u5173\u8282\u4f9d\u6b21\u8fde\u63a5\u7684\u7ed3\u6784\uff0c\u5176\u4e2d\uff1a - \u6bcf\u4e2a\u5173\u8282\u76f8\u4e92\u72ec\u7acb - \u5173\u8282\u6570\u91cf = \u8fd0\u52a8\u94fe\u81ea\u7531\u5ea6\u6570</p> <p>\u5178\u578b\u793a\u4f8b\uff1a6 \u81ea\u7531\u5ea6\u5de5\u4e1a\u673a\u68b0\u81c2\uff086 \u4e2a\u65cb\u8f6c\u5173\u8282\uff09\uff0c\u5176\u672b\u7aef\u6267\u884c\u5668\u53ef\u5728\u5de5\u4f5c\u7a7a\u95f4\u5185\u8fbe\u5230\u4efb\u610f\u4f4d\u7f6e\u548c\u59ff\u6001\u3002</p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#kinematic-loops-closed-loop-mechanisms","title":"\u8fd0\u52a8\u5b66\u95ed\u73af\uff08Kinematic Loops / Closed-Loop Mechanisms\uff09","text":"<p>\u6307\u591a\u4e2a\u5173\u8282\u901a\u8fc7\u8fde\u6746\u5f62\u6210\u95ed\u73af\u7ed3\u6784\uff0c\u5173\u8282\u4e4b\u95f4\u76f8\u4e92\u8026\u5408\uff0c\u4e0d\u80fd\u72ec\u7acb\u8fd0\u52a8\u3002 - \u5173\u8282\u6570 &gt; \u81ea\u7531\u5ea6\u6570 - \u5e38\u89c1\u4e8e\u5e76\u8054\u673a\u6784\uff08Parallel Kinematic Mechanisms\uff09</p> <p>\u793a\u4f8b\uff1a\u56db\u6746\u673a\u6784\uff08Four-bar linkage\uff09 - \u5305\u542b 4 \u4e2a\u8fde\u6746\u548c 4 \u4e2a\u5173\u8282 - \u53ef\u914d\u5907 1 \u6216 2 \u4e2a\u6267\u884c\u5668 \u2192 \u81ea\u7531\u5ea6\u4e3a 1 \u6216 2 - \u56e0\u6b64\u6709 1\uff08\u6216 2\uff09\u4e2a\u4e3b\u52a8\u5173\u8282 + 3\uff08\u6216 2\uff09\u4e2a\u88ab\u52a8\u5173\u8282\uff0c\u6240\u6709\u5173\u8282\u5fc5\u987b\u6ee1\u8db3\u8fd0\u52a8\u5b66\u7ea6\u675f</p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#urdf","title":"URDF \u652f\u6301\u60c5\u51b5","text":"<p>URDF\uff08Unified Robot Description Format\uff09\u662f ROS \u4e2d\u63cf\u8ff0\u673a\u5668\u4eba\u8fd0\u52a8\u5b66\u7684\u9ed8\u8ba4\u683c\u5f0f\uff0c\u4f46\u5176\u539f\u751f\u4ec5\u652f\u6301\u4e32\u8054\u8fd0\u52a8\u94fe\u3002</p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#mimic-mimic-joints","title":"Mimic \u5173\u8282\uff08Mimic Joints\uff09","text":"<p>URDF \u901a\u8fc7 <code>&lt;mimic&gt;</code> \u6807\u7b7e\u63d0\u4f9b\u5bf9\u7b80\u5355\u95ed\u73af\u6216\u8026\u5408\u5173\u8282\u7684\u6709\u9650\u652f\u6301\u3002</p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#_1","title":"\u793a\u4f8b\uff1a\u5939\u722a\u7684\u5bf9\u79f0\u8fd0\u52a8","text":"<pre><code>&lt;joint name=\"right_finger_joint\" type=\"prismatic\"&gt;\n  &lt;axis xyz=\"0 1 0\"/&gt;\n  &lt;origin xyz=\"0.0 -0.48 1\" rpy=\"0.0 0.0 0.0\"/&gt;\n  &lt;parent link=\"base\"/&gt;\n  &lt;child link=\"finger_right\"/&gt;\n  &lt;limit effort=\"1000.0\" lower=\"0\" upper=\"0.38\" velocity=\"10\"/&gt;\n&lt;/joint&gt;\n\n&lt;joint name=\"left_finger_joint\" type=\"prismatic\"&gt;\n  &lt;mimic joint=\"right_finger_joint\" multiplier=\"1\" offset=\"0\"/&gt;\n  &lt;axis xyz=\"0 1 0\"/&gt;\n  &lt;origin xyz=\"0.0 0.48 1\" rpy=\"0.0 0.0 3.1415926535\"/&gt;\n  &lt;parent link=\"base\"/&gt;\n  &lt;child link=\"finger_left\"/&gt;\n  &lt;limit effort=\"1000.0\" lower=\"0\" upper=\"0.38\" velocity=\"10\"/&gt;\n&lt;/joint&gt;\n</code></pre>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#mimic","title":"Mimic \u5173\u8282\u53ef\u5efa\u6a21\u7684\u73b0\u5b9e\u573a\u666f\uff1a","text":"<ul> <li>\u5177\u6709\u7ebf\u6027\u4f4d\u7f6e/\u901f\u5ea6\u4f9d\u8d56\u5173\u7cfb\u7684\u7b80\u5355\u95ed\u73af\u673a\u6784</li> <li>\u76ae\u5e26-\u6ed1\u8f6e\u7cfb\u7edf\u3001\u4f38\u7f29\u81c2\u7b49\u540c\u6b65\u4f20\u52a8\u7ed3\u6784</li> <li>\u7b80\u5316\u7684\u88ab\u52a8\u5173\u8282\u6a21\u578b\uff08\u5982\u672b\u7aef\u5355\u6446\u59cb\u7ec8\u5782\u76f4\u5411\u4e0b\uff09</li> <li>\u591a\u7535\u673a\u540c\u6b65\u63a7\u5236\u7ec4\uff08\u591a\u4e2a\u6267\u884c\u5668\u5171\u4eab\u540c\u4e00\u8bbe\u5b9a\u503c\uff09</li> </ul>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#ros2_control-mimic","title":"ros2_control \u4e2d\u7684 Mimic \u5173\u8282\u5904\u7406","text":"<ul> <li>URDF \u4e2d\u5b9a\u4e49\u7684 mimic \u5173\u8282\u4f1a\u88ab ResourceManager \u89e3\u6790\uff0c\u5e76\u5b58\u50a8\u5728 <code>HardwareInfo</code> \u7c7b\u4e2d\uff0c\u4f9b\u786c\u4ef6\u7ec4\u4ef6\u8bbf\u95ee\u3002</li> <li>\u5173\u952e\u9650\u5236\uff1a</li> <li>Mimic \u5173\u8282\u4e0d\u80fd\u58f0\u660e\u547d\u4ee4\u63a5\u53e3\uff08<code>command_interface</code>\uff09</li> <li>\u53ef\u4ee5\u58f0\u660e\u72b6\u6001\u63a5\u53e3\uff08<code>state_interface</code>\uff09</li> </ul>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#ros2_control","title":"\u793a\u4f8b\uff1a<code>&lt;ros2_control&gt;</code> \u914d\u7f6e","text":"<pre><code>&lt;ros2_control&gt;\n  &lt;joint name=\"right_finger_joint\"&gt;\n    &lt;command_interface name=\"effort\"/&gt;\n    &lt;state_interface name=\"position\"/&gt;\n    &lt;state_interface name=\"velocity\"/&gt;\n    &lt;state_interface name=\"effort\"/&gt;\n  &lt;/joint&gt;\n  &lt;joint name=\"left_finger_joint\"&gt;\n    &lt;!-- mimic \u5173\u8282\uff1a\u65e0 command_interface --&gt;\n    &lt;state_interface name=\"position\"/&gt;\n    &lt;state_interface name=\"velocity\"/&gt;\n    &lt;state_interface name=\"effort\"/&gt;\n  &lt;/joint&gt;\n&lt;/ros2_control&gt;\n</code></pre> <p>\u2705 \u5df2\u652f\u6301 mimic \u7684\u5b98\u65b9\u5305\uff1a - <code>mock_components</code>\uff08\u901a\u7528\u7cfb\u7edf\uff09 - <code>gz_ros2_control</code></p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#urdf_1","title":"\u8fd0\u52a8\u5b66\u5173\u7cfb\uff08\u7531 URDF \u5b9a\u4e49\uff0c\u4e0e\u786c\u4ef6\u63a5\u53e3\u7c7b\u578b\u65e0\u5173\uff09\uff1a","text":"<ul> <li>\u4f4d\u7f6e\uff1a<code>position = multiplier * other_joint_position + offset</code></li> <li>\u901f\u5ea6\uff1a<code>velocity = multiplier * other_joint_velocity</code></li> </ul>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#mimic-urdf","title":"\u7981\u7528 Mimic \u884c\u4e3a\uff08\u65e0\u9700\u4fee\u6539 URDF\uff09","text":"<p>\u5728 <code>&lt;ros2_control&gt;</code> \u6bb5\u4e2d\u8bbe\u7f6e <code>mimic=\"false\"</code> \u5373\u53ef\u8986\u76d6 URDF \u884c\u4e3a\uff1a </p><pre><code>&lt;joint name=\"left_finger_joint\" mimic=\"false\"&gt;\n  &lt;state_interface name=\"position\"/&gt;\n  &lt;state_interface name=\"velocity\"/&gt;\n  &lt;state_interface name=\"effort\"/&gt;\n&lt;/joint&gt;\n</code></pre><p></p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#transmission-interface","title":"\u4f20\u52a8\u63a5\u53e3\uff08Transmission Interface\uff09","text":"<p>\u673a\u68b0\u4f20\u52a8\u88c5\u7f6e\u7528\u4e8e\u5728\u6267\u884c\u5668\u7a7a\u95f4\uff08actuator space\uff09\u548c\u5173\u8282\u7a7a\u95f4\uff08joint space\uff09\u4e4b\u95f4\u8f6c\u6362\u529f\u7387\u53d8\u91cf\uff08\u529b/\u529b\u77e9\u3001\u901f\u5ea6\uff09\uff0c\u5e76\u4fdd\u6301\u529f\u7387\u5b88\u6052\u3002</p> <ul> <li>Effort \u53d8\u91cf\uff1a\u529b\uff08\u7ebf\u6027\uff09\u3001\u529b\u77e9\uff08\u65cb\u8f6c\uff09</li> <li>Flow \u53d8\u91cf\uff1a\u7ebf\u901f\u5ea6\u3001\u89d2\u901f\u5ea6</li> </ul> <p>\u5728\u673a\u5668\u4eba\u4e2d\uff0c\u4f20\u52a8\u901a\u5e38\u4f4d\u4e8e\u6267\u884c\u5668\u4e0e\u5173\u8282\u4e4b\u95f4\u3002<code>transmission_interface</code> \u63d0\u4f9b\u4e86\u53cc\u5411\u6620\u5c04\u652f\u6301\uff1a</p> \u6620\u5c04\u7c7b\u578b \u8bf4\u660e \u4f4d\u7f6e \u975e\u529f\u7387\u53d8\u91cf\uff0c\u4f46\u53ef\u901a\u8fc7\u901f\u5ea6\u6620\u5c04 + \u96f6\u70b9\u504f\u79fb\u79ef\u5206\u5b9e\u73b0 \u901f\u5ea6/\u529b\u77e9 \u76f4\u63a5\u901a\u8fc7\u4f20\u52a8\u6bd4\u8f6c\u6362"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#_2","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<ul> <li><code>transmission_interface</code> \u63d0\u4f9b\u57fa\u7c7b\u548c\u63d2\u4ef6\u5b9e\u73b0</li> <li>\u4e0d\u4f1a\u81ea\u52a8\u52a0\u8f7d\uff0c\u9700\u7531\u81ea\u5b9a\u4e49\u786c\u4ef6\u7ec4\u4ef6\u663e\u5f0f\u52a0\u8f7d</li> <li>Gazebo \u63d2\u4ef6\u4e0d\u81ea\u52a8\u96c6\u6210\u4f20\u52a8\u63a5\u53e3</li> </ul>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#_3","title":"\u5f53\u524d\u53ef\u7528\u7684\u4f20\u52a8\u5b9e\u73b0\uff1a","text":"<ul> <li><code>SimpleTransmission</code>\uff1a\u6052\u5b9a\u51cf\u901f\u6bd4\uff0c\u65e0\u52a8\u6001\u7279\u6027</li> <li><code>DifferentialTransmission</code>\uff1a\u53cc\u6267\u884c\u5668 \u2192 \u53cc\u5173\u8282\u7684\u5dee\u901f\u4f20\u52a8</li> <li><code>FourBarLinkageTransmission</code>\uff1a\u56db\u6746\u673a\u6784\u4f20\u52a8\uff08\u53cc\u6267\u884c\u5668 \u2192 \u53cc\u5173\u8282\uff09</li> </ul> <p>\ud83d\udcda \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u8003\uff1a<code>example_8</code> \u793a\u4f8b \u6216 <code>transmission_interface</code> \u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#simulating-closed-loop-kinematic-chains","title":"\u95ed\u73af\u8fd0\u52a8\u94fe\u7684\u4eff\u771f\uff08Simulating Closed-Loop Kinematic Chains\uff09","text":"<p>\u4e0d\u540c\u4eff\u771f\u63d2\u4ef6\u5bf9\u95ed\u73af\u8fd0\u52a8\u94fe\u7684\u652f\u6301\u7a0b\u5ea6\u4e0d\u540c\uff1a</p>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#1-gazebo_ros2_control","title":"1. <code>gazebo_ros2_control</code>","text":"<ul> <li>\u2705 \u652f\u6301 mimic \u5173\u8282</li> <li>\u2705 \u652f\u6301\u95ed\u73af\u8fd0\u52a8\u5b66\uff08\u901a\u8fc7 URDF \u4e2d\u7684 <code>&lt;gazebo&gt;</code> \u6807\u7b7e\u5b9e\u73b0\uff09   <p>\u793a\u4f8b\u53c2\u8003\uff1aGazebo \u95ed\u73af\u5173\u8282\u914d\u7f6e</p> </li> </ul>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#2-gz_ros2_controlignition-gazebo","title":"2. <code>gz_ros2_control</code>\uff08Ignition Gazebo\uff09","text":"<ul> <li>\u2705 \u652f\u6301 mimic \u5173\u8282</li> <li>\u274c \u5c1a\u672a\u539f\u751f\u652f\u6301\u95ed\u73af\u8fd0\u52a8\u5b66</li> <li>\ud83d\udd27 \u53ef\u901a\u8fc7\u81ea\u5b9a\u4e49\u63d2\u4ef6 + <code>DetachableJoint</code> \u5b9e\u73b0   <p>\u8ddf\u8fdb\u8fdb\u5c55\uff1agz_ros2_control \u95ed\u73af\u652f\u6301 Issue</p> </li> </ul>"},{"location":"ros2_control/Concepts/%E5%85%B3%E8%8A%82%E8%BF%90%E5%8A%A8%E5%AD%A6/#_4","title":"\u603b\u7ed3","text":"<ul> <li>ros2_control \u539f\u751f\u652f\u6301\u4e32\u8054\u8fd0\u52a8\u5b66</li> <li>\u901a\u8fc7 Mimic \u5173\u8282\u53ef\u6a21\u62df\u7b80\u5355\u7ebf\u6027\u8026\u5408\u7684\u95ed\u73af\u6216\u88ab\u52a8\u5173\u8282</li> <li>\u590d\u6742\u95ed\u73af\u673a\u6784\u9700\u4f9d\u8d56\u4eff\u771f\u5668\uff08\u5982 Gazebo\uff09\u6216\u81ea\u5b9a\u4e49\u786c\u4ef6\u7ec4\u4ef6 + \u4f20\u52a8\u63a5\u53e3</li> <li>\u4f20\u52a8\u63a5\u53e3\u4e3a\u6267\u884c\u5668-\u5173\u8282\u6620\u5c04\u63d0\u4f9b\u6807\u51c6\u5316\u63d2\u4ef6\u673a\u5236\uff0c\u4f46\u9700\u624b\u52a8\u96c6\u6210</li> </ul> <p>\ud83d\udccc \u8bbe\u8ba1\u5efa\u8bae\uff1a\u5bf9\u4e8e\u9ad8\u5ea6\u8026\u5408\u7684\u5e76\u8054\u673a\u6784\uff0c\u5efa\u8bae\u5728\u786c\u4ef6\u62bd\u8c61\u5c42\u6216\u4eff\u771f\u5c42\u5b9e\u73b0\u5b8c\u6574\u7684\u8fd0\u52a8\u5b66\u6c42\u89e3\u5668\uff0c\u800c\u975e\u4f9d\u8d56 URDF mimic \u673a\u5236\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/","title":"\u63a7\u5236\u5668\u7ba1\u7406\u5668","text":""},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#controller-manager","title":"Controller Manager\uff08\u63a7\u5236\u5668\u7ba1\u7406\u5668\uff09","text":"<p>Controller Manager \u662f ros2_control \u6846\u67b6\u4e2d\u7684\u6838\u5fc3\u7ec4\u4ef6\u3002\u5b83\u8d1f\u8d23\u7ba1\u7406\u63a7\u5236\u5668\u7684\u751f\u547d\u5468\u671f\u3001\u786c\u4ef6\u63a5\u53e3\u7684\u8bbf\u95ee\uff0c\u5e76\u5411 ROS \u4e16\u754c\u63d0\u4f9b\u670d\u52a1\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#determinism","title":"\u786e\u5b9a\u6027\uff08Determinism\uff09","text":"<p>\u4e3a\u4e86\u5728\u63a7\u5236\u786c\u4ef6\u65f6\u83b7\u5f97\u6700\u4f73\u6027\u80fd\uff0c\u60a8\u5e0c\u671b Controller Manager \u7684\u4e3b\u63a7\u5236\u5faa\u73af\u5c3d\u53ef\u80fd\u51cf\u5c11\u6296\u52a8\uff08jitter\uff09\u3002</p> <p>\u65e0\u8bba\u662f\u5426\u5b89\u88c5\u4e86\u5b9e\u65f6\u5185\u6838\uff0cController Manager \u7684\u4e3b\u7ebf\u7a0b\u90fd\u4f1a\u5c1d\u8bd5\u5c06\u8c03\u5ea6\u7b56\u7565\u8bbe\u7f6e\u4e3a <code>SCHED_FIFO</code>\uff0c\u4f18\u5148\u7ea7\u8bbe\u4e3a 50\u3002\u6709\u5173\u8c03\u5ea6\u7b56\u7565\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Linux \u8c03\u5ea6\u7b56\u7565\u6587\u6863\u3002</p> <p>\u5bf9\u4e8e\u5b9e\u65f6\u4efb\u52a1\uff0c\u4f18\u5148\u7ea7\u8303\u56f4\u4e3a 0 \u5230 99\uff0c\u6570\u503c\u8d8a\u5927\u4f18\u5148\u7ea7\u8d8a\u9ad8\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u666e\u901a\u7528\u6237\u6ca1\u6709\u6743\u9650\u8bbe\u7f6e\u5982\u6b64\u9ad8\u7684\u4f18\u5148\u7ea7\u3002\u8981\u6388\u4e88\u7528\u6237\u6b64\u7c7b\u6743\u9650\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <pre><code>sudo addgroup realtime\nsudo usermod -a -G realtime $(whoami)\n</code></pre> <p>\u7136\u540e\uff0c\u5728 <code>/etc/security/limits.conf</code> \u4e2d\u4e3a <code>realtime</code> \u7ec4\u6dfb\u52a0\u4ee5\u4e0b\u9650\u5236\uff1a</p> <pre><code>@realtime soft rtprio 99\n@realtime soft priority 99\n@realtime soft memlock unlimited\n@realtime hard rtprio 99\n@realtime hard priority 99\n@realtime hard memlock unlimited\n</code></pre> <p>\u6ce8\u610f\uff1a\u8fd9\u4e9b\u9650\u5236\u5728\u60a8\u6ce8\u9500\u5e76\u91cd\u65b0\u767b\u5f55\u540e\u624d\u4f1a\u751f\u6548\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#docker-ros2_control","title":"\u5728 Docker \u5bb9\u5668\u4e2d\u8fd0\u884c\u5e26\u5b9e\u65f6\u8981\u6c42\u7684 ros2_control","text":"<p>\u82e5\u8981\u5728 Docker \u5bb9\u5668\u4e2d\u8fd0\u884c\u5177\u5907\u5b9e\u65f6\u80fd\u529b\u7684 ros2_control\uff0c\u8bf7\u6dfb\u52a0\u4ee5\u4e0b\u80fd\u529b\u9009\u9879\uff0c\u4ee5\u5141\u8bb8\u5bb9\u5668\u8bbe\u7f6e\u7ebf\u7a0b\u4f18\u5148\u7ea7\u5e76\u9501\u5b9a\u5185\u5b58\uff1a</p> <pre><code>docker run -it \\\n    --cap-add=sys_nice \\\n    --ulimit rtprio=99 \\\n    --ulimit memlock=-1 \\\n    --rm --net host &lt;IMAGE&gt;\n</code></pre> <p>\u66f4\u591a\u8be6\u60c5\u8bf7\u53c2\u8003 Docker \u5f15\u64ce\u6587\u6863\uff1a\u8d44\u6e90\u9650\u5236\u4e0e Linux \u80fd\u529b\uff08capabilities\uff09\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_1","title":"\u5185\u6838\u9009\u62e9\u5efa\u8bae","text":"<p>\u6807\u51c6 Linux \u5185\u6838\u9488\u5bf9\u8ba1\u7b97\u541e\u5410\u91cf\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u4e0d\u9002\u5408\u786c\u4ef6\u63a7\u5236\u3002\u5efa\u8bae\u8003\u8651\u4ee5\u4e0b\u66ff\u4ee3\u65b9\u6848\uff1a</p> <ul> <li>Real-time Ubuntu\uff08\u9002\u7528\u4e8e Ubuntu\uff0c\u5305\u62ec Raspberry Pi\uff09</li> <li>Debian \u4e0a\u7684 <code>linux-image-rt-amd64</code> \u6216 <code>linux-image-rt-arm64</code>\uff08\u9002\u7528\u4e8e 64 \u4f4d PC\uff09</li> <li>lowlatency \u5185\u6838\uff08\u5728 Ubuntu \u4e0a\u901a\u8fc7 <code>sudo apt install linux-lowlatency</code> \u5b89\u88c5\uff09</li> </ul> <p>\u867d\u7136\u5b89\u88c5\u5b9e\u65f6\u5185\u6838\uff08realtime kernel\uff09\u80fd\u83b7\u5f97\u6700\u4f4e\u6296\u52a8\u7684\u6700\u4f73\u6548\u679c\uff0c\u4f46\u4f7f\u7528 lowlatency \u5185\u6838\u4e5f\u80fd\u663e\u8457\u6539\u5584\u6027\u80fd\uff0c\u4e14\u5b89\u88c5\u975e\u5e38\u7b80\u5355\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#publishers","title":"\u53d1\u5e03\u8005\uff08Publishers\uff09","text":"<ul> <li><code>~/activity</code>   \u7c7b\u578b\uff1a<code>controller_manager_msgs::msg::ControllerManagerActivity</code>   \u6bcf\u5f53 Controller Manager \u7ba1\u7406\u7684\u63a7\u5236\u5668\u6216\u786c\u4ef6\u7ec4\u4ef6\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u90fd\u4f1a\u53d1\u5e03\u6b64\u8bdd\u9898\u3002\u6d88\u606f\u5305\u542b\u6240\u6709\u88ab\u7ba1\u7406\u7684\u63a7\u5236\u5668\u548c\u786c\u4ef6\u7ec4\u4ef6\u53ca\u5176\u751f\u547d\u5468\u671f\u72b6\u6001\u3002 QoS \u8bbe\u7f6e\uff1a\u4f7f\u7528 <code>transient local</code>\uff0c\u56e0\u6b64\u8ba2\u9605\u8005\u4e5f\u5fc5\u987b\u4f7f\u7528 <code>transient local</code> QoS\u3002</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#subscribers","title":"\u8ba2\u9605\u8005\uff08Subscribers\uff09","text":"<ul> <li><code>robot_description</code>   \u7c7b\u578b\uff1a<code>std_msgs::msg::String</code>   \u5305\u542b URDF XML \u5b57\u7b26\u4e32\uff08\u4f8b\u5982\u6765\u81ea <code>robot_state_publisher</code>\uff09\u3002 \u6ce8\u610f\uff1a\u76ee\u524d\u4e0d\u652f\u6301\u91cd\u65b0\u52a0\u8f7d URDF\u3002\u6240\u6709\u5728 <code>&lt;ros2_control&gt;</code> \u6807\u7b7e\u4e2d\u5b9a\u4e49\u7684\u5173\u8282\u90fd\u5fc5\u987b\u5b58\u5728\u4e8e URDF \u4e2d\u3002</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":""},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_2","title":"\u63a7\u5236\u5668\u5b9a\u4e49","text":"<ul> <li> <p><code>&lt;controller_name&gt;.type</code>   \u4f7f\u7528 <code>pluginlib</code> \u5bfc\u51fa\u7684\u63a7\u5236\u5668\u63d2\u4ef6\u540d\u79f0\u3002Controller Manager \u5c06\u57fa\u4e8e\u6b64\u7c7b\u521b\u5efa\u540d\u4e3a <code>controller_name</code> \u7684\u5b9e\u4f8b\u3002</p> </li> <li> <p><code>&lt;controller_name&gt;.params_file</code>   \u63a7\u5236\u5668\u53c2\u6570 YAML \u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u3002\u6587\u4ef6\u5e94\u4f7f\u7528\u6807\u51c6 ROS 2 YAML \u683c\u5f0f\u3002</p> </li> <li> <p><code>&lt;controller_name&gt;.fallback_controllers</code>   \u5f53\u4e3b\u63a7\u5236\u5668\u5728\u66f4\u65b0\u5468\u671f\u4e2d\u8fd4\u56de <code>return_type::ERROR</code> \u65f6\uff0c\u5c06\u6fc0\u6d3b\u6b64\u5217\u8868\u4e2d\u7684\u5907\u7528\u63a7\u5236\u5668\u3002\u5efa\u8bae\u5c06\u6240\u6709\u652f\u6301\u5907\u7528\u7b56\u7565\u6240\u9700\u7684\u63a7\u5236\u5668\uff08\u5305\u62ec\u94fe\u5f0f\u63a7\u5236\u5668\uff09\u5168\u90e8\u5217\u5165\u3002</p> </li> </ul> <p>\u26a0\ufe0f \u8b66\u544a\uff1a\u5907\u7528\u63a7\u5236\u5668\u7684\u6fc0\u6d3b\u4f9d\u8d56\u4e8e\u5f53\u65f6\u72b6\u6001\u63a5\u53e3\u548c\u547d\u4ee4\u63a5\u53e3\u7684\u53ef\u7528\u6027\u3002\u5f3a\u70c8\u5efa\u8bae\u5728\u4eff\u771f\u73af\u5883\u4e2d\u6d4b\u8bd5\u5907\u7528\u7b56\u7565\u540e\u518d\u90e8\u7f72\u5230\u771f\u5b9e\u673a\u5668\u4eba\u4e0a\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_3","title":"\u5168\u5c40\u53c2\u6570","text":"<ul> <li><code>update_rate</code> (int)   Controller Manager \u5b9e\u65f6\u66f4\u65b0\u5faa\u73af\u7684\u9891\u7387\uff08Hz\uff09\u3002\u8be5\u5faa\u73af\u4ece\u786c\u4ef6\u8bfb\u53d6\u72b6\u6001\u3001\u66f4\u65b0\u63a7\u5236\u5668\u5e76\u5411\u786c\u4ef6\u5199\u5165\u547d\u4ee4\u3002  </li> <li>\u53ea\u8bfb\uff1a\u662f  </li> <li> <p>\u9ed8\u8ba4\u503c\uff1a100</p> </li> <li> <p><code>enforce_command_limits</code> (bool)   \u82e5\u4e3a <code>true</code>\uff0cController Manager \u4f1a\u5f3a\u5236\u6267\u884c URDF \u4e2d\u5b9a\u4e49\u7684\u547d\u4ee4\u9650\u5236\uff1b\u82e5\u547d\u4ee4\u8d85\u51fa\u9650\u5236\uff0c\u5219\u6839\u636e\u5173\u8282\u7c7b\u578b\u8fdb\u884c\u94b3\u4f4d\uff08clamp\uff09\u3002  </p> </li> <li>\u53ea\u8bfb\uff1a\u662f  </li> <li>\u9ed8\u8ba4\u503c\uff1a<code>true</code></li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_4","title":"\u786c\u4ef6\u7ec4\u4ef6\u521d\u59cb\u72b6\u6001\u7ba1\u7406","text":"<ul> <li><code>hardware_components_initial_state</code>\uff08\u6620\u5c04\u7ed3\u6784\uff09</li> </ul> <pre><code>hardware_components_initial_state:\n  unconfigured:\n    - \"arm1\"\n    - \"arm2\"\n  inactive:\n    - \"base3\"\n</code></pre> <ul> <li> <p><code>unconfigured</code>\uff08string_array\uff09     \u542f\u52a8\u65f6\u4ec5\u52a0\u8f7d\u4f46\u4e0d\u914d\u7f6e\u7684\u786c\u4ef6\u7ec4\u4ef6\uff0c\u9700\u624b\u52a8\u6216\u901a\u8fc7 <code>hardware_spawner</code> \u914d\u7f6e\u548c\u6fc0\u6d3b\u3002  </p> <ul> <li>\u9ed8\u8ba4\uff1a<code>{}</code> </li> <li>\u7ea6\u675f\uff1a\u65e0\u91cd\u590d\u9879</li> </ul> </li> <li> <p><code>inactive</code>\uff08string_array\uff09     \u542f\u52a8\u65f6\u81ea\u52a8\u914d\u7f6e\u4f46\u4e0d\u6fc0\u6d3b\u7684\u786c\u4ef6\u7ec4\u4ef6\uff0c\u9700\u624b\u52a8\u6216\u901a\u8fc7 <code>hardware_spawner</code> \u6fc0\u6d3b\u3002  </p> <ul> <li>\u9ed8\u8ba4\uff1a<code>{}</code> </li> <li>\u7ea6\u675f\uff1a\u65e0\u91cd\u590d\u9879</li> </ul> </li> <li> <p><code>shutdown_on_initial_state_failure</code>\uff08bool\uff09     \u82e5\u8bbe\u7f6e\u521d\u59cb\u72b6\u6001\u5931\u8d25\uff0cController Manager \u662f\u5426\u5e94\u5173\u95ed\u3002  </p> <ul> <li>\u53ea\u8bfb\uff1a\u662f  </li> <li>\u9ed8\u8ba4\u503c\uff1a<code>false</code></li> </ul> </li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_5","title":"\u9ed8\u8ba4\u884c\u4e3a\u53c2\u6570","text":"<ul> <li><code>defaults.switch_controller.strictness</code>\uff08string\uff09   \u9ed8\u8ba4\u7684\u63a7\u5236\u5668\u5207\u6362\u7b56\u7565\u3002\u82e5\u670d\u52a1\u8c03\u7528\u672a\u6307\u5b9a\u7b56\u7565\uff0c\u5219\u4f7f\u7528\u6b64\u503c\u3002  </li> <li>\u9ed8\u8ba4\u503c\uff1a<code>\"strict\"</code> </li> <li> <p>\u7ea6\u675f\uff1a\u5fc5\u987b\u4e3a <code>\"strict\"</code> \u6216 <code>\"best_effort\"</code></p> </li> <li> <p><code>defaults.allow_controller_activation_with_inactive_hardware</code>\uff08bool\uff09   \u82e5\u4e3a <code>true</code>\uff0c\u5141\u8bb8\u63a7\u5236\u5668\u4ece\u672a\u6fc0\u6d3b\u7684\u786c\u4ef6\u7ec4\u4ef6\u7533\u8bf7\u8d44\u6e90\u3002  </p> </li> <li>\u53ea\u8bfb\uff1a\u662f  </li> <li> <p>\u9ed8\u8ba4\u503c\uff1a<code>false</code> </p> <p>\u26a0\ufe0f \u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u4e0d\u5efa\u8bae\u8bbe\u4e3a <code>true</code>\uff08\u4ec5\u7528\u4e8e\u5411\u540e\u517c\u5bb9\uff09\u3002</p> </li> <li> <p><code>defaults.deactivate_controllers_on_hardware_self_deactivate</code>\uff08bool\uff09   \u82e5\u786c\u4ef6\u7ec4\u4ef6\u5728\u5199\u5165\u5468\u671f\u8fd4\u56de <code>DEACTIVATE</code>\uff0c\u662f\u5426\u81ea\u52a8\u505c\u7528\u4f7f\u7528\u5176\u63a5\u53e3\u7684\u63a7\u5236\u5668\u3002  </p> </li> <li>\u53ea\u8bfb\uff1a\u662f  </li> <li>\u9ed8\u8ba4\u503c\uff1a<code>true</code> <p>\u26a0\ufe0f \u4e0d\u5efa\u8bae\u8bbe\u4e3a <code>false</code>\uff0c\u672a\u6765\u7248\u672c\u5c06\u79fb\u9664\u6b64\u53c2\u6570\u5e76\u5f3a\u5236\u542f\u7528\u6b64\u884c\u4e3a\u3002</p> </li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#diagnostics-thresholds","title":"\u8bca\u65ad\u9608\u503c\uff08Diagnostics Thresholds\uff09","text":"<p>\u7528\u4e8e\u76d1\u63a7 Controller Manager\u3001\u63a7\u5236\u5668\u548c\u786c\u4ef6\u7ec4\u4ef6\u7684\u5468\u671f\u6027\u548c\u6267\u884c\u65f6\u95f4\u6027\u80fd\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#controller-manager_1","title":"Controller Manager \u5468\u671f\u6027\u8bca\u65ad","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>diagnostics.threshold.controller_manager.periodicity.mean_error.warn</code> 5.0 Hz \u5747\u503c\u8bef\u5dee\u8b66\u544a\u9608\u503c <code>diagnostics.threshold.controller_manager.periodicity.mean_error.error</code> 10.0 Hz \u5747\u503c\u8bef\u5dee\u9519\u8bef\u9608\u503c <code>diagnostics.threshold.controller_manager.periodicity.standard_deviation.warn</code> 5.0 Hz \u6807\u51c6\u5dee\u8b66\u544a\u9608\u503c <code>diagnostics.threshold.controller_manager.periodicity.standard_deviation.error</code> 10.0 Hz \u6807\u51c6\u5dee\u9519\u8bef\u9608\u503c"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_6","title":"\u63a7\u5236\u5668\u8bca\u65ad\uff08\u9002\u7528\u4e8e\u5f02\u6b65\u63a7\u5236\u5668\u6216\u66f4\u65b0\u7387\u4e0d\u540c\u7684\u540c\u6b65\u63a7\u5236\u5668\uff09","text":"<ul> <li>\u5468\u671f\u6027\uff08\u5355\u4f4d\uff1aHz\uff09</li> <li><code>mean_error.warn</code> / <code>error</code>: 5.0 / 10.0</li> <li> <p><code>standard_deviation.warn</code> / <code>error</code>: 5.0 / 10.0</p> </li> <li> <p>\u6267\u884c\u65f6\u95f4\uff08\u5355\u4f4d\uff1a\u5fae\u79d2\uff09</p> </li> <li><code>mean_error.warn</code> / <code>error</code>: 1000.0 / 2000.0</li> <li><code>standard_deviation.warn</code> / <code>error</code>: 100.0 / 200.0</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_7","title":"\u786c\u4ef6\u7ec4\u4ef6\u8bca\u65ad\uff08\u9002\u7528\u4e8e\u5f02\u6b65\u786c\u4ef6\u6216\u8bfb\u5199\u7387\u4e0d\u540c\u7684\u540c\u6b65\u786c\u4ef6\uff09","text":"<ul> <li>\u5468\u671f\u6027\uff08\u5355\u4f4d\uff1aHz\uff09</li> <li><code>mean_error.warn</code> / <code>error</code>: 5.0 / 10.0</li> <li> <p><code>standard_deviation.warn</code> / <code>error</code>: 5.0 / 10.0</p> </li> <li> <p>\u6267\u884c\u65f6\u95f4\uff08\u5355\u4f4d\uff1a\u5fae\u79d2\uff09</p> </li> <li><code>mean_error.warn</code> / <code>error</code>: 1000.0 / 2000.0</li> <li><code>standard_deviation.warn</code> / <code>error</code>: 100.0 / 200.0</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_8","title":"\u5176\u4ed6\u53c2\u6570","text":"<ul> <li><code>overruns.print_warnings</code>\uff08bool\uff09   \u82e5\u4e3a <code>true</code>\uff0c\u5f53\u5b9e\u65f6\u5faa\u73af\uff08\u8bfb-\u66f4\u65b0-\u5199\uff09\u53d1\u751f\u8d85\u9650\u65f6\uff0cController Manager \u4f1a\u6253\u5370\u8b66\u544a\u3002  </li> <li>\u9ed8\u8ba4\u503c\uff1a<code>true</code>\uff08\u9664\u975e <code>use_sim_time=true</code>\uff09</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_9","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":"<pre><code>controller_manager:\n  ros__parameters:\n    defaults:\n      allow_controller_activation_with_inactive_hardware: false\n      deactivate_controllers_on_hardware_self_deactivate: true\n      switch_controller:\n        strictness: strict\n    diagnostics:\n      threshold:\n        controller_manager:\n          periodicity:\n            mean_error:\n              error: 10.0\n              warn: 5.0\n            standard_deviation:\n              error: 10.0\n              warn: 5.0\n        controllers:\n          execution_time:\n            mean_error:\n              error: 2000.0\n              warn: 1000.0\n            standard_deviation:\n              error: 200.0\n              warn: 100.0\n          periodicity:\n            mean_error:\n              error: 10.0\n              warn: 5.0\n            standard_deviation:\n              error: 10.0\n              warn: 5.0\n        hardware_components:\n          execution_time:\n            mean_error:\n              error: 2000.0\n              warn: 1000.0\n            standard_deviation:\n              error: 200.0\n              warn: 100.0\n          periodicity:\n            mean_error:\n              error: 10.0\n              warn: 5.0\n            standard_deviation:\n              error: 10.0\n              warn: 5.0\n    enforce_command_limits: true\n    hardware_components_initial_state:\n      inactive: '{}'\n      shutdown_on_initial_state_failure: false\n      unconfigured: '{}'\n    overruns:\n      print_warnings: ''\n    update_rate: 100.0\n</code></pre>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#controller-manager_2","title":"\u591a Controller Manager \u7ba1\u7406","text":"<p>\u5904\u7406\u591a\u4e2a Controller Manager \u65f6\uff0c\u6709\u4e24\u79cd\u65b9\u5f0f\u7ba1\u7406\u4e0d\u540c\u7684\u673a\u5668\u4eba\u63cf\u8ff0\uff1a</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#1-namespaces","title":"1. \u4f7f\u7528\u547d\u540d\u7a7a\u95f4\uff08Namespaces\uff09","text":"<p>\u5c06 <code>robot_state_publisher</code> \u548c <code>controller_manager</code> \u653e\u5165\u540c\u4e00\u547d\u540d\u7a7a\u95f4\uff1a</p> <pre><code>control_node = Node(\n    package=\"controller_manager\",\n    executable=\"ros2_control_node\",\n    parameters=[robot_controllers],\n    output=\"both\",\n    namespace=\"rrbot\",\n)\nrobot_state_pub_node = Node(\n    package=\"robot_state_publisher\",\n    executable=\"robot_state_publisher\",\n    output=\"both\",\n    parameters=[robot_description],\n    namespace=\"rrbot\",\n)\n</code></pre>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#2-remappings","title":"2. \u4f7f\u7528\u8bdd\u9898\u91cd\u6620\u5c04\uff08Remappings\uff09","text":"<p>\u901a\u8fc7\u91cd\u6620\u5c04\u6307\u5b9a\u4e0d\u540c <code>robot_description</code> \u8bdd\u9898\uff1a</p> <pre><code>control_node = Node(\n    package=\"controller_manager\",\n    executable=\"ros2_control_node\",\n    parameters=[robot_controllers],\n    output=\"both\",\n    remappings=[('robot_description', '/rrbot/robot_description')]\n)\nrobot_state_pub_node = Node(\n    package=\"robot_state_publisher\",\n    executable=\"robot_state_publisher\",\n    output=\"both\",\n    parameters=[robot_description],\n    namespace=\"rrbot\",\n)\n</code></pre>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#helper-scripts","title":"\u8f85\u52a9\u811a\u672c\uff08Helper Scripts\uff09","text":""},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#spawner","title":"<code>spawner</code>","text":"<p>\u52a0\u8f7d\u3001\u914d\u7f6e\u5e76\u542f\u52a8\u63a7\u5236\u5668\u3002</p> <pre><code>ros2 run controller_manager spawner -h\n</code></pre> <p>\u5e38\u7528\u9009\u9879\uff1a - <code>-c</code>\uff1a\u6307\u5b9a Controller Manager \u8282\u70b9\u540d - <code>-p</code>\uff1a\u52a0\u8f7d\u63a7\u5236\u5668\u53c2\u6570\u6587\u4ef6 - <code>--load-only</code>\uff1a\u4ec5\u52a0\u8f7d\uff0c\u4e0d\u914d\u7f6e - <code>--inactive</code>\uff1a\u52a0\u8f7d\u5e76\u914d\u7f6e\uff0c\u4f46\u4e0d\u6fc0\u6d3b - <code>-u</code>\uff1a\u7a0b\u5e8f\u4e2d\u65ad\u65f6\u81ea\u52a8\u5378\u8f7d\u63a7\u5236\u5668 - <code>--activate-as-group</code>\uff1a\u6279\u91cf\u6fc0\u6d3b\u63a7\u5236\u5668\uff08\u9002\u7528\u4e8e\u94fe\u5f0f\u63a7\u5236\u5668\uff09</p> <p>\u652f\u6301\u591a\u79cd\u53c2\u6570\u6587\u4ef6\u683c\u5f0f\uff08\u542b\u901a\u914d\u7b26\u548c\u547d\u540d\u7a7a\u95f4\uff09\uff1a</p> <pre><code>/**:\n  ros__parameters:\n    type: joint_trajectory_controller/JointTrajectoryController\n\n/rrbot_1/position_trajectory_controller:\n  ros__parameters:\n    type: ...\n</code></pre>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#unspawner","title":"<code>unspawner</code>","text":"<p>\u505c\u6b62\u5e76\u5378\u8f7d\u63a7\u5236\u5668\u3002</p> <pre><code>ros2 run controller_manager unspawner controller_name\n</code></pre>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#hardware_spawner","title":"<code>hardware_spawner</code>","text":"<p>\u6fc0\u6d3b\u6216\u914d\u7f6e\u786c\u4ef6\u7ec4\u4ef6\u3002</p> <pre><code>ros2 run controller_manager hardware_spawner --activate hardware_name\n</code></pre>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#gui-rqt_controller_manager","title":"GUI \u5de5\u5177\uff1a<code>rqt_controller_manager</code>","text":"<p>\u63d0\u4f9b\u56fe\u5f62\u754c\u9762\u7ba1\u7406\u63a7\u5236\u5668\u548c\u786c\u4ef6\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u72b6\u6001\u3002</p> <pre><code>ros2 run rqt_controller_manager rqt_controller_manager\n</code></pre> <ul> <li>\u53cc\u51fb\uff1a\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f  </li> <li>\u53f3\u952e\uff1a\u751f\u547d\u5468\u671f\u7ba1\u7406\u83dc\u5355\uff08\u6fc0\u6d3b\u3001\u505c\u7528\u7b49\uff09</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#controllermanager","title":"\u5728\u8fdb\u7a0b\u4e2d\u5b9e\u4f8b\u5316 ControllerManager","text":"<p><code>ControllerManager</code> \u53ef\u4f5c\u4e3a\u7c7b\u5728\u8fdb\u7a0b\u4e2d\u5b9e\u4f8b\u5316\uff0c\u4f46\u9700\u6ce8\u610f\uff1a</p> <ul> <li>\u5b83\u7ee7\u627f\u81ea <code>rclcpp::Node</code></li> <li>\u82e5\u8fdb\u7a0b\u4e2d\u6709\u591a\u4e2a Node\uff0c\u5168\u5c40\u91cd\u6620\u5c04\u89c4\u5219\u53ef\u80fd\u5bfc\u81f4\u8282\u70b9\u540d\u51b2\u7a81  \u89e3\u51b3\u65b9\u6848\uff1a\u5728 <code>NodeOptions</code> \u4e2d\u663e\u5f0f\u6307\u5b9a\u91cd\u6620\u5c04\u89c4\u5219\uff1a  <pre><code>auto options = controller_manager::get_cm_node_options();\noptions.arguments({\n  \"--ros-args\",\n  \"--remap\", \"_target_node_name:__node:=dst_node_name\",\n  \"--log-level\", \"info\"\n});\n\nauto cm = std::make_shared&lt;controller_manager::ControllerManager&gt;(\n  executor, \"_target_node_name\", \"some_optional_namespace\", options);\n</code></pre></li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#ros2_control_node-controllermanager","title":"\u4f7f\u7528 <code>ros2_control_node</code> \u542f\u52a8 ControllerManager","text":"<pre><code>control_node = Node(\n    package=\"controller_manager\",\n    executable=\"ros2_control_node\",\n    parameters=[robot_controllers],\n    output=\"both\",\n)\n</code></pre>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#ros2_control_node","title":"<code>ros2_control_node</code> \u7279\u6709\u53c2\u6570","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e <code>lock_memory</code> bool \u975e\u5b9e\u65f6\u5185\u6838: <code>false</code>\u5b9e\u65f6\u5185\u6838: <code>true</code> \u9501\u5b9a\u5185\u5b58\u9632\u6b62\u6362\u9875 <code>cpu_affinity</code> int \u6216 int[] - \u7ed1\u5b9a\u5230\u6307\u5b9a CPU \u6838\u5fc3 <code>thread_priority</code> int 50 \u7ebf\u7a0b\u4f18\u5148\u7ea7\uff080\u201399\uff09 <code>use_sim_time</code> bool <code>false</code> \u542f\u7528\u4eff\u771f\u65f6\u95f4 <code>overruns.manage</code> bool <code>true</code> \u542f\u7528\u8d85\u9650\u68c0\u6d4b\uff08\u4eff\u771f\u65f6\u95f4\u4e0b\u81ea\u52a8\u7981\u7528\uff09"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_10","title":"\u6838\u5fc3\u6982\u5ff5","text":""},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_11","title":"\u91cd\u542f\u6240\u6709\u63a7\u5236\u5668","text":"<p>\u4f7f\u7528 <code>switch_controllers</code> \u670d\u52a1\u6216 CLI\uff0c\u5c06\u6240\u6709\u63a7\u5236\u5668\u52a0\u5165\u505c\u6b62\u548c\u542f\u52a8\u5217\u8868\uff08\u6ce8\u610f\uff1a\u5e7f\u64ad\u5668\u7b49\u65e0\u9700\u91cd\u542f\uff09\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_12","title":"\u91cd\u542f\u786c\u4ef6","text":"<p>\u786c\u4ef6\u91cd\u542f\u540e\uff0c\u9700\u91cd\u65b0\u6267\u884c\u5176\u751f\u547d\u5468\u671f\uff08\u914d\u7f6e \u2192 \u6fc0\u6d3b\uff09\u4ee5\u91cd\u65b0\u5bfc\u51fa\u63a5\u53e3\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_13","title":"\u786c\u4ef6\u4e0e\u63a7\u5236\u5668\u9519\u8bef\u5904\u7406","text":"<ul> <li>\u786c\u4ef6 <code>read</code>/<code>write</code> \u8fd4\u56de <code>ERROR</code> \u2192 \u505c\u7528\u6240\u6709\u4f7f\u7528\u5176\u63a5\u53e3\u7684\u63a7\u5236\u5668  </li> <li>\u63a7\u5236\u5668 <code>update</code> \u8fd4\u56de <code>ERROR</code> \u2192 \u505c\u7528\u8be5\u63a7\u5236\u5668\uff08\u6216\u6574\u4e2a\u94fe\uff09\uff0c\u5e76\u5c1d\u8bd5\u6fc0\u6d3b\u5907\u7528\u63a7\u5236\u5668</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_14","title":"\u5f71\u54cd\u786e\u5b9a\u6027\u7684\u56e0\u7d20","text":"<p>\u5373\u4f7f\u914d\u7f6e\u4e86\u5b9e\u65f6\u73af\u5883\uff0c\u4ee5\u4e0b\u64cd\u4f5c\u4ecd\u53ef\u80fd\u5f15\u5165\u6296\u52a8\uff1a</p> <ul> <li>\u63a7\u5236\u5668\u5728\u5b9e\u65f6\u5faa\u73af\u4e2d\u6fc0\u6d3b\u5931\u8d25 \u2192 \u8c03\u7528 <code>prepare_command_mode_switch</code> \u7b49\u65b9\u6cd5</li> <li>\u63a7\u5236\u5668\u66f4\u65b0\u5931\u8d25 \u2192 \u89e6\u53d1\u63a5\u53e3\u5207\u6362\u903b\u8f91</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#asynchronous-updates","title":"\u5f02\u6b65\u66f4\u65b0\u652f\u6301\uff08Asynchronous Updates\uff09","text":"<p>\u9002\u7528\u4e8e\u66f4\u65b0\u8017\u65f6\u8f83\u957f\u7684\u63a7\u5236\u5668\uff08\u4f8b\u5982 15ms &gt; 10ms @100Hz\uff09\u3002</p> <p>\u5728\u63a7\u5236\u5668\u53c2\u6570\u4e2d\u8bbe\u7f6e\uff1a</p> <pre><code>example_async_controller:\n  ros__parameters:\n    type: example_controller/ExampleAsyncController\n    is_async: true\n    update_rate: 20  # Hz\n    async_parameters:\n      cpu_affinity: [2, 4]\n      thread_priority: 50\n      wait_until_initial_trigger: false\n</code></pre> <ul> <li>Controller Manager \u6bcf 10ms \u89e6\u53d1\u4e00\u6b21\uff08100Hz\uff09</li> <li>\u5f02\u6b65\u63a7\u5236\u5668\u6bcf 50ms \u6267\u884c\u4e00\u6b21\uff0820Hz\uff09</li> <li>\u82e5\u66f4\u65b0\u672a\u5b8c\u6210\uff0c\u5c06\u590d\u7528\u4e0a\u6b21\u7ed3\u679c\uff0c\u5e76\u6253\u5370\u8b66\u544a\uff1a</li> </ul> <pre><code>[WARN] The controller missed xx update cycles out of yy total triggers.\n</code></pre> <ul> <li>\u82e5\u5f02\u6b65\u7ebf\u7a0b\u629b\u51fa\u5f02\u5e38\uff0cController Manager \u4f1a\u505c\u7528\u8be5\u63a7\u5236\u5668\u5e76\u62a5\u9519\u3002</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_15","title":"\u76d1\u63a7\u4e0e\u8c03\u4f18","text":"<ul> <li>\u4f7f\u7528 <code>ControllerUpdateStats</code> \u7ed3\u6784\u76d1\u63a7\u66f4\u65b0\u7387\u548c\u4e22\u5e27\u6570</li> <li>\u6570\u636e\u53d1\u5e03\u81f3 <code>/diagnostics</code> \u8bdd\u9898\uff0c\u53ef\u7528\u4e8e\u4f18\u5316\u63a7\u5236\u5668\u9891\u7387</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#controller-manager_3","title":"Controller Manager \u4f7f\u7528\u7684\u65f6\u949f","text":"<ul> <li>\u975e\u4eff\u771f\u73af\u5883\uff1a</li> <li><code>RCL_STEADY_TIME</code>\uff1a\u7528\u4e8e\u5b9e\u65f6\u5faa\u73af\uff08\u8bfb/\u66f4\u65b0/\u5199\uff09\uff0c\u5355\u8c03\u9012\u589e</li> <li><code>RCL_ROS_TIME</code>\uff1a\u7528\u4e8e\u975e\u5b9e\u65f6\u64cd\u4f5c\uff08\u5982\u670d\u52a1\u8c03\u7528\uff09</li> <li>\u4eff\u771f\u73af\u5883\uff1a\u5168\u90e8\u4f7f\u7528 <code>RCL_ROS_TIME</code></li> </ul> <p>\u786c\u4ef6\u63a5\u53e3\u7684 <code>read</code>/<code>write</code> \u63a5\u6536 <code>RCL_STEADY_TIME</code>\uff08\u907f\u514d\u7cfb\u7edf\u65f6\u95f4\u8df3\u53d8\u5f71\u54cd\uff09 \u63a7\u5236\u5668 <code>update</code> \u63a5\u6536 <code>RCL_ROS_TIME</code>\uff08\u4fbf\u4e8e\u4e0e\u5176\u5b83\u8282\u70b9\u65f6\u95f4\u540c\u6b65\uff09</p> <p>Controller Manager \u4f1a\u68c0\u6d4b\u56e0\u7cfb\u7edf\u65f6\u95f4\u53d8\u5316\u6216\u6267\u884c\u8d85\u65f6\u5bfc\u81f4\u7684\u66f4\u65b0\u4e22\u5931\uff0c\u5e76\u6253\u5370\u8b66\u544a\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E7%AE%A1%E7%90%86%E5%99%A8/#_16","title":"\u989c\u8272\u8f93\u51fa\u5904\u7406","text":"<p>\u8f85\u52a9\u811a\u672c\uff08<code>spawner</code>\u3001<code>hardware_spawner</code>\uff09\u652f\u6301\u73af\u5883\u611f\u77e5\u7684\u989c\u8272\u8f93\u51fa\uff1a</p> <ul> <li><code>RCUTILS_COLORIZED_OUTPUT=0</code>\uff1a\u7981\u7528\u989c\u8272</li> <li><code>RCUTILS_COLORIZED_OUTPUT=1</code>\uff1a\u5f3a\u5236\u542f\u7528\u989c\u8272</li> <li>\u672a\u8bbe\u7f6e\uff1a\u81ea\u52a8\u68c0\u6d4b TTY\uff0c\u4ec5\u5728\u4ea4\u4e92\u5f0f\u7ec8\u7aef\u542f\u7528\u989c\u8272</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/","title":"\u7ea7\u8054\u63a7\u5236","text":""},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#controller-chaining-cascade-control","title":"\u63a7\u5236\u5668\u94fe\u5f0f\u8fde\u63a5 / \u4e32\u7ea7\u63a7\u5236\uff08Controller Chaining / Cascade Control\uff09","text":"<p>\u672c\u6587\u6863\u63d0\u51fa\u4e86\u5bf9\u300a\u63a7\u5236\u5668\u94fe\u5f0f\u8fde\u63a5\u8bbe\u8ba1\u6587\u6863\u300b\u4e2d\u63cf\u8ff0\u7684\u4e32\u884c\u63a7\u5236\u5668\u94fe\u5f0f\u8fde\u63a5\uff08serial controller chaining\uff09\u7684\u4e00\u79cd\u6700\u5c0f\u53ef\u884c\u5b9e\u73b0\uff08MVI\uff09\u3002\u4e32\u7ea7\u63a7\u5236\uff08Cascade Control\uff09\u662f\u63a7\u5236\u5668\u94fe\u5f0f\u8fde\u63a5\u7684\u4e00\u79cd\u7279\u5b9a\u5f62\u5f0f\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#_1","title":"\u6587\u6863\u8303\u56f4\u4e0e\u80cc\u666f\u77e5\u8bc6","text":"<p>\u672c\u65b9\u6848\u4ec5\u5173\u6ce8\u63a7\u5236\u5668\u7684\u4e32\u884c\u94fe\u5f0f\u8fde\u63a5\uff0c\u5e76\u5c3d\u53ef\u80fd\u590d\u7528\u73b0\u6709\u673a\u5236\u3002\u91cd\u70b9\u5728\u4e8e\u63a7\u5236\u5668\u7684\u8f93\u5165\u4e0e\u8f93\u51fa\uff0c\u4ee5\u53ca Controller Manager \u5bf9\u8fd9\u4e9b\u63a5\u53e3\u7684\u7ba1\u7406\u3002</p> <p>\u672c\u6587\u5f15\u5165\u201c\u63a7\u5236\u5668\u7ec4\u201d\uff08controller groups\uff09\u8fd9\u4e00\u6982\u5ff5\u4ec5\u7528\u4e8e\u8868\u8ff0\u6e05\u6670\uff0c\u5176\u552f\u4e00\u542b\u4e49\u662f\uff1a\u7ec4\u5185\u7684\u63a7\u5236\u5668\u53ef\u4ee5\u4ee5\u4efb\u610f\u987a\u5e8f\u66f4\u65b0\u3002  </p> <p>\u8fd9\u5e76\u4e0d\u610f\u5473\u7740\u672a\u6765\u4e0d\u4f1a\u5b9e\u73b0\u8bbe\u8ba1\u6587\u6863\u4e2d\u63cf\u8ff0\u7684\u5b8c\u6574\u201c\u63a7\u5236\u5668\u7ec4\u201d\u673a\u5236\u3002\u4f5c\u8005\u8ba4\u4e3a\uff0c\u5728\u5f53\u524d\u9636\u6bb5\u5f15\u5165\u5b8c\u6574\u63a7\u5236\u5668\u7ec4\u4f1a\u5e26\u6765\u4e0d\u5fc5\u8981\u7684\u590d\u6742\u6027\uff0c\u5c3d\u7ba1\u4ece\u957f\u8fdc\u6765\u770b\uff0c\u5b83\u4eec\u53ef\u80fd\u63d0\u4f9b\u66f4\u6e05\u6670\u7684\u7ed3\u6784\u548c\u63a5\u53e3\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#_2","title":"\u52a8\u673a\u3001\u76ee\u7684\u4e0e\u7528\u9014","text":"<p>\u4e3a\u9610\u660e\u672c\u6587\u610f\u56fe\uff0c\u6211\u4eec\u805a\u7126\u4e8e\u300acontrollers_chaining\u300b\u8bbe\u8ba1\u6587\u6863\u4e2d\u7684 \u793a\u4f8b 2\uff08Example 2\uff09\uff1a</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#2","title":"\u793a\u4f8b 2","text":"<p>\u5728\u6b64\u4f8b\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u5c06\u4ee5\u4e0b\u63a7\u5236\u5668\u8fdb\u884c\u94fe\u5f0f\u8fde\u63a5\uff1a - <code>position_tracking</code> \u63a7\u5236\u5668 - <code>diff_drive_controller</code>\uff08\u5dee\u901f\u9a71\u52a8\u63a7\u5236\u5668\uff09 - \u4e24\u4e2a PID \u63a7\u5236\u5668 - <code>robot_localization</code>\uff08\u673a\u5668\u4eba\u5b9a\u4f4d\uff09\u63a7\u5236\u5668</p> <p>\u8bbe\u60f3\u4e00\u4e2a\u66f4\u7075\u6d3b\u7684\u4f7f\u7528\u573a\u666f\uff1a\u6211\u4eec\u4e0d\u4ec5\u5e0c\u671b\u5c06\u8fd9\u4e9b\u63a7\u5236\u5668\u4f5c\u4e3a\u4e00\u7ec4\u8fd0\u884c\uff0c\u8fd8\u5e0c\u671b\u52a8\u6001\u5730\u6dfb\u52a0\u524d\u7f6e\u6b65\u9aa4\u3002\u5177\u4f53\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u673a\u5668\u4eba\u542f\u52a8\u65f6\uff1a    \u4ec5\u6fc0\u6d3b\u4e24\u4e2a PID \u63a7\u5236\u5668\uff0c\u4ee5\u9a8c\u8bc1\u7535\u673a\u901f\u5ea6\u63a7\u5236\u662f\u5426\u6b63\u5e38\u3002\u6b64\u65f6\uff0cPID \u63a7\u5236\u5668\u7684\u8f93\u5165\u53ef\u901a\u8fc7\u5916\u90e8\u8bdd\u9898\uff08\u5982 <code>/pid_reference</code>\uff09\u63a7\u5236\u3002\u540c\u65f6\uff0c\u8fd9\u4e9b\u63a7\u5236\u5668\u4e5f\u63d0\u4f9b\u865a\u62df\u63a5\u53e3\uff0c\u53ef\u7528\u4e8e\u540e\u7eed\u94fe\u5f0f\u8fde\u63a5\u3002</p> </li> <li> <p>\u6fc0\u6d3b <code>diff_drive_controller</code>\uff1a    \u5b83\u8fde\u63a5\u5230 PID \u63a7\u5236\u5668\u7684\u865a\u62df\u8f93\u5165\u63a5\u53e3\u3002\u6b64\u65f6\uff0cPID \u63a7\u5236\u5668\u68c0\u6d4b\u5230\u81ea\u5df1\u5904\u4e8e\u201c\u94fe\u5f0f\u6a21\u5f0f\u201d\uff08chained mode\uff09\uff0c\u81ea\u52a8\u7981\u7528\u5176\u5916\u90e8\u8bdd\u9898\u8ba2\u9605\u8005\u3002\u968f\u540e\uff0c\u9a8c\u8bc1\u5dee\u901f\u673a\u5668\u4eba\u7684\u8fd0\u52a8\u5b66\u662f\u5426\u6b63\u5e38\u3002</p> </li> <li> <p><code>diff_drive_controller</code> \u6fc0\u6d3b\u540e\uff1a    \u5b83\u66b4\u9732 <code>odom</code> \u72b6\u6001\u63a5\u53e3\uff08state interfaces\uff09\uff0c\u4f9b\u4ee5\u4e0b\u63a7\u5236\u5668\u4f7f\u7528\uff1a</p> </li> <li><code>odom_publisher</code>\uff1a\u8ba2\u9605 <code>odom</code> \u72b6\u6001\u63a5\u53e3\u5e76\u53d1\u5e03\u91cc\u7a0b\u8ba1\u6d88\u606f</li> <li> <p><code>sensor_fusion</code>\uff08\u4f20\u611f\u5668\u878d\u5408\uff09\uff1a\u540c\u65f6\u4f7f\u7528 <code>diff_drive_controller</code> \u7684 <code>odom</code> \u63a5\u53e3\u548c IMU \u7684\u72b6\u6001\u63a5\u53e3</p> </li> <li> <p><code>sensor_fusion</code> \u6fc0\u6d3b\u540e\uff1a    \u5b83\u66b4\u9732\u81ea\u5df1\u7684 <code>odom</code> \u72b6\u6001\u63a5\u53e3\uff0c\u4f9b <code>robot_localization</code> \u63a7\u5236\u5668\u4f7f\u7528\u3002</p> </li> <li> <p><code>robot_localization</code> \u6fc0\u6d3b\u540e\uff1a    \u5b83\u66b4\u9732 <code>actual_pose</code> \u72b6\u6001\u63a5\u53e3\uff0c\u4f9b <code>position_tracking</code> \u63a7\u5236\u5668\u4f7f\u7528\u3002</p> </li> <li> <p>\u6700\u540e\u6fc0\u6d3b <code>position_tracking</code>\uff1a  </p> </li> <li>\u5b83\u8fde\u63a5\u5230 <code>diff_drive_controller</code> \u7684\u547d\u4ee4\u63a5\u53e3\uff08\u4f7f\u5176\u7981\u7528\u5916\u90e8\u8bdd\u9898\uff09</li> <li>\u540c\u65f6\u4f7f\u7528 <code>robot_localization</code> \u63d0\u4f9b\u7684 <code>actual_pose</code> \u72b6\u6001\u63a5\u53e3</li> </ol> <p>\u5173\u952e\u89c4\u5219\uff1a\u82e5\u94fe\u4e2d\u4efb\u4e00\u63a7\u5236\u5668\u88ab\u505c\u7528\uff0c\u5219\u5176\u6240\u6709\u524d\u7f6e\u63a7\u5236\u5668\u4e5f\u5fc5\u987b\u88ab\u505c\u7528\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#_3","title":"\u6ce8\u610f\u4e8b\u9879","text":"<ul> <li>\u53c2\u8003\u63a5\u53e3\uff08reference interfaces\uff09\u53ea\u6709\u5728\u88ab\u5176\u4ed6\u63a7\u5236\u5668\u4f7f\u7528\u65f6\uff0c\u624d\u8fdb\u5165\u201c\u94fe\u5f0f\u6a21\u5f0f\u201d\uff1b\u5426\u5219\uff0c\u63a7\u5236\u5668\u4ece\u8bdd\u9898\u8ba2\u9605\u8005\u83b7\u53d6\u53c2\u8003\u503c\u3002</li> <li>\u72b6\u6001\u63a5\u53e3\uff08state interfaces\uff09\u88ab\u5176\u4ed6\u63a7\u5236\u5668\u4f7f\u7528\u65f6\uff0c\u4e0d\u4f1a\u89e6\u53d1\u94fe\u5f0f\u6a21\u5f0f\u3002</li> <li>\u672f\u8bed\u8bf4\u660e\uff1a</li> <li>\u524d\u7f6e\u63a7\u5236\u5668\uff08preceding controller\uff09\uff1a\u5176\u8f93\u51fa\u8fde\u63a5\u5230\u53e6\u4e00\u63a7\u5236\u5668\u7684\u8f93\u5165\uff08\u53c2\u8003\u63a5\u53e3\uff09</li> <li>\u540e\u7f6e\u63a7\u5236\u5668\uff08following controller\uff09\uff1a\u5176\u8f93\u5165\u7531\u53e6\u4e00\u63a7\u5236\u5668\u63d0\u4f9b   <p>\u4f8b\u5982\uff1a<code>diff_drive_controller</code> \u662f\u524d\u7f6e\u63a7\u5236\u5668\uff0cPID \u63a7\u5236\u5668\u662f\u540e\u7f6e\u63a7\u5236\u5668\u3002</p> </li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#_4","title":"\u5b9e\u73b0\u65b9\u6848","text":""},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#chainablecontroller","title":"\u63a7\u5236\u5668\u57fa\u7c7b\uff1a<code>ChainableController</code>","text":"<p><code>ChainableController</code> \u7ee7\u627f\u81ea <code>ControllerInterface</code>\uff0c\u5e76\u65b0\u589e\u4e24\u4e2a\u7eaf\u865a\u65b9\u6cd5\uff1a</p> <pre><code>virtual std::vector&lt;hardware_interface::CommandInterface&gt; export_reference_interfaces() = 0;\nvirtual std::vector&lt;hardware_interface::StateInterface&gt; export_state_interfaces() = 0;\n</code></pre> <ul> <li><code>export_reference_interfaces()</code>\uff1a\u5bfc\u51fa\u4f9b\u5176\u4ed6\u63a7\u5236\u5668\u4f5c\u4e3a\u547d\u4ee4\u8f93\u5165\u7684\u865a\u62df\u547d\u4ee4\u63a5\u53e3\uff08\u5373\u672c\u63a7\u5236\u5668\u7684\u201c\u53c2\u8003\u8f93\u5165\u201d\u6765\u6e90\uff09\u3002</li> <li><code>export_state_interfaces()</code>\uff1a\u5bfc\u51fa\u4f9b\u5176\u4ed6\u63a7\u5236\u5668\u8bfb\u53d6\u7684\u865a\u62df\u72b6\u6001\u63a5\u53e3\u3002</li> </ul> <p>\u7b80\u5316\u5047\u8bbe\uff1a\u5f53\u524d\u5047\u8bbe\u63a7\u5236\u5668\u7684\u6240\u6709\u53c2\u8003\u63a5\u53e3\u8981\u4e48\u5168\u88ab\u4f7f\u7528\uff0c\u8981\u4e48\u5168\u4e0d\u88ab\u4f7f\u7528\u3002\u72b6\u6001\u63a5\u53e3\u53ef\u88ab\u591a\u4e2a\u63a7\u5236\u5668\u540c\u65f6\u3001\u4efb\u610f\u7ec4\u5408\u4f7f\u7528\u3002\u82e5\u9700\u6392\u4ed6\u6027\uff0c\u5e94\u62c6\u5206\u4e3a\u591a\u4e2a\u63a7\u5236\u5668\u3002</p> <p>\u6b64\u5916\uff0c<code>ChainableController</code> \u63d0\u4f9b\uff1a</p> <pre><code>void set_chained_mode(bool activate);  // \u8bbe\u7f6e\u94fe\u5f0f\u6a21\u5f0f\u6807\u5fd7\nvirtual void on_set_chained_mode(bool activate) = 0;  // \u5b50\u7c7b\u5b9e\u73b0\u5177\u4f53\u884c\u4e3a\n</code></pre>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#_5","title":"\u793a\u4f8b","text":"<ul> <li>PID \u63a7\u5236\u5668\uff1a</li> <li>\u5bfc\u51fa\u865a\u62df\u63a5\u53e3\uff1a<code>pid_reference</code></li> <li>\u94fe\u5f0f\u6a21\u5f0f\u4e0b\uff1a\u505c\u7528 <code>/pid_reference</code> \u8bdd\u9898\u8ba2\u9605\u8005</li> <li><code>diff_drive_controller</code>\uff1a</li> <li>\u5bfc\u51fa\u865a\u62df\u63a5\u53e3\uff1a<code>v_x</code>, <code>v_y</code>, <code>w_z</code></li> <li>\u94fe\u5f0f\u6a21\u5f0f\u4e0b\uff1a\u505c\u7528 <code>/cmd_vel</code> \u548c <code>/cmd_vel_unstamped</code> \u8ba2\u9605\u8005\uff0c\u4f46\u53d1\u5e03\u8005\u7167\u5e38\u8fd0\u884c</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#nomenclature","title":"\u672f\u8bed\u5b9a\u4e49\uff08Nomenclature\uff09","text":"<p>\u5728 <code>ros2_control</code> \u4e2d\uff0c\u6709\u4e24\u79cd\u6838\u5fc3\u63a5\u53e3\uff1a</p> \u63a5\u53e3\u7c7b\u578b \u8bbf\u95ee\u6743\u9650 \u5178\u578b\u7528\u9014 <code>CommandInterface</code> \u8bfb\u5199 \u5411\u786c\u4ef6\uff08\u6216\u94fe\u5f0f\u63a7\u5236\u5668\uff09\u53d1\u9001\u547d\u4ee4 <code>StateInterface</code> \u53ea\u8bfb \u4ece\u786c\u4ef6\uff08\u6216\u94fe\u5f0f\u63a7\u5236\u5668\uff09\u8bfb\u53d6\u72b6\u6001"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#_6","title":"\u63a7\u5236\u5668\u63a5\u53e3\u914d\u7f6e\u65b9\u6cd5","text":"\u65b9\u6cd5 \u4f5c\u7528 <code>command_interface_configuration()</code>\uff08<code>ControllerInterface</code>\uff09 \u58f0\u660e\u672c\u63a7\u5236\u5668\u6240\u9700\u7684\u547d\u4ee4\u63a5\u53e3\uff08\u6765\u81ea\u786c\u4ef6\u6216\u5176\u4ed6\u63a7\u5236\u5668\u7684\u53c2\u8003\u63a5\u53e3\uff09 <code>state_interface_configuration()</code>\uff08<code>ControllerInterface</code>\uff09 \u58f0\u660e\u672c\u63a7\u5236\u5668\u6240\u9700\u7684\u72b6\u6001\u63a5\u53e3\uff08\u6765\u81ea\u786c\u4ef6\u6216\u5176\u4ed6\u63a7\u5236\u5668\u7684\u72b6\u6001\u63a5\u53e3\uff09 <code>export_reference_interfaces()</code>\uff08<code>ChainableController</code>\uff09 \u58f0\u660e\u672c\u63a7\u5236\u5668\u5bf9\u5916\u63d0\u4f9b\u7684\u53c2\u8003\u63a5\u53e3\uff08\u4f9b\u5176\u4ed6\u63a7\u5236\u5668\u4f5c\u4e3a\u547d\u4ee4\u8f93\u5165\uff09 <code>export_state_interfaces()</code>\uff08<code>ChainableController</code>\uff09 \u58f0\u660e\u672c\u63a7\u5236\u5668\u5bf9\u5916\u63d0\u4f9b\u7684\u72b6\u6001\u63a5\u53e3\uff08\u4f9b\u5176\u4ed6\u63a7\u5236\u5668\u8bfb\u53d6\uff09 <p>Controller Manager \u4f7f\u7528\u8fd9\u4e9b\u4fe1\u606f\u5411 <code>ResourceManager</code> \u7533\u8bf7\uff08claim\uff09\u6240\u9700\u63a5\u53e3\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#inner-resource-management","title":"\u5185\u90e8\u8d44\u6e90\u7ba1\u7406\uff08Inner Resource Management\uff09","text":"<ul> <li>\u5f53\u94fe\u5f0f\u63a7\u5236\u5668\u88ab\u914d\u7f6e\uff08configured\uff09\u540e\uff0cController Manager \u8c03\u7528\u5176 <code>export_reference_interfaces()</code> \u548c <code>export_state_interfaces()</code> \u65b9\u6cd5\u3002</li> <li>Controller Manager \u63a5\u7ba1\u8fd9\u4e9b\u5bfc\u51fa\u63a5\u53e3\u7684\u6240\u6709\u6743\uff08\u7c7b\u4f3c\u4e8e <code>ResourceManager</code> \u7ba1\u7406\u786c\u4ef6\u63a5\u53e3\uff09\u3002</li> <li>\u63a5\u53e3\u7684\u201c\u5df2\u7533\u8bf7\u201d\uff08claimed\uff09\u72b6\u6001\u7531 Controller Manager \u7ef4\u62a4\uff08\u4f7f\u7528\u4e0e <code>ResourceManager</code> \u76f8\u540c\u7684\u6570\u636e\u7ed3\u6784\uff09\u3002</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#_7","title":"\u94fe\u5f0f\u63a7\u5236\u5668\u7684\u6fc0\u6d3b\u4e0e\u505c\u7528","text":"<p>\u94fe\u5f0f\u63a7\u5236\u5668\u7684\u542f\u505c\u5fc5\u987b\u9075\u5faa\u4e25\u683c\u987a\u5e8f\uff1a</p> <ul> <li>\u6fc0\u6d3b\u987a\u5e8f\uff1a\u5fc5\u987b\u5148\u6fc0\u6d3b\u6240\u6709\u540e\u7f6e\u63a7\u5236\u5668\uff0c\u624d\u80fd\u6fc0\u6d3b\u524d\u7f6e\u63a7\u5236\u5668\u3002</li> <li>\u505c\u7528\u987a\u5e8f\uff1a\u5fc5\u987b\u5148\u505c\u7528\u6240\u6709\u524d\u7f6e\u63a7\u5236\u5668\uff0c\u624d\u80fd\u505c\u7528\u540e\u7f6e\u63a7\u5236\u5668\u3002</li> </ul> <p>\u53ef\u7c7b\u6bd4\u4e3a\u201c\u94fe\u6761\u201d\uff1a\u4e0d\u80fd\u4ece\u4e2d\u95f4\u65ad\u5f00\u6216\u63d2\u5165\u94fe\u8282\u3002</p>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#_8","title":"\u5b9e\u7528\u65b9\u6cd5","text":"<ul> <li>\u4f7f\u7528 <code>switch_controllers</code> \u670d\u52a1\u65f6\uff0c\u5728 <code>activate_controllers</code> / <code>deactivate_controllers</code> \u5217\u8868\u4e2d\u4e00\u6b21\u6027\u4f20\u5165\u6574\u4e2a\u94fe\u3002</li> <li>\u4f7f\u7528 <code>spawner</code> \u811a\u672c\u65f6\uff0c\u6dfb\u52a0 <code>--activate-as-group</code> \u53c2\u6570\uff0c\u53ef\u4e00\u6b21\u6027\u6fc0\u6d3b\u6574\u6761\u94fe\u3002</li> </ul>"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#_9","title":"\u8c03\u8bd5\u8f93\u51fa\u72b6\u6001\u8bf4\u660e","text":"\u63a7\u5236\u5668\u72b6\u6001 \u53c2\u8003\u63a5\u53e3\u72b6\u6001 \u8bf4\u660e \u672a\u6fc0\u6d3b\uff08inactive\uff09 \u4e0d\u53ef\u7528\u3001\u672a\u7533\u8bf7 \u63a5\u53e3\u672a\u5bfc\u51fa \u6fc0\u6d3b\u4f46\u672a\u94fe\u5f0f\u8fde\u63a5 \u53ef\u7528\u3001\u672a\u7533\u8bf7 \u4ece\u8bdd\u9898\u8ba2\u9605\u8005\u83b7\u53d6\u53c2\u8003\u503c \u6fc0\u6d3b\u4e14\u94fe\u5f0f\u8fde\u63a5 \u53ef\u7528\u3001\u5df2\u7533\u8bf7 \u4ece\u94fe\u5f0f\u524d\u7f6e\u63a7\u5236\u5668\u83b7\u53d6\u53c2\u8003\u503c"},{"location":"ros2_control/Concepts/%E6%8E%A7%E5%88%B6%E5%99%A8%E9%93%BE%E6%8E%A5%28%E7%BA%A7%E8%81%94%E6%8E%A7%E5%88%B6%29/#closing-remarks","title":"\u7ed3\u8bed\uff08Closing Remarks\uff09","text":"<p>\u6216\u8bb8\u65e0\u9700\u5f15\u5165\u65b0\u7684 <code>ChainableController</code> \u7c7b\u578b\u3002 \u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728 <code>ControllerInterface</code> \u4e2d\u6dfb\u52a0 <code>export_reference_interfaces()</code> \u548c <code>export_state_interfaces()</code> \u65b9\u6cd5\uff0c\u5e76\u9ed8\u8ba4\u8fd4\u56de <code>interface_configuration_type::NONE</code>\u3002</p> <p>\u8fd9\u79cd\u65b9\u5f0f\u53ef\u907f\u514d\u65b0\u589e\u57fa\u7c7b\uff0c\u4fdd\u6301\u63a5\u53e3\u7b80\u6d01\uff0c\u540c\u65f6\u901a\u8fc7\u9ed8\u8ba4\u5b9e\u73b0\u517c\u5bb9\u975e\u94fe\u5f0f\u63a7\u5236\u5668\u3002</p>"},{"location":"ros2_control/Concepts/%E6%A8%A1%E6%8B%9F%E7%BB%84%E4%BB%B6/","title":"\u6a21\u62df\u7ec4\u4ef6","text":""},{"location":"ros2_control/Concepts/%E6%A8%A1%E6%8B%9F%E7%BB%84%E4%BB%B6/#mock-components","title":"Mock Components\uff08\u6a21\u62df\u7ec4\u4ef6\uff09","text":"<p>Mock Components \u662f\u786c\u4ef6\u7ec4\u4ef6\uff08System\u3001Sensor\u3001Actuator\uff09\u7684\u7b80\u6613\u201c\u4eff\u771f\u201d\u5b9e\u73b0\u3002\u5b83\u4eec\u901a\u8fc7\u5c06\u547d\u4ee4\u76f4\u63a5\u955c\u50cf\u5230\u72b6\u6001\uff08mirror commands to states\uff09\uff0c\u63d0\u4f9b\u7406\u60f3\u5316\u7684\u884c\u4e3a\u3002</p> <p>\u5176\u4e3b\u8981\u7528\u9014\u662f\u5728\u65e0\u771f\u5b9e\u786c\u4ef6\u7684\u60c5\u51b5\u4e0b\uff0c\u6d4b\u8bd5 <code>ros2_control</code> \u6846\u67b6\u7684\u5b8c\u6574\u6570\u636e\u6d41\uff08\u201cpiping\u201d\uff09\uff0c\u5305\u62ec\uff1a - \u63a7\u5236\u5668\uff08Controllers\uff09 - \u72b6\u6001\u5e7f\u64ad\u5668\uff08Broadcasters\uff09 - \u542f\u52a8\u6587\u4ef6\uff08Launch files\uff09 - \u4e0e MoveIt \u7b49\u7cfb\u7edf\u7684\u96c6\u6210</p> <p>\u2705 \u6838\u5fc3\u4f18\u52bf\uff1a\u5927\u5e45\u51cf\u5c11\u5728\u7269\u7406\u786c\u4ef6\u4e0a\u7684\u8c03\u8bd5\u65f6\u95f4\uff0c\u663e\u8457\u63d0\u5347\u5f00\u53d1\u6548\u7387\u3002</p>"},{"location":"ros2_control/Concepts/%E6%A8%A1%E6%8B%9F%E7%BB%84%E4%BB%B6/#generic-system","title":"\u901a\u7528\u7cfb\u7edf\uff08Generic System\uff09","text":"<p><code>GenericSystem</code> \u5b9e\u73b0\u4e86 <code>hardware_interface::SystemInterface</code>\uff0c\u652f\u6301\u547d\u4ee4\u63a5\u53e3\uff08command interfaces\uff09\u548c\u72b6\u6001\u63a5\u53e3\uff08state interfaces\uff09\u3002</p>"},{"location":"ros2_control/Concepts/%E6%A8%A1%E6%8B%9F%E7%BB%84%E4%BB%B6/#_1","title":"\u4e3b\u8981\u7279\u6027","text":"<ul> <li>\u2705 \u652f\u6301 Mimic \u5173\u8282\uff08\u4ece URDF \u81ea\u52a8\u89e3\u6790\uff09</li> <li>\u2705 \u652f\u6301\u5e26\u504f\u79fb\u6216\u4e0d\u5e26\u504f\u79fb\u5730\u5c06\u547d\u4ee4\u955c\u50cf\u5230\u72b6\u6001</li> <li>\u2705 \u63d0\u4f9b\u865a\u62df\u547d\u4ee4\u63a5\u53e3\uff0c\u7528\u4e8e\u4ece\u5916\u90e8\u8282\u70b9\u8bbe\u7f6e\u4f20\u611f\u5668\u6570\u636e\uff08\u9700\u914d\u5408\u524d\u9988\u63a7\u5236\u5668\uff09</li> <li>\u2705 \u63d0\u4f9b\u865a\u62df GPIO \u63a5\u53e3\uff0c\u7528\u4e8e\u4ece\u5916\u90e8\u8282\u70b9\u8bbe\u7f6e\u6570\u5b57/\u6a21\u62df\u4fe1\u53f7\uff08\u9700\u914d\u5408\u524d\u9988\u63a7\u5236\u5668\uff09</li> </ul>"},{"location":"ros2_control/Concepts/%E6%A8%A1%E6%8B%9F%E7%BB%84%E4%BB%B6/#_2","title":"\u53c2\u6570\u914d\u7f6e\u793a\u4f8b","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5305\u542b\u6240\u6709\u53ef\u9009\u53c2\u6570\uff08\u542b\u9ed8\u8ba4\u503c\uff09\u7684\u5b8c\u6574 <code>&lt;ros2_control&gt;</code> \u914d\u7f6e\u793a\u4f8b\uff1a</p> <pre><code>&lt;ros2_control name=\"MockHardwareSystem\" type=\"system\"&gt;\n  &lt;hardware&gt;\n    &lt;plugin&gt;mock_components/GenericSystem&lt;/plugin&gt;\n    &lt;param name=\"calculate_dynamics\"&gt;false&lt;/param&gt;\n    &lt;param name=\"custom_interface_with_following_offset\"&gt;&lt;/param&gt;\n    &lt;param name=\"disable_commands\"&gt;false&lt;/param&gt;\n    &lt;param name=\"mock_gpio_commands\"&gt;false&lt;/param&gt;\n    &lt;param name=\"mock_sensor_commands\"&gt;false&lt;/param&gt;\n    &lt;param name=\"position_state_following_offset\"&gt;0.0&lt;/param&gt;\n  &lt;/hardware&gt;\n\n  &lt;joint name=\"joint1\"&gt;\n    &lt;command_interface name=\"position\"/&gt;\n    &lt;command_interface name=\"velocity\"/&gt;\n    &lt;state_interface name=\"position\"&gt;\n      &lt;param name=\"initial_value\"&gt;3.45&lt;/param&gt;\n    &lt;/state_interface&gt;\n    &lt;state_interface name=\"velocity\"/&gt;\n    &lt;state_interface name=\"acceleration\"/&gt;\n  &lt;/joint&gt;\n\n  &lt;joint name=\"joint2\"&gt;\n    &lt;command_interface name=\"velocity\"/&gt;\n    &lt;command_interface name=\"acceleration\"/&gt;\n    &lt;state_interface name=\"position\"&gt;\n      &lt;param name=\"initial_value\"&gt;2.78&lt;/param&gt;\n    &lt;/state_interface&gt;\n    &lt;state_interface name=\"velocity\"/&gt;\n    &lt;state_interface name=\"acceleration\"/&gt;\n  &lt;/joint&gt;\n\n  &lt;gpio name=\"flange_vacuum\"&gt;\n    &lt;command_interface name=\"vacuum\"/&gt;\n    &lt;state_interface name=\"vacuum\" data_type=\"double\"/&gt;\n  &lt;/gpio&gt;\n&lt;/ros2_control&gt;\n</code></pre> <p>\ud83d\udccc \u53c2\u8003\u793a\u4f8b\uff1a - <code>example_2</code>\uff1a\u6f14\u793a <code>calculate_dynamics</code> \u7684\u4f7f\u7528 - <code>example_10</code>\uff1a\u6f14\u793a\u4e0e GPIO \u63a5\u53e3\u7684\u7ed3\u5408\u4f7f\u7528</p>"},{"location":"ros2_control/Concepts/%E6%A8%A1%E6%8B%9F%E7%BB%84%E4%BB%B6/#component-parameters","title":"\u7ec4\u4ef6\u7ea7\u53c2\u6570\uff08Component Parameters\uff09","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e <code>calculate_dynamics</code> boolean <code>false</code> \u82e5\u4e3a <code>true</code>\uff0c\u4f7f\u7528\u524d\u5411\u6b27\u62c9\u79ef\u5206\u6216\u6709\u9650\u5dee\u5206\u6cd5\u4ece\u547d\u4ee4\u8ba1\u7b97\u72b6\u6001\uff08\u5982\u4ece\u901f\u5ea6\u79ef\u5206\u5f97\u4f4d\u7f6e\uff09 <code>custom_interface_with_following_offset</code> string <code>\"\"</code> \u6307\u5b9a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u63a5\u53e3\u540d\u79f0\uff0c\u5c06\u5e26\u504f\u79fb\u7684\u547d\u4ee4\u6620\u5c04\u5230\u8be5\u63a5\u53e3\uff08\u89c1\u4e0b\u6587 <code>position_state_following_offset</code>\uff09 <code>disable_commands</code> boolean <code>false</code> \u7981\u7528\u547d\u4ee4\u5230\u72b6\u6001\u7684\u955c\u50cf\u3002\u53ef\u7528\u4e8e\u6a21\u62df\u786c\u4ef6\u8fde\u63a5\u5f02\u5e38\uff08\u65e0\u53cd\u9988\uff09\u6216\u6d4b\u8bd5\u5f00\u73af\u63a7\u5236\u573a\u666f <code>mock_gpio_commands</code> boolean <code>false</code> \u4e3a GPIO \u521b\u5efa\u865a\u62df\u547d\u4ee4\u63a5\u53e3\uff0c\u5141\u8bb8\u5916\u90e8\u8282\u70b9\uff08\u5982\u524d\u9988\u63a7\u5236\u5668\uff09\u8bbe\u7f6e\u5176\u503c <code>mock_sensor_commands</code> boolean <code>false</code> \u4e3a\u4f20\u611f\u5668\u521b\u5efa\u865a\u62df\u547d\u4ee4\u63a5\u53e3\uff0c\u5141\u8bb8\u5916\u90e8\u8282\u70b9\u6ce8\u5165\u4eff\u771f\u6570\u636e <code>position_state_following_offset</code> double <code>0.0</code> \u5728\u955c\u50cf\u547d\u4ee4\u5230\u72b6\u6001\u65f6\uff0c\u6dfb\u52a0\u7684\u504f\u79fb\u91cf\uff1a\u2022 \u82e5 <code>custom_interface_with_following_offset</code> \u4e3a\u7a7a \u2192 \u504f\u79fb\u5e94\u7528\u4e8e <code>position</code> \u72b6\u6001\u63a5\u53e3\u2022 \u82e5\u6307\u5b9a\u4e86\u81ea\u5b9a\u4e49\u63a5\u53e3 \u2192 <code>position + offset</code> \u7684\u503c\u5199\u5165\u8be5\u81ea\u5b9a\u4e49\u63a5\u53e3"},{"location":"ros2_control/Concepts/%E6%A8%A1%E6%8B%9F%E7%BB%84%E4%BB%B6/#per-interface-parameters","title":"\u63a5\u53e3\u7ea7\u53c2\u6570\uff08Per-Interface Parameters\uff09","text":""},{"location":"ros2_control/Concepts/%E6%A8%A1%E6%8B%9F%E7%BB%84%E4%BB%B6/#initial_valuedouble","title":"<code>initial_value</code>\uff08\u53ef\u9009\uff1bdouble\uff09","text":"<p>\u8bbe\u7f6e\u72b6\u6001\u63a5\u53e3\u5728\u542f\u52a8\u540e\u7684\u521d\u59cb\u503c\u3002</p> <pre><code>&lt;state_interface name=\"position\"&gt;\n  &lt;param name=\"initial_value\"&gt;3.45&lt;/param&gt;\n&lt;/state_interface&gt;\n</code></pre> <ul> <li>\u9ed8\u8ba4\u503c\uff1a<code>0.0</code></li> <li>\u9002\u7528\u8303\u56f4\uff1a</li> <li>\u5173\u8282\u7684\u72b6\u6001\u63a5\u53e3\uff08\u5728 <code>configure</code> \u751f\u547d\u5468\u671f\u9636\u6bb5\u521d\u59cb\u5316\uff09</li> <li>Mock Components \u8fd8\u652f\u6301\u4e3a GPIO \u548c Sensor \u7684\u72b6\u6001\u63a5\u53e3\u8bbe\u7f6e\u521d\u59cb\u503c</li> <li>\u517c\u5bb9\u6027\uff1a\u6b64\u53c2\u6570\u4e0e <code>gz_ros2_control</code> \u63d2\u4ef6\u5171\u4eab\uff0c\u786e\u4fdd\u8de8\u4eff\u771f\u5668\u914d\u7f6e\u4e00\u81f4\u6027</li> </ul>"},{"location":"ros2_control/Concepts/%E6%A8%A1%E6%8B%9F%E7%BB%84%E4%BB%B6/#_3","title":"\u5178\u578b\u4f7f\u7528\u573a\u666f","text":"<ol> <li> <p>\u63a7\u5236\u5668\u5f00\u53d1\u4e0e\u6d4b\u8bd5    \u5728\u65e0\u786c\u4ef6\u60c5\u51b5\u4e0b\u9a8c\u8bc1 <code>JointTrajectoryController</code>\u3001<code>ForwardCommandController</code> \u7b49\u884c\u4e3a\u3002</p> </li> <li> <p>\u6545\u969c\u6a21\u62df    \u901a\u8fc7 <code>disable_commands=true</code> \u6a21\u62df\u4f20\u611f\u5668\u5931\u6548\u6216\u901a\u4fe1\u4e2d\u65ad\u3002</p> </li> <li> <p>\u5916\u90e8\u4fe1\u53f7\u6ce8\u5165    \u7ed3\u5408 <code>ForwardCommandController</code>\uff0c\u901a\u8fc7\u8bdd\u9898\u5411 <code>mock_gpio_commands</code> \u6216 <code>mock_sensor_commands</code> \u6ce8\u5165\u4eff\u771f\u6570\u636e\uff08\u5982\u771f\u7a7a\u5438\u76d8\u72b6\u6001\u3001\u529b\u4f20\u611f\u5668\u8bfb\u6570\uff09\u3002</p> </li> <li> <p>\u5e26\u504f\u79fb\u4eff\u771f    \u4f7f\u7528 <code>position_state_following_offset=0.1</code> \u6a21\u62df\u7f16\u7801\u5668\u96f6\u70b9\u504f\u79fb\u6216\u673a\u68b0\u95f4\u9699\u3002</p> </li> </ol> <p>\ud83d\udca1 \u63d0\u793a\uff1aMock Components \u662f ros2_control \u5f00\u53d1\u5de5\u4f5c\u6d41\u7684\u6838\u5fc3\u5de5\u5177\uff0c\u63a8\u8350\u5728 CI/CD \u6d41\u7a0b\u4e2d\u5e7f\u6cdb\u4f7f\u7528\uff0c\u4ee5\u786e\u4fdd\u8f6f\u4ef6\u6808\u5728\u90e8\u7f72\u524d\u5df2\u5145\u5206\u9a8c\u8bc1\u3002</p>"},{"location":"ros2_control/Concepts/%E7%A1%AC%E4%BB%B6%E7%BB%84%E4%BB%B6/","title":"\u786c\u4ef6\u7ec4\u4ef6","text":""},{"location":"ros2_control/Concepts/%E7%A1%AC%E4%BB%B6%E7%BB%84%E4%BB%B6/#hardware-components","title":"\u786c\u4ef6\u7ec4\u4ef6\uff08Hardware Components\uff09","text":"<p>\u5728 <code>ros2_control</code> \u6846\u67b6\u4e2d\uff0c\u786c\u4ef6\u7ec4\u4ef6\uff08Hardware Components\uff09\u662f\u5bf9\u7269\u7406\u786c\u4ef6\u7684\u62bd\u8c61\u3002\u76ee\u524d\u652f\u6301\u4e09\u79cd\u7c7b\u578b\uff1a</p> <ul> <li>Actuator\uff08\u6267\u884c\u5668\uff09\uff1a\u5982\u7535\u673a\u3001\u4f3a\u670d\u9a71\u52a8\u5668  </li> <li>Sensor\uff08\u4f20\u611f\u5668\uff09\uff1a\u5982\u7f16\u7801\u5668\u3001IMU\u3001\u529b\u4f20\u611f\u5668  </li> <li>System\uff08\u7cfb\u7edf\uff09\uff1a\u540c\u65f6\u5305\u542b\u6267\u884c\u5668\u4e0e\u4f20\u611f\u5668\u7684\u590d\u5408\u8bbe\u5907\uff08\u5982\u673a\u5668\u4eba\u624b\u81c2\u3001\u79fb\u52a8\u5e95\u76d8\uff09</li> </ul> <p>\ud83d\udcda \u6709\u5173\u6bcf\u79cd\u7c7b\u578b\u7684\u8be6\u7ec6\u8bf4\u660e\uff0c\u8bf7\u53c2\u9605 Hardware Components \u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"ros2_control/Concepts/%E7%A1%AC%E4%BB%B6%E7%BB%84%E4%BB%B6/#_1","title":"\u6307\u5bfc\u539f\u5219\u4e0e\u6700\u4f73\u5b9e\u8df5","text":"<ul> <li>\u786c\u4ef6\u63a5\u53e3\u7c7b\u578b\u8bbe\u8ba1\uff1a\u660e\u786e\u533a\u5206\u547d\u4ee4\u63a5\u53e3\uff08CommandInterface\uff09\u4e0e\u72b6\u6001\u63a5\u53e3\uff08StateInterface\uff09</li> <li>\u7f16\u5199\u786c\u4ef6\u7ec4\u4ef6\uff1a\u9075\u5faa\u751f\u547d\u5468\u671f\u89c4\u8303\uff0c\u6b63\u786e\u5b9e\u73b0\u72b6\u6001\u8fc1\u79fb</li> <li>\u4e0d\u540c\u66f4\u65b0\u9891\u7387\uff1a\u652f\u6301\u4e0e Controller Manager \u4e3b\u5faa\u73af\u4e0d\u540c\u7684\u8bfb\u5199\u9891\u7387</li> <li>\u5f02\u6b65\u6267\u884c\uff1a\u5bf9\u8017\u65f6\u64cd\u4f5c\uff08\u5982\u7f51\u7edc\u901a\u4fe1\uff09\u4f7f\u7528\u5f02\u6b65\u7ebf\u7a0b</li> <li>\u8bed\u4e49\u7ec4\u4ef6\uff08Semantic Components\uff09\uff1a\u5c06\u5e95\u5c42\u786c\u4ef6\u4fe1\u53f7\u6620\u5c04\u4e3a\u9ad8\u5c42\u8bed\u4e49\u63a5\u53e3\uff08\u5982\u5c06\u7535\u673a\u7535\u6d41\u6620\u5c04\u4e3a\u201c\u5939\u722a\u529b\u201d\uff09</li> <li>\u751f\u547d\u5468\u671f\u7ba1\u7406\uff1a\u4e25\u683c\u9075\u5faa <code>LifecycleNode</code> \u72b6\u6001\u673a</li> </ul>"},{"location":"ros2_control/Concepts/%E7%A1%AC%E4%BB%B6%E7%BB%84%E4%BB%B6/#lifecycle","title":"\u786c\u4ef6\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\uff08Lifecycle\uff09","text":"<p>\u786c\u4ef6\u7ec4\u4ef6\u7684\u72b6\u6001\u8fc1\u79fb\u7531 <code>LifecycleNode</code> \u63a7\u5236\u3002\u6bcf\u4e2a\u751f\u547d\u5468\u671f\u56de\u8c03\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u7c7b\u578b\u4e3a\uff1a</p> <pre><code>rclcpp_lifecycle::node_interfaces::LifecycleNodeInterface::CallbackReturn\n</code></pre>"},{"location":"ros2_control/Concepts/%E7%A1%AC%E4%BB%B6%E7%BB%84%E4%BB%B6/#_2","title":"\u8fd4\u56de\u503c\u542b\u4e49","text":"\u8fd4\u56de\u503c \u542b\u4e49 <code>CallbackReturn::SUCCESS</code> \u65b9\u6cd5\u6267\u884c\u6210\u529f\uff0c\u72b6\u6001\u8fc1\u79fb\u6b63\u5e38\u8fdb\u884c <code>CallbackReturn::FAILURE</code> \u65b9\u6cd5\u6267\u884c\u5931\u8d25\uff0c\u72b6\u6001\u8fc1\u79fb\u4e2d\u6b62\uff0c\u7ec4\u4ef6\u505c\u7559\u5728\u5f53\u524d\u72b6\u6001 <code>CallbackReturn::ERROR</code> \u53d1\u751f\u4e25\u91cd\u9519\u8bef\uff0c\u9700\u5728 <code>on_error()</code> \u4e2d\u5904\u7406"},{"location":"ros2_control/Concepts/%E7%A1%AC%E4%BB%B6%E7%BB%84%E4%BB%B6/#_3","title":"\u72b6\u6001\u8fc1\u79fb\u4e0e\u5bf9\u5e94\u65b9\u6cd5","text":"\u65b9\u6cd5 \u6210\u529f\u540e\u7684\u76ee\u6807\u72b6\u6001 \u8bf4\u660e <code>on_init()</code><code>on_cleanup()</code> UNCONFIGURED \u786c\u4ef6\u4ec5\u88ab\u521d\u59cb\u5316\uff0c\u672a\u5efa\u7acb\u901a\u4fe1\uff0c\u65e0\u63a5\u53e3\u6ce8\u518c\u5230 ResourceManager <code>on_configure()</code><code>on_deactivate()</code> INACTIVE \u901a\u4fe1\u5df2\u5efa\u7acb\uff0c\u786c\u4ef6\u5df2\u914d\u7f6e\uff0c\u53ef\u8bfb\u53d6\u72b6\u6001\uff1b\u6267\u884c\u5668/\u7cfb\u7edf\uff1a\u547d\u4ee4\u63a5\u53e3\u5b58\u5728\u4f46\u4e0d\u53ef\u7528\uff08\u4e0d\u4f1a\u53d1\u9001\u5230\u786c\u4ef6\uff09 <code>on_activate()</code> ACTIVE \u72b6\u6001\u53ef\u8bfb\uff0c\u547d\u4ee4\u63a5\u53e3\u53ef\u7528\uff1a\u2022 \u6267\u884c\u5668/\u7cfb\u7edf\uff1a\u7535\u6e90\u5df2\u542f\u7528\uff08\u5982\u91ca\u653e\u5239\u8f66\uff09\uff0c\u547d\u4ee4\u5c06\u5b9e\u9645\u53d1\u9001\u81f3\u786c\u4ef6 <code>on_shutdown()</code> FINALIZED \u786c\u4ef6\u51c6\u5907\u5378\u8f7d/\u9500\u6bc1\uff0c\u91ca\u653e\u6240\u6709\u8d44\u6e90\uff08\u5185\u5b58\u3001\u8fde\u63a5\u7b49\uff09 <p>\u26a0\ufe0f \u5f53\u524d\u884c\u4e3a\u8bf4\u660e\uff1a \u5373\u4f7f\u5904\u4e8e <code>INACTIVE</code> \u72b6\u6001\uff0cController Manager \u4ecd\u4f1a\u5411\u547d\u4ee4\u63a5\u53e3\u5199\u5165\u6570\u636e\uff08\u89c1 \u76f8\u5173 issue\uff09\u3002 \u672a\u6765\u8ba1\u5212\u5f15\u5165\u5b89\u5168\u5173\u952e\u63a5\u53e3\uff08safety-critical interfaces\uff09\uff0c\u4ec5\u5728 <code>ACTIVE</code> \u72b6\u6001\u4e0b\u5141\u8bb8\u5199\u5165\uff08\u89c1 \u8def\u7ebf\u56fe PR\uff09\u3002</p>"},{"location":"ros2_control/Concepts/%E7%A1%AC%E4%BB%B6%E7%BB%84%E4%BB%B6/#read-write","title":"<code>read()</code> \u4e0e <code>write()</code> \u4e2d\u7684\u9519\u8bef\u5904\u7406","text":"<p>\u5f53\u786c\u4ef6\u7ec4\u4ef6\u7684 <code>read()</code> \u6216 <code>write()</code> \u65b9\u6cd5\u8fd4\u56de\uff1a</p> <pre><code>hardware_interface::return_type::ERROR\n</code></pre> <p>Controller Manager \u5c06\u81ea\u52a8\u8c03\u7528\uff1a</p> <pre><code>on_error(previous_state)\n</code></pre> <p>\u4ee5\u5904\u7406\u8fd0\u884c\u65f6\u9519\u8bef\u3002</p>"},{"location":"ros2_control/Concepts/%E7%A1%AC%E4%BB%B6%E7%BB%84%E4%BB%B6/#_4","title":"\u9519\u8bef\u6062\u590d\u673a\u5236","text":"<ul> <li> <p>\u82e5 <code>on_error()</code> \u8fd4\u56de <code>CallbackReturn::SUCCESS</code>\uff1a   \u786c\u4ef6\u7ec4\u4ef6\u5c06\u56de\u5230 <code>UNCONFIGURED</code> \u72b6\u6001\uff0c\u53ef\u91cd\u65b0\u914d\u7f6e\u6fc0\u6d3b\u3002</p> </li> <li> <p>\u82e5 <code>on_error()</code> \u8fd4\u56de <code>CallbackReturn::FAILURE</code> \u6216 <code>ERROR</code>\uff1a   \u786c\u4ef6\u7ec4\u4ef6\u5c06\u8fdb\u5165 <code>FINALIZED</code> \u72b6\u6001\uff0c\u65e0\u6cd5\u6062\u590d\u3002</p> </li> </ul> <p>\u2757 \u5f53\u524d\u9650\u5236\uff1a Controller Manager \u6ca1\u6709\u63d0\u4f9b\u91cd\u65b0\u52a0\u8f7d\u786c\u4ef6\u63d2\u4ef6\u7684\u670d\u52a1\u3002\u4e00\u65e6\u786c\u4ef6\u7ec4\u4ef6\u8fdb\u5165 <code>FINALIZED</code> \u72b6\u6001\uff0c\u5fc5\u987b\u91cd\u542f\u6574\u4e2a <code>ros2_control_node</code> \u624d\u80fd\u6062\u590d\u3002</p>"},{"location":"ros2_control/Concepts/%E7%A1%AC%E4%BB%B6%E7%BB%84%E4%BB%B6/#_5","title":"\u6700\u4f73\u5b9e\u8df5\u5efa\u8bae","text":"<ol> <li>\u5728 <code>on_configure()</code> \u4e2d\u5efa\u7acb\u901a\u4fe1\uff08\u5982\u4e32\u53e3\u3001CAN\u3001EtherCAT\uff09</li> <li>\u5728 <code>on_activate()</code> \u4e2d\u542f\u7528\u786c\u4ef6\u52a8\u529b\uff08\u5982\u4f7f\u80fd\u9a71\u52a8\u5668\u3001\u91ca\u653e\u62b1\u95f8\uff09</li> <li>\u5728 <code>on_deactivate()</code> \u4e2d\u5b89\u5168\u505c\u673a\uff08\u5982\u5173\u95ed\u4f7f\u80fd\u3001\u542f\u7528\u62b1\u95f8\uff09</li> <li>\u5728 <code>on_cleanup()</code> / <code>on_shutdown()</code> \u4e2d\u5f7b\u5e95\u91ca\u653e\u8d44\u6e90</li> <li>\u5728 <code>read()</code>/<code>write()</code> \u4e2d\u6355\u83b7\u5f02\u5e38\u5e76\u8fd4\u56de <code>ERROR</code>\uff0c\u800c\u975e\u8ba9\u8fdb\u7a0b\u5d29\u6e83</li> <li>\u5728 <code>on_error()</code> \u4e2d\u5c1d\u8bd5\u6062\u590d\u901a\u4fe1\u6216\u8fdb\u5165\u5b89\u5168\u72b6\u6001</li> </ol> <p>\u2705 \u901a\u8fc7\u4e25\u8c28\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\uff0c\u53ef\u663e\u8457\u63d0\u5347\u673a\u5668\u4eba\u7cfb\u7edf\u7684\u53ef\u9760\u6027\u4e0e\u5b89\u5168\u6027\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/","title":"\u8c03\u8bd5\uff08Debugging\uff09","text":""},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#debugging","title":"\u8c03\u8bd5\uff08Debugging\uff09","text":"<p>\u6240\u6709\u63a7\u5236\u5668\u548c\u786c\u4ef6\u7ec4\u4ef6\u90fd\u662f\u4f5c\u4e3a\u63d2\u4ef6\u52a0\u8f7d\u5230 <code>controller_manager</code> \u4e2d\u7684\u3002\u56e0\u6b64\uff0c\u8c03\u8bd5\u5668\u5fc5\u987b\u9644\u52a0\u5230 <code>controller_manager</code> \u8fdb\u7a0b\u4e0a\u3002 \u5982\u679c\u4f60\u7684\u673a\u5668\u4eba\u6216\u673a\u5668\u4e0a\u8fd0\u884c\u4e86\u591a\u4e2a <code>controller_manager</code> \u5b9e\u4f8b\uff0c\u5219\u9700\u8981\u5c06\u8c03\u8bd5\u5668\u9644\u52a0\u5230\u4e0e\u4f60\u8981\u8c03\u8bd5\u7684\u786c\u4ef6\u7ec4\u4ef6\u6216\u63a7\u5236\u5668\u76f8\u5173\u8054\u7684\u90a3\u4e2a <code>controller_manager</code> \u4e0a\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#how-to","title":"\u64cd\u4f5c\u6307\u5357\uff08How-To\uff09","text":""},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#1","title":"1. \u5b89\u88c5\u6240\u9700\u5de5\u5177","text":"<p>\u5728\u7cfb\u7edf\u4e2d\u5b89\u88c5 <code>xterm</code>\u3001<code>gdb</code> \u548c <code>gdbserver</code>\uff1a</p> <pre><code>sudo apt install xterm gdb gdbserver\n</code></pre>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#2","title":"2. \u4f7f\u7528\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u6784\u5efa\u7c7b\u578b","text":"<p>\u786e\u4fdd\u4f60\u4f7f\u7528\u7684\u662f \u201cDebug\u201d \u6216 \u201c\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684 Release\u201d\uff08RelWithDebInfo\uff09\u6784\u5efa\uff1a</p> <pre><code>colcon build --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo\n</code></pre> <p>\u6ce8\u610f\uff1a\u5728\u7eaf Release \u6784\u5efa\u4e2d\uff0c\u7f16\u8bd1\u5668\u4f18\u5316\u53ef\u80fd\u5bfc\u81f4\u65ad\u70b9\u884c\u4e3a\u5f02\u5e38\uff08\u4f8b\u5982\u4ee3\u7801\u884c\u88ab\u4f18\u5316\u6389\uff09\u3002 \u82e5\u9700\u7cbe\u786e\u8c03\u8bd5\uff0c\u5efa\u8bae\u4f7f\u7528\u5b8c\u6574 Debug \u6784\u5efa\uff1a </p><pre><code>colcon build --cmake-args -DCMAKE_BUILD_TYPE=Debug\n</code></pre><p></p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#3","title":"3. \u4fee\u6539\u542f\u52a8\u6587\u4ef6\u4ee5\u9644\u52a0\u8c03\u8bd5\u5668","text":""},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#a-gdb-cli","title":"\u65b9\u5f0f A\uff1a\u76f4\u63a5\u4f7f\u7528 gdb \u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09","text":"<p>\u5728\u542f\u52a8\u6587\u4ef6\u4e2d\u7684 <code>controller_manager</code> \u8282\u70b9\u5b9a\u4e49\u4e2d\u6dfb\u52a0 <code>prefix</code>\uff1a</p> <pre><code>prefix=['xterm -e gdb -ex run --args']\n</code></pre> <p>\u7531\u4e8e <code>ros2launch</code> \u7684\u5de5\u4f5c\u673a\u5236\uff0c\u5fc5\u987b\u5728\u5355\u72ec\u7684\u7ec8\u7aef\u7a97\u53e3\u4e2d\u8fd0\u884c\u8be5\u8282\u70b9\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#b-gdbserver-ide","title":"\u65b9\u5f0f B\uff1a\u4f7f\u7528 gdbserver\uff08\u63a8\u8350\u7528\u4e8e\u8fdc\u7a0b\u6216 IDE \u8c03\u8bd5\uff09","text":"<p>\u6dfb\u52a0\uff1a</p> <pre><code>prefix=['gdbserver localhost:3000']\n</code></pre> <p>\u968f\u540e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 gdb CLI \u6216\u4efb\u610f IDE\uff08\u5982 VS Code\u3001CLion\uff09\u8fde\u63a5\u5230 <code>localhost:3000</code>\u3002 \u6ce8\u610f\uff1a\u542f\u52a8\u8c03\u8bd5\u5668\u7684\u7ec8\u7aef\u5fc5\u987b\u5df2 <code>source</code> \u4f60\u7684\u5de5\u4f5c\u7a7a\u95f4\uff0c\u4ee5\u786e\u4fdd\u8def\u5f84\u6b63\u786e\u89e3\u6790\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#_1","title":"\u793a\u4f8b\u542f\u52a8\u6587\u4ef6\u8282\u70b9\u5b9a\u4e49","text":"<pre><code># \u83b7\u53d6 controller_manager \u7684\u914d\u7f6e\u6587\u4ef6\ncontroller_config_file = get_package_file(\"&lt;package name&gt;\", \"config/controllers.yaml\")\n\ncontroller_manager = Node(\n    package=\"controller_manager\",\n    executable=\"ros2_control_node\",\n    parameters=[controller_config_file],\n    output=\"both\",\n    emulate_tty=True,\n    remappings=[\n        (\"~/robot_description\", \"/robot_description\")\n    ],\n    prefix=['xterm -e gdb -ex run --args']  # \u6216\u4f7f\u7528 prefix=['gdbserver localhost:3000']\n)\n\nld.add_action(controller_manager)\n</code></pre>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#additional-notes","title":"\u9644\u52a0\u8bf4\u660e\uff08Additional notes\uff09","text":""},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#debugging-plugins","title":"\u8c03\u8bd5\u63d2\u4ef6\uff08Debugging plugins\uff09","text":"<p>\u4f60\u53ea\u80fd\u5728\u63d2\u4ef6\u52a0\u8f7d\u540e\u8bbe\u7f6e\u65ad\u70b9\u3002\u5728 <code>ros2_control</code> \u4e0a\u4e0b\u6587\u4e2d\uff0c\u8fd9\u610f\u5473\u7740\u5fc5\u987b\u5728\u63a7\u5236\u5668\u6216\u786c\u4ef6\u7ec4\u4ef6\u88ab\u52a0\u8f7d\u4e4b\u540e\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#_2","title":"\u9488\u5bf9\u7279\u5b9a\u5305\u6784\u5efa\u8c03\u8bd5\u7248\u672c","text":"<p>\u901a\u5e38\u53ea\u9700\u4e3a\u8981\u8c03\u8bd5\u7684\u7279\u5b9a\u5305\u751f\u6210\u8c03\u8bd5\u4fe1\u606f\uff1a</p> <pre><code>colcon build --packages-select [package_name] --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo\n# \u6216\ncolcon build --packages-select [package_name] --cmake-args -DCMAKE_BUILD_TYPE=Debug\n</code></pre>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Debugging%20the%20Controller_Manager_and_Plugins/#realtime","title":"\u5b9e\u65f6\u4e0a\u4e0b\u6587\u4e2d\u7684\u8c03\u8bd5\u8b66\u544a\uff08Realtime\uff09","text":"<p>\u26a0\ufe0f \u8b66\u544a\uff1a \u63a7\u5236\u5668\u7684 <code>update</code>/<code>on_activate</code>/<code>on_deactivate</code> \u65b9\u6cd5\uff0c\u4ee5\u53ca\u786c\u4ef6\u7ec4\u4ef6\u7684 <code>read</code>/<code>write</code>/<code>on_activate</code>/<code>perform_command_mode_switch</code> \u65b9\u6cd5\uff0c\u5747\u8fd0\u884c\u5728\u5b9e\u65f6\u66f4\u65b0\u5faa\u73af\u4e0a\u4e0b\u6587\u4e2d\u3002 \u5728\u8fd9\u4e9b\u51fd\u6570\u4e2d\u8bbe\u7f6e\u65ad\u70b9\u53ef\u80fd\u5bfc\u81f4\u4e25\u91cd\u95ee\u9898\uff0c\u6700\u574f\u60c5\u51b5\u4e0b\u751a\u81f3\u4f1a\u635f\u574f\u786c\u4ef6\u3002</p> <p>\u5efa\u8bae\uff1a - \u5728\u5b9e\u65f6\u4e0a\u4e0b\u6587\u4e2d\u4f18\u5148\u4f7f\u7528\u6709\u610f\u4e49\u7684\u65e5\u5fd7\uff08\u9700\u8c28\u614e\uff0c\u907f\u514d\u5f71\u54cd\u5b9e\u65f6\u6027\uff09 - \u6216\u6dfb\u52a0\u989d\u5916\u7684\u8c03\u8bd5\u7528\u72b6\u6001\u63a5\u53e3\uff08\u5bf9\u4e8e\u63a7\u5236\u5668\uff0c\u4e5f\u53ef\u4f7f\u7528\u53d1\u5e03\u8005\uff09</p> <p>\u4e0d\u8fc7\uff0c\u4f7f\u7528 gdb \u8fd0\u884c <code>controller_manager</code> \u548c\u63d2\u4ef6\u5bf9\u4e8e\u8c03\u8bd5\u6bb5\u9519\u8bef\uff08segfault\uff09\u7b49\u5d29\u6e83\u95ee\u9898\u4ecd\u7136\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u5b83\u80fd\u63d0\u4f9b\u5b8c\u6574\u7684\u56de\u6eaf\u6808\uff08backtrace\uff09\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/","title":"GDB \u5feb\u901f\u53c2\u8003\u624b\u518c\uff08GDB Quick Reference\uff09","text":""},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#gdb-gdb-quick-reference","title":"GDB \u5feb\u901f\u53c2\u8003\u624b\u518c\uff08GDB Quick Reference\uff09","text":"<p>GDB \u7248\u672c 4</p> <p>\u00a9 1991, 1992, 1993, 1998 \u81ea\u7531\u8f6f\u4ef6\u57fa\u91d1\u4f1a\uff08Free Software Foundation, Inc.\uff09 \u672c\u5361\u53ef\u4f9d\u636e GNU \u901a\u7528\u516c\u5171\u8bb8\u53ef\u8bc1\uff08GPL\uff09\u81ea\u7531\u5206\u53d1\u3002 \u4f5c\u8005\u4e0d\u5bf9\u672c\u5361\u4e2d\u7684\u4efb\u4f55\u9519\u8bef\u8d1f\u8d23\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#gdb","title":"\u542f\u52a8 GDB","text":"\u547d\u4ee4 \u8bf4\u660e <code>gdb</code> \u542f\u52a8 GDB\uff0c\u4e0d\u52a0\u8f7d\u8c03\u8bd5\u6587\u4ef6 <code>gdb program</code> \u5f00\u59cb\u8c03\u8bd5 <code>program</code> <code>gdb program core</code> \u4f7f\u7528 <code>core</code> \u8f6c\u50a8\u6587\u4ef6\u8c03\u8bd5\u7531 <code>program</code> \u4ea7\u751f\u7684\u5d29\u6e83 <code>gdb --help</code> \u663e\u793a\u547d\u4ee4\u884c\u9009\u9879\u8bf4\u660e"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#_1","title":"\u57fa\u672c\u64cd\u4f5c","text":"\u547d\u4ee4 \u8bf4\u660e <code>quit</code>\uff08\u6216 <code>q</code>\u3001<code>Ctrl-D</code>\uff09 \u9000\u51fa GDB <code>Ctrl-C</code> \u4e2d\u65ad\u5f53\u524d\u547d\u4ee4\uff0c\u6216\u5411\u8fd0\u884c\u4e2d\u7684\u8fdb\u7a0b\u53d1\u9001\u4e2d\u65ad\u4fe1\u53f7"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#_2","title":"\u83b7\u53d6\u5e2e\u52a9","text":"\u547d\u4ee4 \u8bf4\u660e <code>help</code> \u5217\u51fa\u547d\u4ee4\u7c7b\u522b <code>help class</code> \u663e\u793a\u67d0\u7c7b\u522b\u4e0b\u6240\u6709\u547d\u4ee4\u7684\u7b80\u8981\u63cf\u8ff0 <code>help command</code> \u663e\u793a\u5177\u4f53\u547d\u4ee4\u7684\u8be6\u7ec6\u8bf4\u660e"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#_3","title":"\u6267\u884c\u7a0b\u5e8f","text":"\u547d\u4ee4 \u8bf4\u660e <code>run arglist</code> \u7528 <code>arglist</code> \u542f\u52a8\u7a0b\u5e8f <code>run</code> \u7528\u5f53\u524d\u53c2\u6570\u5217\u8868\u542f\u52a8\u7a0b\u5e8f <code>run &lt; in &gt; out</code> \u542f\u52a8\u7a0b\u5e8f\u5e76\u91cd\u5b9a\u5411\u8f93\u5165/\u8f93\u51fa <code>kill</code> \u7ec8\u6b62\u6b63\u5728\u8fd0\u884c\u7684\u7a0b\u5e8f <code>tty dev</code> \u4e0b\u6b21\u8fd0\u884c\u65f6\u4f7f\u7528 <code>dev</code> \u4f5c\u4e3a\u6807\u51c6\u8f93\u5165/\u8f93\u51fa\u8bbe\u5907 <code>set args arglist</code> \u4e3a\u4e0b\u6b21\u8fd0\u884c\u8bbe\u7f6e\u53c2\u6570\u5217\u8868 <code>set args</code> \u6e05\u7a7a\u53c2\u6570\u5217\u8868 <code>show args</code> \u663e\u793a\u5f53\u524d\u53c2\u6570\u5217\u8868 <code>show env</code> \u663e\u793a\u6240\u6709\u73af\u5883\u53d8\u91cf <code>show env var</code> \u663e\u793a\u73af\u5883\u53d8\u91cf <code>var</code> \u7684\u503c <code>set env var string</code> \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf <code>var</code> \u4e3a <code>string</code> <code>unset env var</code> \u4ece\u73af\u5883\u4e2d\u79fb\u9664\u53d8\u91cf <code>var</code>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#shell","title":"Shell \u547d\u4ee4","text":"\u547d\u4ee4 \u8bf4\u660e <code>cd dir</code> \u5207\u6362\u5de5\u4f5c\u76ee\u5f55 <code>pwd</code> \u663e\u793a\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55 <code>make ...</code> \u8c03\u7528 <code>make</code> \u547d\u4ee4 <code>shell cmd</code> \u6267\u884c\u4efb\u610f shell \u547d\u4ee4 <p>\u8bf4\u660e\uff1a<code>[ ]</code> \u8868\u793a\u53ef\u9009\u53c2\u6570\uff0c<code>...</code> \u8868\u793a\u4e00\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#breakpoints-watchpoints","title":"\u65ad\u70b9\u4e0e\u89c2\u5bdf\u70b9\uff08Breakpoints &amp; Watchpoints\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>break [file:]line</code><code>b [file:]line</code> \u5728\u6587\u4ef6\u7684\u67d0\u884c\u8bbe\u7f6e\u65ad\u70b9\uff08\u5982 <code>break main.c:37</code>\uff09 <code>break [file:]function</code><code>b [file:]function</code> \u5728\u51fd\u6570\u5165\u53e3\u8bbe\u7f6e\u65ad\u70b9 <code>break +offset</code> / <code>break -offset</code> \u5728\u5f53\u524d\u4f4d\u7f6e\u504f\u79fb\u82e5\u5e72\u884c\u5904\u8bbe\u65ad\u70b9 <code>break *addr</code> \u5728\u5730\u5740 <code>addr</code> \u5904\u8bbe\u65ad\u70b9 <code>break</code> \u5728\u4e0b\u4e00\u6761\u6307\u4ee4\u5904\u8bbe\u65ad\u70b9 <code>break ... if expr</code> \u5f53\u8868\u8fbe\u5f0f <code>expr</code> \u975e\u96f6\u65f6\u624d\u89e6\u53d1\u65ad\u70b9 <code>cond n [expr]</code> \u4e3a\u65ad\u70b9 <code>n</code> \u8bbe\u7f6e\u65b0\u6761\u4ef6\uff08\u65e0 <code>expr</code> \u5219\u53d6\u6d88\u6761\u4ef6\uff09 <code>tbreak ...</code> \u8bbe\u7f6e\u4e34\u65f6\u65ad\u70b9\uff08\u547d\u4e2d\u540e\u81ea\u52a8\u5220\u9664\uff09 <code>rbreak regex</code> \u4e3a\u6240\u6709\u5339\u914d\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u51fd\u6570\u8bbe\u7f6e\u65ad\u70b9 <code>watch expr</code> \u4e3a\u8868\u8fbe\u5f0f <code>expr</code> \u8bbe\u7f6e\u89c2\u5bdf\u70b9\uff08\u503c\u53d8\u5316\u65f6\u4e2d\u65ad\uff09 <code>catch event</code> \u5728\u7279\u5b9a\u4e8b\u4ef6\u4e2d\u65ad\uff08\u5982 <code>throw</code>, <code>fork</code>, <code>load</code> \u7b49\uff09 <code>info break</code> \u663e\u793a\u6240\u6709\u5df2\u5b9a\u4e49\u65ad\u70b9 <code>info watch</code> \u663e\u793a\u6240\u6709\u89c2\u5bdf\u70b9 <code>clear</code> \u5220\u9664\u4e0b\u4e00\u6761\u6307\u4ee4\u5904\u7684\u65ad\u70b9 <code>clear [file:]func</code> \u5220\u9664\u51fd\u6570\u5165\u53e3\u5904\u7684\u65ad\u70b9 <code>clear [file:]line</code> \u5220\u9664\u67d0\u884c\u4e0a\u7684\u65ad\u70b9 <code>delete [n]</code> \u5220\u9664\u65ad\u70b9\uff08\u6216\u7f16\u53f7\u4e3a <code>n</code> \u7684\u65ad\u70b9\uff09 <code>disable [n]</code> \u7981\u7528\u65ad\u70b9 <code>enable [n]</code> \u542f\u7528\u65ad\u70b9 <code>enable once [n]</code> \u542f\u7528\u65ad\u70b9\uff0c\u547d\u4e2d\u540e\u81ea\u52a8\u7981\u7528 <code>enable del [n]</code> \u542f\u7528\u65ad\u70b9\uff0c\u547d\u4e2d\u540e\u81ea\u52a8\u5220\u9664 <code>ignore n count</code> \u5ffd\u7565\u65ad\u70b9 <code>n</code> \u5171 <code>count</code> \u6b21 <code>commands n</code><code>[silent]</code><code>command-list</code><code>end</code> \u6bcf\u6b21\u547d\u4e2d\u65ad\u70b9 <code>n</code> \u65f6\u6267\u884c\u6307\u5b9a\u547d\u4ee4\u5217\u8868\uff08<code>silent</code> \u6291\u5236\u9ed8\u8ba4\u8f93\u51fa\uff09"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#program-stack","title":"\u7a0b\u5e8f\u8c03\u7528\u6808\uff08Program Stack\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>backtrace [n]</code><code>bt [n]</code> \u6253\u5370\u8c03\u7528\u6808\uff08<code>n&gt;0</code>\uff1a\u663e\u793a\u6700\u5185\u5c42 <code>n</code> \u5e27\uff1b<code>n&lt;0</code>\uff1a\u663e\u793a\u6700\u5916\u5c42 <code>|n|</code> \u5e27\uff09 <code>frame [n]</code> \u5207\u6362\u5230\u7b2c <code>n</code> \u5e27\uff08\u6216\u5730\u5740 <code>n</code> \u5904\u7684\u5e27\uff09\uff1b\u65e0\u53c2\u6570\u5219\u663e\u793a\u5f53\u524d\u5e27 <code>up n</code> \u5411\u4e0a\u8c03 <code>n</code> \u5e27 <code>down n</code> \u5411\u4e0b\u8c03 <code>n</code> \u5e27 <code>info frame [addr]</code> \u663e\u793a\u5f53\u524d\u5e27\uff08\u6216\u5730\u5740 <code>addr</code> \u5904\u5e27\uff09\u7684\u8be6\u7ec6\u4fe1\u606f <code>info args</code> \u663e\u793a\u5f53\u524d\u5e27\u7684\u51fd\u6570\u53c2\u6570 <code>info locals</code> \u663e\u793a\u5f53\u524d\u5e27\u7684\u5c40\u90e8\u53d8\u91cf <code>info reg [rn]</code><code>info all-reg [rn]</code> \u663e\u793a\u5bc4\u5b58\u5668\u503c\uff08<code>all-reg</code> \u5305\u542b\u6d6e\u70b9\u5bc4\u5b58\u5668\uff09"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#execution-control","title":"\u6267\u884c\u63a7\u5236\uff08Execution Control\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>continue [count]</code><code>c [count]</code> \u7ee7\u7eed\u8fd0\u884c\uff08\u82e5\u6307\u5b9a <code>count</code>\uff0c\u5219\u5ffd\u7565\u5f53\u524d\u65ad\u70b9 <code>count</code> \u6b21\uff09 <code>step [count]</code><code>s [count]</code> \u5355\u6b65\u6267\u884c\uff08\u8fdb\u5165\u51fd\u6570\uff09\uff0c\u53ef\u91cd\u590d <code>count</code> \u6b21 <code>stepi [count]</code><code>si [count]</code> \u6309\u673a\u5668\u6307\u4ee4\u5355\u6b65\uff08\u8fdb\u5165\u51fd\u6570\uff09 <code>next [count]</code><code>n [count]</code> \u5355\u6b65\u6267\u884c\uff08\u4e0d\u8fdb\u5165\u51fd\u6570\uff09 <code>nexti [count]</code><code>ni [count]</code> \u6309\u673a\u5668\u6307\u4ee4\u5355\u6b65\uff08\u4e0d\u8fdb\u5165\u51fd\u6570\uff09 <code>until [location]</code> \u8fd0\u884c\u81f3\u4e0b\u4e00\u884c\uff08\u6216\u6307\u5b9a\u4f4d\u7f6e\uff09 <code>finish</code> \u8fd0\u884c\u81f3\u5f53\u524d\u51fd\u6570\u8fd4\u56de <code>return [expr]</code> \u5f39\u51fa\u5f53\u524d\u6808\u5e27\uff0c\u4e0d\u6267\u884c\u5269\u4f59\u4ee3\u7801\uff08\u53ef\u6307\u5b9a\u8fd4\u56de\u503c\uff09 <code>signal num</code> \u4ee5\u4fe1\u53f7 <code>num</code> \u6062\u590d\u6267\u884c\uff08<code>0</code> \u8868\u793a\u65e0\u4fe1\u53f7\uff09 <code>jump line</code><code>jump *address</code> \u8df3\u8f6c\u5230\u6307\u5b9a\u884c\u6216\u5730\u5740\u7ee7\u7eed\u6267\u884c <code>set var=expr</code> \u8ba1\u7b97\u8868\u8fbe\u5f0f\u5e76\u8d4b\u503c\u7ed9\u53d8\u91cf\uff08\u7528\u4e8e\u4fee\u6539\u7a0b\u5e8f\u53d8\u91cf\uff09"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#display","title":"\u663e\u793a\u4e0e\u67e5\u770b\uff08Display\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>print [/f] expr</code><code>p [/f] expr</code> \u6309\u683c\u5f0f <code>f</code> \u663e\u793a\u8868\u8fbe\u5f0f\u503c\uff1a<code>x</code>\uff1a\u5341\u516d\u8fdb\u5236<code>d</code>\uff1a\u6709\u7b26\u53f7\u5341\u8fdb\u5236<code>u</code>\uff1a\u65e0\u7b26\u53f7\u5341\u8fdb\u5236<code>o</code>\uff1a\u516b\u8fdb\u5236<code>t</code>\uff1a\u4e8c\u8fdb\u5236<code>a</code>\uff1a\u5730\u5740<code>c</code>\uff1a\u5b57\u7b26<code>f</code>\uff1a\u6d6e\u70b9\u6570 <code>call [/f] expr</code> \u8c03\u7528\u51fd\u6570\uff08\u7c7b\u4f3c <code>print</code>\uff0c\u4f46\u4e0d\u663e\u793a <code>void</code> \u8fd4\u56de\u503c\uff09 <code>x [/Nuf] addr</code> \u67e5\u770b\u5185\u5b58\u5185\u5bb9\uff1a<code>N</code>\uff1a\u663e\u793a\u5355\u5143\u6570\u91cf<code>u</code>\uff1a\u5355\u5143\u5927\u5c0f\uff08<code>b</code>=\u5b57\u8282\uff0c<code>h</code>=\u534a\u5b57\uff0c<code>w</code>=\u5b57\uff0c<code>g</code>=\u5de8\u5b57\uff09<code>f</code>\uff1a\u663e\u793a\u683c\u5f0f\uff08\u540c <code>print</code>\uff0c\u6216 <code>s</code>=\u5b57\u7b26\u4e32\uff0c<code>i</code>=\u6307\u4ee4\uff09 <code>disassem [addr]</code> \u5c06\u5185\u5b58\u53cd\u6c47\u7f16\u4e3a\u673a\u5668\u6307\u4ee4 <code>display [/f] expr</code> \u6bcf\u6b21\u7a0b\u5e8f\u6682\u505c\u65f6\u81ea\u52a8\u663e\u793a\u8868\u8fbe\u5f0f\u503c <code>display</code> \u663e\u793a\u6240\u6709\u81ea\u52a8\u663e\u793a\u9879 <code>undisplay n</code> \u4ece\u81ea\u52a8\u663e\u793a\u5217\u8868\u4e2d\u79fb\u9664\u7f16\u53f7 <code>n</code> \u7684\u9879 <code>disable disp n</code> \u7981\u7528\u81ea\u52a8\u663e\u793a\u9879 <code>n</code> <code>enable disp n</code> \u542f\u7528\u81ea\u52a8\u663e\u793a\u9879 <code>n</code> <code>info display</code> \u5217\u51fa\u6240\u6709\u81ea\u52a8\u663e\u793a\u9879\u53ca\u5176\u7f16\u53f7"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#expressions","title":"\u8868\u8fbe\u5f0f\uff08Expressions\uff09","text":"<ul> <li>\u652f\u6301 C\u3001C++\u3001Modula-2 \u8bed\u6cd5\uff08\u5305\u62ec\u51fd\u6570\u8c03\u7528\uff09</li> <li><code>addr @ len</code>\uff1a\u4ece\u5730\u5740 <code>addr</code> \u5f00\u59cb\u7684 <code>len</code> \u4e2a\u5143\u7d20\u6570\u7ec4</li> <li><code>file::nm</code>\uff1a\u6587\u4ef6 <code>file</code> \u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u6216\u51fd\u6570 <code>nm</code></li> <li><code>{type}addr</code>\uff1a\u5c06\u5730\u5740 <code>addr</code> \u6309\u6307\u5b9a\u7c7b\u578b <code>type</code> \u89e3\u91ca</li> <li><code>$</code>\uff1a\u6700\u8fd1\u4e00\u6b21\u663e\u793a\u7684\u503c</li> <li><code>$n</code>\uff1a\u7b2c <code>n</code> \u6b21\u663e\u793a\u7684\u503c</li> <li><code>$$</code>\uff1a<code>$</code> \u7684\u524d\u4e00\u4e2a\u503c</li> <li><code>$n</code>\uff08\u5728 <code>x</code> \u547d\u4ee4\u540e\uff09\uff1a\u6700\u540e\u68c0\u67e5\u7684\u5730\u5740</li> <li><code>$value</code>\uff1a\u5730\u5740 <code>$</code> \u5904\u7684\u503c</li> <li><code>$var</code>\uff1a\u4fbf\u5229\u53d8\u91cf\uff08\u53ef\u8d4b\u4efb\u610f\u503c\uff09</li> <li><code>show values [n]</code>\uff1a\u663e\u793a\u6700\u8fd1 10 \u4e2a\u503c\uff08\u6216\u56f4\u7ed5 <code>$n</code> \u7684\u503c\uff09</li> <li><code>show conv</code>\uff1a\u663e\u793a\u6240\u6709\u4fbf\u5229\u53d8\u91cf</li> </ul>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#symbol-table","title":"\u7b26\u53f7\u8868\uff08Symbol Table\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>info address s</code> \u663e\u793a\u7b26\u53f7 <code>s</code> \u7684\u5b58\u50a8\u4f4d\u7f6e <code>info func [regex]</code> \u663e\u793a\u6240\u6709\u51fd\u6570\uff08\u6216\u5339\u914d\u6b63\u5219\u7684\u51fd\u6570\uff09\u540d\u79f0\u4e0e\u7c7b\u578b <code>info var [regex]</code> \u663e\u793a\u6240\u6709\u5168\u5c40\u53d8\u91cf\uff08\u6216\u5339\u914d\u6b63\u5219\u7684\u53d8\u91cf\uff09\u540d\u79f0\u4e0e\u7c7b\u578b <code>whatis [expr]</code> \u663e\u793a\u8868\u8fbe\u5f0f\u7684\u6570\u636e\u7c7b\u578b\uff08\u4e0d\u6c42\u503c\uff09 <code>ptype [expr]</code> \u663e\u793a\u8868\u8fbe\u5f0f\u7684\u8be6\u7ec6\u7c7b\u578b\u4fe1\u606f\uff08\u6bd4 <code>whatis</code> \u66f4\u8be6\u7ec6\uff09 <code>ptype type</code> \u63cf\u8ff0\u7ed3\u6784\u4f53\u3001\u8054\u5408\u3001\u679a\u4e3e\u7b49\u7c7b\u578b\u7684\u5b9a\u4e49"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#gdb-gdb-scripts","title":"GDB \u811a\u672c\uff08GDB Scripts\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>source script</code> \u4ece\u6587\u4ef6\u8bfb\u53d6\u5e76\u6267\u884c GDB \u547d\u4ee4 <code>define cmd</code><code>command-list</code><code>end</code> \u5b9a\u4e49\u65b0 GDB \u547d\u4ee4 <code>cmd</code> <code>document cmd</code><code>help-text</code><code>end</code> \u4e3a\u65b0\u547d\u4ee4 <code>cmd</code> \u7f16\u5199\u5e2e\u52a9\u6587\u6863"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#signals","title":"\u4fe1\u53f7\u5904\u7406\uff08Signals\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>handle signal act</code> \u8bbe\u7f6e\u5bf9\u4fe1\u53f7\u7684\u5904\u7406\u65b9\u5f0f\uff1a<code>print</code>/<code>noprint</code>\uff1a\u662f\u5426\u62a5\u544a<code>stop</code>/<code>nostop</code>\uff1a\u662f\u5426\u4e2d\u65ad<code>pass</code>/<code>nopass</code>\uff1a\u662f\u5426\u4f20\u9012\u7ed9\u7a0b\u5e8f <code>info signals</code> \u663e\u793a\u6240\u6709\u4fe1\u53f7\u53ca\u5176 GDB \u5904\u7406\u65b9\u5f0f"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#debugging-targets","title":"\u8c03\u8bd5\u76ee\u6807\uff08Debugging Targets\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>target type param</code> \u8fde\u63a5\u5230\u76ee\u6807\u673a\u5668\u3001\u8fdb\u7a0b\u6216\u6587\u4ef6 <code>help target</code> \u663e\u793a\u53ef\u7528\u76ee\u6807\u7c7b\u578b <code>attach param</code> \u9644\u52a0\u5230\u53e6\u4e00\u4e2a\u8fdb\u7a0b <code>detach</code> \u4ece\u76ee\u6807\u8fdb\u7a0b\u5206\u79bb"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#gdb-controlling-gdb","title":"\u63a7\u5236 GDB \u81ea\u8eab\uff08Controlling GDB\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>set param value</code> \u8bbe\u7f6e GDB \u5185\u90e8\u53c2\u6570 <code>show param</code> \u663e\u793a\u53c2\u6570\u5f53\u524d\u503c"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#_4","title":"\u5e38\u7528\u53c2\u6570\uff1a","text":"<ul> <li><code>complaints</code>\uff1a\u9650\u5236\u975e\u5e38\u89c4\u7b26\u53f7\u7684\u8b66\u544a\u6570\u91cf</li> <li><code>confirm</code>\uff1a\u542f\u7528/\u7981\u7528\u786e\u8ba4\u63d0\u793a</li> <li><code>editing</code>\uff1a\u542f\u7528/\u7981\u7528\u547d\u4ee4\u884c\u7f16\u8f91</li> <li><code>height</code>\uff1a\u8bbe\u7f6e\u663e\u793a\u6682\u505c\u7684\u884c\u6570</li> <li><code>language</code>\uff1a\u8bbe\u7f6e\u8868\u8fbe\u5f0f\u8bed\u8a00\uff08<code>auto</code>, <code>c</code>, <code>modula-2</code>\uff09</li> <li><code>listsize</code>\uff1a<code>list</code> \u547d\u4ee4\u663e\u793a\u7684\u884c\u6570</li> <li><code>prompt</code>\uff1a\u8bbe\u7f6e GDB \u63d0\u793a\u7b26</li> <li><code>radix</code>\uff1a\u6570\u5b57\u663e\u793a\u8fdb\u5236\uff088/10/16\uff09</li> <li><code>verbose</code>\uff1a\u52a0\u8f7d\u7b26\u53f7\u65f6\u662f\u5426\u663e\u793a\u8be6\u7ec6\u4fe1\u606f</li> <li><code>width</code>\uff1a\u884c\u6298\u53e0\u7684\u5b57\u7b26\u6570</li> <li><code>write</code>\uff1a\u662f\u5426\u5141\u8bb8\u4fee\u6539\u4e8c\u8fdb\u5236\u6216 core \u6587\u4ef6</li> </ul>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#_5","title":"\u5386\u53f2\u4e0e\u6253\u5370\u9009\u9879\uff1a","text":"<ul> <li><code>history ...</code>\uff1a\u63a7\u5236\u547d\u4ee4\u5386\u53f2\uff08\u6587\u4ef6\u3001\u5927\u5c0f\u3001\u4fdd\u5b58\u7b49\uff09</li> <li><code>print ...</code>\uff1a\u63a7\u5236\u8f93\u51fa\u683c\u5f0f\uff08\u5730\u5740\u3001\u6570\u7ec4\u3001C++ \u7b26\u53f7\u3001\u8054\u5408\u4f53\u7b49\uff09</li> </ul> \u5176\u4ed6\u547d\u4ee4 \u8bf4\u660e <code>show commands</code> \u663e\u793a\u6700\u8fd1 10 \u6761\u547d\u4ee4 <code>show commands n</code> \u663e\u793a\u56f4\u7ed5\u7b2c <code>n</code> \u6761\u7684 10 \u6761\u547d\u4ee4 <code>show commands +</code> \u663e\u793a\u4e0b 10 \u6761\u547d\u4ee4"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#working-files","title":"\u5de5\u4f5c\u6587\u4ef6\uff08Working Files\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>file [file]</code> \u8bbe\u7f6e\u53ef\u6267\u884c\u6587\u4ef6\u548c\u7b26\u53f7\u8868\uff08\u65e0\u53c2\u6570\u5219\u6e05\u7a7a\uff09 <code>core [file]</code> \u52a0\u8f7d core \u8f6c\u50a8\u6587\u4ef6 <code>exec [file]</code> \u4ec5\u8bbe\u7f6e\u53ef\u6267\u884c\u6587\u4ef6 <code>symbol [file]</code> \u4ec5\u8bbe\u7f6e\u7b26\u53f7\u8868 <code>load file</code> \u52a8\u6001\u94fe\u63a5\u6587\u4ef6\u5e76\u6dfb\u52a0\u5176\u7b26\u53f7 <code>add-sym file addr</code> \u4ece\u52a8\u6001\u52a0\u8f7d\u5230 <code>addr</code> \u7684\u6587\u4ef6\u4e2d\u52a0\u8f7d\u989d\u5916\u7b26\u53f7 <code>info files</code> \u663e\u793a\u5f53\u524d\u4f7f\u7528\u7684\u5de5\u4f5c\u6587\u4ef6\u548c\u76ee\u6807 <code>path dirs</code> \u5c06 <code>dirs</code> \u6dfb\u52a0\u5230\u53ef\u6267\u884c\u6587\u4ef6\u548c\u7b26\u53f7\u6587\u4ef6\u641c\u7d22\u8def\u5f84\u5f00\u5934 <code>show path</code> \u663e\u793a\u5f53\u524d\u641c\u7d22\u8def\u5f84 <code>info share</code> \u5217\u51fa\u5f53\u524d\u52a0\u8f7d\u7684\u5171\u4eab\u5e93"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#source-files","title":"\u6e90\u6587\u4ef6\uff08Source Files\uff09","text":"\u547d\u4ee4 \u8bf4\u660e <code>dir names</code> \u5c06\u76ee\u5f55 <code>names</code> \u6dfb\u52a0\u5230\u6e90\u7801\u641c\u7d22\u8def\u5f84\u5f00\u5934 <code>dir clear</code> \u6e05\u7a7a\u6e90\u7801\u8def\u5f84 <code>show dir</code> \u663e\u793a\u5f53\u524d\u6e90\u7801\u8def\u5f84 <code>list</code> \u663e\u793a\u63a5\u4e0b\u6765 10 \u884c\u6e90\u7801 <code>list -</code> \u663e\u793a\u524d 10 \u884c <code>list lines</code> \u663e\u793a\u6307\u5b9a\u4f4d\u7f6e\u5468\u56f4\u7684\u6e90\u7801\uff1a<code>[file:]num</code>\uff1a\u884c\u53f7<code>[file:]function</code>\uff1a\u51fd\u6570\u8d77\u59cb<code>+off</code> / <code>-off</code>\uff1a\u76f8\u5bf9\u504f\u79fb<code>*address</code>\uff1a\u5305\u542b\u8be5\u5730\u5740\u7684\u884c <code>list f,l</code> \u663e\u793a\u4ece\u884c <code>f</code> \u5230\u884c <code>l</code> \u7684\u6e90\u7801 <code>info line num</code> \u663e\u793a\u6e90\u7801\u884c <code>num</code> \u5bf9\u5e94\u7684\u7f16\u8bd1\u540e\u5730\u5740\u8303\u56f4 <code>info source</code> \u663e\u793a\u5f53\u524d\u6e90\u6587\u4ef6\u540d <code>info sources</code> \u5217\u51fa\u6240\u6709\u5df2\u4f7f\u7528\u7684\u6e90\u6587\u4ef6 <code>forw regex</code> \u5411\u540e\u641c\u7d22\u5339\u914d\u6b63\u5219\u7684\u6e90\u7801\u884c <code>rev regex</code> \u5411\u524d\u641c\u7d22\u5339\u914d\u6b63\u5219\u7684\u6e90\u7801\u884c"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#gnu-emacs-gdb","title":"\u5728 GNU Emacs \u4e2d\u4f7f\u7528 GDB","text":"\u547d\u4ee4 \u8bf4\u660e <code>M-x gdb</code> \u5728 Emacs \u4e2d\u542f\u52a8 GDB <code>C-h m</code> \u663e\u793a GDB \u6a21\u5f0f\u5e2e\u52a9 <code>M-s</code> \u5355\u6b65\uff08<code>step</code>\uff09 <code>M-n</code> \u4e0b\u4e00\u884c\uff08<code>next</code>\uff09 <code>M-i</code> \u5355\u6761\u6307\u4ee4\uff08<code>stepi</code>\uff09 <code>C-c C-f</code> \u5b8c\u6210\u5f53\u524d\u6808\u5e27\uff08<code>finish</code>\uff09 <code>M-c</code> \u7ee7\u7eed\uff08<code>continue</code>\uff09 <code>M-u</code> \u5411\u4e0a <code>arg</code> \u5e27\uff08<code>up</code>\uff09 <code>M-d</code> \u5411\u4e0b <code>arg</code> \u5e27\uff08<code>down</code>\uff09 <code>C-x &amp;</code> \u590d\u5236\u5149\u6807\u5904\u6570\u5b57\u5e76\u63d2\u5165\u5230\u547d\u4ee4\u672b\u5c3e <code>C-x SPC</code> \u5728\u6e90\u7801\u6587\u4ef6\u5149\u6807\u5904\u8bbe\u7f6e\u65ad\u70b9"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/GDB_CLI_Tutorial/#_6","title":"\u8bb8\u53ef\u4e0e\u62c5\u4fdd","text":"<ul> <li><code>show copying</code>\uff1a\u663e\u793a GNU GPL \u8bb8\u53ef\u8bc1\u5168\u6587  </li> <li><code>show warranty</code>\uff1a\u663e\u793a\u201cGDB \u4e0d\u63d0\u4f9b\u4efb\u4f55\u62c5\u4fdd\u201d\u58f0\u660e</li> </ul> <p>GDB \u662f\u81ea\u7531\u8f6f\u4ef6\uff0c\u6b22\u8fce\u5728 GNU GPL \u6761\u6b3e\u4e0b\u5206\u53d1\u3002 \u5bf9 GDB \u6709\u4efb\u4f55\u6539\u8fdb\u5efa\u8bae\uff0c\u8bf7\u53d1\u9001\u81f3\uff1a<code>bug-gdb@gnu.org</code></p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/","title":"\u5728 ROS2 \u4e2d\u4f7f\u7528 GDB\uff1a\u4e00\u4efd\u53c2\u8003\u6307\u5357","text":""},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#ros2-gdb","title":"\u5728 ROS2 \u4e2d\u4f7f\u7528 GDB\uff1a\u4e00\u4efd\u53c2\u8003\u6307\u5357","text":"<p>\u5173\u952e\u8bcd\uff1a#ros #ros2 #gdb #debugging</p> <p>\u81ea\u4ece\u6211\u5168\u804c\u8f6c\u5411 ROS2 \u5f00\u53d1\u81f3\u4eca\u5df2\u5c06\u8fd1\u4e00\u5e74\u3002\u5c31\u50cf\u6211\u4e4b\u524d\u5199\u7684\u90a3\u7bc7 \u5728 ROS1 \u4e2d\u4f7f\u7528 GDB\u7684\u6587\u7ae0\u4e00\u6837\uff0c\u6211\u5e0c\u671b\u4e3a\u81ea\u5df1\uff08\u4e5f\u53ef\u80fd\u4e3a\u5176\u4ed6\u4eba\uff09\u6574\u7406\u4e00\u4efd\u5173\u4e8e\u5728 ROS2 \u4e2d\u6784\u5efa\u9ad8\u6548\u8c03\u8bd5\u5de5\u4f5c\u6d41\u7684\u53c2\u8003\u6307\u5357\u3002\u4e0e ROS1 \u6307\u5357\u4e0d\u540c\uff0c\u672c\u6587\u5c06\u91cd\u70b9\u4ecb\u7ecd\u542f\u52a8\u6587\u4ef6\uff08launch files\uff09\u7684\u8c03\u8bd5\u65b9\u6cd5\uff0c\u56e0\u4e3a\u76ee\u524d\u5173\u4e8e ROS2 \u8c03\u8bd5\u7684\u4fe1\u606f\u76f8\u5bf9\u8f83\u5c11\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#1","title":"\u6b65\u9aa4 1\uff1a\u4f7f\u7528\u8c03\u8bd5\u6807\u5fd7\u7f16\u8bd1","text":"<pre><code>colcon build [flags] --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo\n</code></pre> <p>\u4f60\u4e0d\u9700\u8981\u4e3a\u6574\u4e2a\u5de5\u4f5c\u7a7a\u95f4\u542f\u7528\u8c03\u8bd5\u6807\u5fd7\uff0c\u53ea\u9700\u4e3a\u4f60\u8981\u8c03\u8bd5\u7684\u5305\u7f16\u8bd1\u5373\u53ef\u3002\u56e0\u6b64\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>--packages-select</code> \u4ec5\u7f16\u8bd1\u5355\u4e2a\u5305\uff1a</p> <pre><code>colcon build --packages-select [package_name] --cmake-args -DCMAKE_BUILD_TYPE=RelWithDebInfo\n</code></pre>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#2-gdb","title":"\u6b65\u9aa4 2\uff1a\u542f\u52a8\u5e26 GDB \u7684\u8282\u70b9","text":"<p>\u5c06 GDB \u9644\u52a0\u5230\u8fdb\u7a0b\u7684\u4e24\u79cd\u6700\u5e38\u89c1\u65b9\u6cd5\u662f\uff1a</p> <ul> <li>\u65b9\u5f0f 1\uff1a\u76f4\u63a5\u5728 GDB \u5185\u90e8\u6267\u884c\u8fdb\u7a0b  </li> <li>\u65b9\u5f0f 2\uff1a\u542f\u52a8\u4e00\u4e2a <code>gdbserver</code> \u5b9e\u4f8b\uff0c\u5e76\u5728\u53e6\u4e00\u4e2a\u7ec8\u7aef\u4e2d\u8fde\u63a5\u5b83  </li> </ul> <p>\u540e\u8005\u5728\u8fdc\u7a0b\u5f00\u53d1\u573a\u666f\u4e2d\u5c24\u5176\u6709\u7528\uff08\u4f8b\u5982\u65e0\u6cd5\u8f7b\u677e\u521b\u5efa\u65b0\u7ec8\u7aef\u4f1a\u8bdd\u65f6\uff09\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#1_1","title":"\u60c5\u51b5 1\uff1a\u72ec\u7acb\u542f\u52a8\u8282\u70b9","text":""},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#1-gdb","title":"\u65b9\u5f0f 1\uff1a\u901a\u8fc7 GDB \u76f4\u63a5\u542f\u52a8","text":"<pre><code>$ gdb\n(gdb) exec-file [workspace]/build/lib/[ros_package_name]/[node_name]\n(gdb) start\n</code></pre>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#2-ros2-run-gdbserver","title":"\u65b9\u5f0f 2\uff1a\u4f7f\u7528 <code>ros2 run</code> \u542f\u52a8\u5e76\u9644\u52a0 <code>gdbserver</code>","text":"<pre><code>$ ros2 run --prefix 'gdbserver localhost:3000' [package_name] [executable_name]\n</code></pre> <p>\u5728\u7b2c\u4e8c\u4e2a\u7ec8\u7aef\u4e2d\u8fde\u63a5\uff1a </p><pre><code>$ gdb\n(gdb) target remote localhost:3000\n</code></pre><p></p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#2-gdb_1","title":"\u60c5\u51b5 2\uff1a\u5728\u542f\u52a8\u6587\u4ef6\u4e2d\u914d\u7f6e GDB","text":"<p>\u4f60\u53ef\u4ee5\u5728\u542f\u52a8\u6587\u4ef6\u4e2d\u901a\u8fc7 <code>launch prefix</code> \u7684\u5f62\u5f0f\u542f\u52a8 GDB\uff0c\u8fd9\u6837\u8c03\u8bd5\u4f1a\u8bdd\u5c31\u6210\u4e3a\u6807\u51c6\u542f\u52a8\u6d41\u7a0b\u7684\u4e00\u90e8\u5206\u3002\u5f53\u4f60\u9700\u8981\u4e3a\u8282\u70b9\u8bbe\u7f6e\u5927\u91cf\u53c2\u6570\u65f6\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5c24\u5176\u65b9\u4fbf\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#python","title":"Python \u542f\u52a8\u6587\u4ef6","text":"<pre><code>your_node = Node(\n    package='package',\n    executable='executable',\n    name='name',\n    prefix=['gdbserver localhost:3000'],\n    output='screen')\n</code></pre>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#xml","title":"XML \u542f\u52a8\u6587\u4ef6","text":"<pre><code>&lt;launch&gt;\n  &lt;node pkg=\"pkg\" exec=\"node\" name=\"name\" launch-prefix=\"gdbserver localhost:3000\"&gt;\n  &lt;/node&gt;\n&lt;/launch&gt;\n</code></pre>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#_1","title":"\u542f\u52a8\u7ec8\u7aef\u7a97\u53e3","text":"<p>\u5982\u679c\u4f60\u4e0d\u60f3\u4f7f\u7528 <code>gdbserver</code>\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528\u7ec8\u7aef\u542f\u52a8 GDB\uff1a </p><pre><code>prefix=['xterm -e gdb -ex run --args']\n</code></pre> \uff08\u53ef\u5c06 <code>xterm</code> \u66ff\u6362\u4e3a\u4f60\u559c\u6b22\u7684\u7ec8\u7aef\uff09<p></p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#bashrc","title":"\u4f18\u5316\u5de5\u4f5c\u6d41\uff1a\u6dfb\u52a0\u4e00\u4e2a <code>.bashrc</code> \u51fd\u6570","text":"<p>\u5c06\u4ee5\u4e0b\u51fd\u6570\u6dfb\u52a0\u5230\u4f60\u7684 <code>~/.bashrc</code> \u4e2d\uff0c\u5373\u53ef\u901a\u8fc7\u7b80\u5355\u547d\u4ee4\u542f\u52a8 GDB \u8c03\u8bd5\uff1a</p> <pre><code>debug_node()\n{\n    # \u5728\u6307\u5b9a\u8282\u70b9\u4e0a\u542f\u52a8 GDB \u4f1a\u8bdd\n    # \u7528\u6cd5: debug_node {node_name}\n    local full_name=\"$(ros2 pkg executables | grep -i $*)\"\n    local node_name=$(echo \"$full_name\" | cut -d' ' -f2)\n    local pkg_name=$(echo \"$full_name\" | cut -d' ' -f1)\n    if [ -z \"$node_name\" ]\n    then\n        echo \"ERROR! \u627e\u4e0d\u5230\u8282\u70b9: $*\uff0c\u53ef\u7528\u9009\u9879\u5982\u4e0b\uff1a\"\n        ros2 pkg executables\n    else\n        local pkg_dir=$(ros2 pkg prefix $pkg_name)\n        gdb --args $pkg_dir/lib/$pkg_name/$node_name\n    fi\n}\n</code></pre> <p>\u4f7f\u7528\u65b9\u5f0f\uff1a </p><pre><code>$ debug_node your_node_name arg1 arg2\n</code></pre><p></p> <p>\u5982\u679c\u627e\u4e0d\u5230\u6307\u5b9a\u8282\u70b9\uff0c\u5b83\u8fd8\u4f1a\u5217\u51fa\u6240\u6709\u53ef\u7528\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4f9b\u4f60\u53c2\u8003\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#_2","title":"\u63a8\u8350\u5de5\u5177","text":""},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#gdb-dashboard","title":"GDB Dashboard","text":"<p>\u6beb\u65e0\u7591\u95ee\uff0c\u6211\u6700\u559c\u6b22\u7684 GDB \u6269\u5c55\u662f GDB Dashboard\u3002\u5b83\u4f1a\u5f7b\u5e95\u6539\u53d8\u4f60\u4f7f\u7528 GDB \u7684\u65b9\u5f0f\uff0c\u5f3a\u70c8\u63a8\u8350\uff01  \uff08\u56fe\u793a\uff1aGDB Dashboard \u754c\u9762\uff0c\u5305\u542b\u6e90\u7801\u3001\u5bc4\u5b58\u5668\u3001\u5806\u6808\u3001\u5185\u5b58\u7b49\u9762\u677f\uff09</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#beejs-gdb","title":"Beej\u2019s GDB \u5feb\u901f\u6307\u5357","text":"<p>\u518d\u6b21\u63a8\u8350\uff1aBeej\u2019s Quick Guide to GDB \u662f\u5b66\u4e60 GDB \u7684\u6700\u4f73\u5165\u95e8\u8d44\u6599\u3002\u5982\u679c\u4f60\u521a\u63a5\u89e6 GDB\uff0c\u5f3a\u70c8\u5efa\u8bae\u9605\u8bfb\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/ROS2_and_GDB/#_3","title":"\u7ed3\u8bed","text":"<p>\u672a\u6765\uff0c\u6211\u5e0c\u671b\u80fd\u5c1d\u8bd5\u4f7f\u7528 <code>rr</code>\uff08Record and Replay Debugger\uff09\u8fdb\u884c\u8c03\u8bd5\u3002\u6211\u542c\u5230\u7684\u5173\u4e8e\u5b83\u7684\u8bc4\u4ef7\u90fd\u975e\u5e38\u597d\u3002</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Using_GDB_to_debug_a_plugin/","title":"\u5982\u4f55\u4f7f\u7528 GDB \u8c03\u8bd5\u63d2\u4ef6\uff08How to Use GDB to Debug a Plugin\uff09","text":""},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Using_GDB_to_debug_a_plugin/#gdb-how-to-use-gdb-to-debug-a-plugin","title":"\u5982\u4f55\u4f7f\u7528 GDB \u8c03\u8bd5\u63d2\u4ef6\uff08How to Use GDB to Debug a Plugin\uff09","text":"<p>\u539f\u95ee\u9898\u53d1\u5e03\u65f6\u95f4\uff1a2012 \u5e74 6 \u6708 6 \u65e5 \u6d4f\u89c8\u91cf\uff1a2,000+ \u6b21</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Using_GDB_to_debug_a_plugin/#_1","title":"\u95ee\u9898\u63cf\u8ff0","text":"<p>\u6211\u6b63\u5728\u5c1d\u8bd5\u4f7f\u7528 GDB \u8c03\u8bd5\u4e00\u4e2a\u7a0b\u5e8f\u7684\u63d2\u4ef6\u3002\u4e4b\u524d\u770b\u5230\u4e00\u4e2a\u95ee\u9898\u63d0\u5230 GDB \u7684 <code>directory</code> \u547d\u4ee4\u53ef\u80fd\u6709\u5e2e\u52a9\u3002 \u5f53\u6211\u5c1d\u8bd5\u5728\u63d2\u4ef6\u4ee3\u7801\u4e2d\u8bbe\u7f6e\u65ad\u70b9\u65f6\uff0cGDB \u62a5\u9519\uff1a \u201cNo source file named...\u201d\uff08\u627e\u4e0d\u5230\u540d\u4e3a\u2026\u2026\u7684\u6e90\u6587\u4ef6\uff09\u3002</p> <p>\u6211\u5c1d\u8bd5\u4f7f\u7528 <code>directory</code> \u547d\u4ee4\u6307\u5b9a\u6e90\u4ee3\u7801\u8def\u5f84\uff0c\u4f46\u4f3c\u4e4e\u6ca1\u6709\u6548\u679c\u3002\u6709\u4ec0\u4e48\u89e3\u51b3\u529e\u6cd5\u5417\uff1f\u8c22\u8c22\uff01</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Using_GDB_to_debug_a_plugin/#_2","title":"\u6700\u4f73\u7b54\u6848","text":"<p>\u5f53\u4f60\u770b\u5230\u9519\u8bef\uff1a</p> <pre><code>No source file named...\n</code></pre> <p>\u8fd9\u610f\u5473\u7740 GDB \u8fd8\u65e0\u6cd5\u627e\u5230\u63d2\u4ef6\u7684\u6e90\u6587\u4ef6\u3002\u539f\u56e0\u901a\u5e38\u6709\u4e24\u4e2a\uff1a</p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Using_GDB_to_debug_a_plugin/#1","title":"1. \u63d2\u4ef6\u5c1a\u672a\u52a0\u8f7d","text":"<p>GDB \u53ea\u6709\u5728\u63d2\u4ef6\u88ab\u5b9e\u9645\u52a0\u8f7d\u5230\u76ee\u6807\u8fdb\u7a0b\uff08inferior process\uff09\u4e4b\u540e\uff0c\u624d\u80fd\u8bc6\u522b\u5176\u7b26\u53f7\u548c\u6e90\u6587\u4ef6\u3002</p> <p>\u2705 \u89e3\u51b3\u65b9\u6cd5\uff1a - \u542f\u52a8\u4e3b\u7a0b\u5e8f\u540e\uff0c\u5728 GDB \u4e2d\u8fd0\u884c\uff1a   </p><pre><code>(gdb) info shared\n</code></pre>   \u67e5\u770b\u4f60\u7684\u63d2\u4ef6\u662f\u5426\u5df2\u52a0\u8f7d\u3002 - \u5982\u679c\u5c1a\u672a\u52a0\u8f7d\uff0c\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a \u201c\u5ef6\u8fdf\u65ad\u70b9\u201d\uff08deferred breakpoint\uff09\u3002   GDB \u901a\u5e38\u4f1a\u63d0\u793a\u4f60\uff1a\u201c\u662f\u5426\u8981\u8bbe\u7f6e\u4e00\u4e2a\u5c06\u6765\u52a0\u8f7d\u65f6\u751f\u6548\u7684\u65ad\u70b9\uff1f\u201d\uff08\u524d\u63d0\u662f <code>set confirm on</code> \u4e3a\u9ed8\u8ba4\u5f00\u542f\u72b6\u6001\uff09\u3002<p></p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Using_GDB_to_debug_a_plugin/#2","title":"2. \u63d2\u4ef6\u672a\u5305\u542b\u8c03\u8bd5\u4fe1\u606f","text":"<p>\u5982\u679c <code>info shared</code> \u663e\u793a\u63d2\u4ef6\u5df2\u7ecf\u52a0\u8f7d\uff0c\u4f46\u4ecd\u7136\u65e0\u6cd5\u8bbe\u7f6e\u65ad\u70b9\uff0c\u8bf4\u660e\u8be5\u63d2\u4ef6\u7f16\u8bd1\u65f6\u672a\u5305\u542b\u8c03\u8bd5\u7b26\u53f7\u3002</p> <p>\u2705 \u89e3\u51b3\u65b9\u6cd5\uff1a - \u91cd\u65b0\u7f16\u8bd1\u63d2\u4ef6\uff0c\u6dfb\u52a0 <code>-g</code> \u7f16\u8bd1\u9009\u9879\uff1a   </p><pre><code>g++ -g -fPIC -shared -o my_plugin.so my_plugin.cpp\n</code></pre> - \u786e\u4fdd\u4f7f\u7528 Debug \u6a21\u5f0f \u6216\u81f3\u5c11\u5305\u542b\u8c03\u8bd5\u4fe1\u606f\uff08\u5982 <code>RelWithDebInfo</code>\uff09\u8fdb\u884c\u6784\u5efa\u3002<p></p>"},{"location":"ros2_control/Guidelines%20the%20Controller_Manager_and_Plugins/Using_GDB_to_debug_a_plugin/#_3","title":"\u8865\u5145\u5efa\u8bae","text":"<ul> <li>\u5373\u4f7f\u6307\u5b9a\u4e86\u6e90\u7801\u8def\u5f84\uff08<code>directory /path/to/source</code>\uff09\uff0c\u5982\u679c\u63d2\u4ef6\u672a\u52a0\u8f7d\u6216\u65e0\u8c03\u8bd5\u4fe1\u606f\uff0cGDB \u4f9d\u7136\u65e0\u6cd5\u8bbe\u7f6e\u65ad\u70b9\u3002</li> <li>\u5bf9\u4e8e\u52a8\u6001\u52a0\u8f7d\u7684\u63d2\u4ef6\uff08\u5982 <code>.so</code> \u6216 <code>.dll</code>\uff09\uff0cGDB \u53ea\u6709\u5728 <code>dlopen</code> \u88ab\u8c03\u7528\u540e\u624d\u80fd\u89e3\u6790\u5176\u7b26\u53f7\u8868\u3002</li> </ul> <p>\ud83d\udca1 \u63d0\u793a\uff1a\u5728 ROS 2 \u6216 <code>ros2_control</code> \u7b49\u6846\u67b6\u4e2d\u8c03\u8bd5\u63a7\u5236\u5668/\u786c\u4ef6\u63d2\u4ef6\u65f6\uff0c\u540c\u6837\u9002\u7528\u6b64\u539f\u5219\u2014\u2014\u5fc5\u987b\u7b49\u5f85\u63d2\u4ef6\u88ab <code>controller_manager</code> \u52a0\u8f7d\u540e\uff0c\u624d\u80fd\u5728\u5176\u4e2d\u8bbe\u7f6e\u6709\u6548\u65ad\u70b9\u3002</p> <p>\u539f\u6587\u94fe\u63a5(\u539f\u6587\u662fstack overflow\u4e0a\u7684\u4e00\u4e2a\u56de\u7b54,\u8fd9\u91cc\u7b14\u8005\u6574\u7406\u6210\u4e86markdown\u7684\u683c\u5f0f)</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Force_Torque_Sensor_Broadcaster/","title":"\u529b\u77e9\u4f20\u611f\u5668\u5e7f\u64ad\u5668","text":""},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Force_Torque_Sensor_Broadcaster/#force-torque-sensor-broadcaster","title":"Force Torque Sensor Broadcaster\uff08\u529b/\u529b\u77e9\u4f20\u611f\u5668\u5e7f\u64ad\u5668\uff09","text":"<p>\u8be5\u5e7f\u64ad\u5668\u7528\u4e8e\u53d1\u5e03\u6765\u81ea\u673a\u5668\u4eba\u6216\u4f20\u611f\u5668\u7684\u529b/\u529b\u77e9\u72b6\u6001\u63a5\u53e3\uff08force/torque state interfaces\uff09\u7684\u6d88\u606f\uff0c\u6d88\u606f\u7c7b\u578b\u4e3a <code>geometry_msgs/msg/WrenchStamped</code>\u3002</p> <p>\u8be5\u63a7\u5236\u5668\u662f <code>ForceTorqueSensor</code> \u8bed\u4e49\u7ec4\u4ef6\uff08semantic component\uff09\u7684\u5c01\u88c5\uff08\u8be6\u89c1 <code>controller_interface</code> \u8f6f\u4ef6\u5305\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Force_Torque_Sensor_Broadcaster/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u672c\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u53c2\u6570\u8bf4\u660e\u89c1 <code>src/</code> \u76ee\u5f55\u4e0b\u7684\u53c2\u6570\u5b9a\u4e49\u6587\u4ef6\u3002</p> <p>\u26a0\ufe0f \u6ce8\u610f\uff1a\u63a5\u53e3\u5b9a\u4e49\u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u4e0d\u53ef\u540c\u65f6\u4f7f\u7528\uff1a - \u4f7f\u7528 <code>sensor_name</code>\uff08\u81ea\u52a8\u63a8\u5bfc\u6807\u51c6\u63a5\u53e3\u540d\uff09 - \u4f7f\u7528 <code>interface_names</code>\uff08\u81ea\u5b9a\u4e49\u6bcf\u4e2a\u8f74\u7684\u63a5\u53e3\u540d\uff09</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Force_Torque_Sensor_Broadcaster/#_1","title":"\u5b8c\u6574\u53c2\u6570\u5217\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f <code>frame_id</code> <code>string</code> <code>\"\"</code> \u53d1\u5e03\u503c\u6240\u7528\u7684\u4f20\u611f\u5668\u5750\u6807\u7cfb\u540d\u79f0 \u975e\u7a7a"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Force_Torque_Sensor_Broadcaster/#6d-ft","title":"\u65b9\u5f0f\u4e00\uff1a\u901a\u8fc7\u4f20\u611f\u5668\u540d\u79f0\u81ea\u52a8\u63a8\u5bfc\u63a5\u53e3\uff08\u63a8\u8350\u7528\u4e8e\u6807\u51c6 6D F/T \u4f20\u611f\u5668\uff09","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>sensor_name</code> <code>\"\"</code> \u4f20\u611f\u5668\u540d\u79f0\uff0c\u4f5c\u4e3a\u63a5\u53e3\u524d\u7f00\u3002\u82e5\u4f7f\u7528\u6b64\u65b9\u5f0f\uff0c\u5c06\u81ea\u52a8\u91c7\u7528\u6807\u51c6 6D \u63a5\u53e3\u547d\u540d\uff1a<code>&lt;sensor_name&gt;/force.x</code>\u3001<code>&lt;sensor_name&gt;/force.y</code>\u3001\u2026\u3001<code>&lt;sensor_name&gt;/torque.z</code>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Force_Torque_Sensor_Broadcaster/#6","title":"\u65b9\u5f0f\u4e8c\uff1a\u81ea\u5b9a\u4e49\u63a5\u53e3\u540d\u79f0\uff08\u9002\u7528\u4e8e\u975e\u6807\u51c6\u547d\u540d\u6216\u5c11\u4e8e 6 \u8f74\u7684\u4f20\u611f\u5668\uff09","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>interface_names.force.x</code> <code>\"\"</code> X \u8f74\u529b\u7684\u72b6\u6001\u63a5\u53e3\u540d\u79f0 <code>interface_names.force.y</code> <code>\"\"</code> Y \u8f74\u529b\u7684\u72b6\u6001\u63a5\u53e3\u540d\u79f0 <code>interface_names.force.z</code> <code>\"\"</code> Z \u8f74\u529b\u7684\u72b6\u6001\u63a5\u53e3\u540d\u79f0 <code>interface_names.torque.x</code> <code>\"\"</code> \u7ed5 X \u8f74\u529b\u77e9\u7684\u72b6\u6001\u63a5\u53e3\u540d\u79f0 <code>interface_names.torque.y</code> <code>\"\"</code> \u7ed5 Y \u8f74\u529b\u77e9\u7684\u72b6\u6001\u63a5\u53e3\u540d\u79f0 <code>interface_names.torque.z</code> <code>\"\"</code> \u7ed5 Z \u8f74\u529b\u77e9\u7684\u72b6\u6001\u63a5\u53e3\u540d\u79f0 <p>\u2705 \u63d0\u793a\uff1a\u53ea\u9700\u5b9a\u4e49\u81f3\u5c11\u4e00\u4e2a <code>interface_names</code> \u4e0b\u7684\u63a5\u53e3\uff0c\u5373\u53ef\u542f\u7528\u81ea\u5b9a\u4e49\u6a21\u5f0f\u3002 \u6b64\u529f\u80fd\u652f\u6301\u5c11\u4e8e\u516d\u8f74\u7684\u529b\u4f20\u611f\u5668\uff08\u5982\u4ec5\u6d4b Z \u5411\u529b\u7684\u79f0\u91cd\u4f20\u611f\u5668\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Force_Torque_Sensor_Broadcaster/#_2","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":"<pre><code>test_force_torque_sensor_broadcaster:\n  ros__parameters:\n    frame_id: \"fts_sensor_frame\"\n</code></pre> <p>\ud83d\udcc1 \u5b8c\u6574\u793a\u4f8b\u4f4d\u4e8e\u63a7\u5236\u5668\u5305\u7684 <code>test/</code> \u76ee\u5f55\u4e2d\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/IMU_Broadcasters/","title":"\u60ef\u6027\u6d4b\u91cf\u5355\u5143(IMU)\u4f20\u611f\u5668\u5e7f\u64ad\u5668","text":""},{"location":"ros2_control/use_ros2_controllers/Broadcasters/IMU_Broadcasters/#imu-sensor-broadcasterimu","title":"IMU Sensor Broadcaster\uff08IMU \u4f20\u611f\u5668\u5e7f\u64ad\u5668\uff09","text":"<p>\u8be5\u5e7f\u64ad\u5668\u7528\u4e8e\u53d1\u5e03\u6765\u81ea IMU \u4f20\u611f\u5668\uff08\u60ef\u6027\u6d4b\u91cf\u5355\u5143\uff09\u7684\u72b6\u6001\u6570\u636e\uff0c\u53d1\u5e03\u6d88\u606f\u7c7b\u578b\u4e3a <code>sensor_msgs/msg/Imu</code>\u3002</p> <p>\u8be5\u63a7\u5236\u5668\u662f <code>IMUSensor</code> \u8bed\u4e49\u7ec4\u4ef6\uff08semantic component\uff09\u7684\u5c01\u88c5\uff08\u8be6\u89c1 <code>controller_interface</code> \u8f6f\u4ef6\u5305\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/IMU_Broadcasters/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u672c\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u53c2\u6570\u8bf4\u660e\u89c1 <code>src/</code> \u76ee\u5f55\u4e0b\u7684\u53c2\u6570\u5b9a\u4e49\u6587\u4ef6\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/IMU_Broadcasters/#_1","title":"\u53c2\u6570\u5217\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f <code>sensor_name</code> <code>string</code> <code>\"\"</code> \u4f20\u611f\u5668\u540d\u79f0\uff0c\u7528\u4f5c\u6240\u6709\u63a5\u53e3\u7684\u524d\u7f00\u3002\u81ea\u52a8\u751f\u6210\u7684\u6807\u51c6\u63a5\u53e3\u5305\u62ec\uff1a<code>&lt;sensor_name&gt;/orientation.x</code> \u5230 <code>.z</code><code>&lt;sensor_name&gt;/angular_velocity.x</code> \u5230 <code>.z</code><code>&lt;sensor_name&gt;/linear_acceleration.x</code> \u5230 <code>.z</code> \u975e\u7a7a <code>frame_id</code> <code>string</code> <code>\"\"</code> \u53d1\u5e03\u6570\u636e\u6240\u7528\u7684\u4f20\u611f\u5668\u5750\u6807\u7cfb\u540d\u79f0 \u975e\u7a7a"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/IMU_Broadcasters/#_2","title":"\u534f\u65b9\u5dee\u53c2\u6570\uff08\u9759\u6001\uff09","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f <code>static_covariance_orientation</code> <code>{0.0, ..., 0.0}</code>\uff089 \u4e2a\uff09 \u65b9\u5411\uff08\u56db\u5143\u6570\uff09\u534f\u65b9\u5dee\u77e9\u9635\uff08\u884c\u4f18\u5148\uff0c3\u00d73\uff09 \u957f\u5ea6\u5fc5\u987b\u4e3a 9 <code>static_covariance_angular_velocity</code> <code>{0.0, ..., 0.0}</code>\uff089 \u4e2a\uff09 \u89d2\u901f\u5ea6\u534f\u65b9\u5dee\u77e9\u9635\uff08\u884c\u4f18\u5148\uff0c3\u00d73\uff09 \u957f\u5ea6\u5fc5\u987b\u4e3a 9 <code>static_covariance_linear_acceleration</code> <code>{0.0, ..., 0.0}</code>\uff089 \u4e2a\uff09 \u7ebf\u52a0\u901f\u5ea6\u534f\u65b9\u5dee\u77e9\u9635\uff08\u884c\u4f18\u5148\uff0c3\u00d73\uff09 \u957f\u5ea6\u5fc5\u987b\u4e3a 9 <p>\ud83d\udca1 \u63d0\u793a\uff1a\u534f\u65b9\u5dee\u77e9\u9635\u6309\u884c\u5c55\u5f00\uff0c\u4f8b\u5982 <code>[\u03c3\u2093\u2093, \u03c3\u2093\u1d67, \u03c3\u2093_z, \u03c3\u1d67\u2093, ..., \u03c3_zz]</code>\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/IMU_Broadcasters/#_3","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":"<pre><code>test_imu_sensor_broadcaster:\n  ros__parameters:\n    sensor_name: \"imu_sensor\"\n    frame_id: \"imu_sensor_frame\"\n</code></pre> <p>\ud83d\udcc1 \u5b8c\u6574\u793a\u4f8b\u4f4d\u4e8e\u63a7\u5236\u5668\u5305\u7684 <code>test/</code> \u76ee\u5f55\u4e2d\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/","title":"\u5173\u8282\u72b6\u6001\u5e7f\u64ad\u5668","text":""},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#joint-state-broadcaster","title":"Joint State Broadcaster\uff08\u5173\u8282\u72b6\u6001\u5e7f\u64ad\u5668\uff09","text":"<p>\u8be5\u5e7f\u64ad\u5668\u8bfb\u53d6\u6240\u6709\u72b6\u6001\u63a5\u53e3\uff08state interfaces\uff09\uff0c\u5e76\u5c06\u6570\u636e\u53d1\u5e03\u5230\u4ee5\u4e0b\u4e24\u4e2a\u8bdd\u9898\uff1a - <code>/joint_states</code> - <code>/dynamic_joint_states</code></p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#commands","title":"\u547d\u4ee4\u63a5\u53e3\uff08Commands\uff09","text":"<p>\u5e7f\u64ad\u5668\u4e0d\u662f\u771f\u6b63\u7684\u63a7\u5236\u5668\uff0c\u56e0\u6b64\u4e0d\u63a5\u6536\u4efb\u4f55\u547d\u4ee4\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#hardware-interface-type","title":"\u786c\u4ef6\u63a5\u53e3\u7c7b\u578b\uff08Hardware Interface Type\uff09","text":"<ul> <li>\u9ed8\u8ba4\u884c\u4e3a\uff1a\u4f7f\u7528\u6240\u6709\u53ef\u7528\u7684\u5173\u8282\u72b6\u6001\u63a5\u53e3\u3002</li> <li>\u81ea\u5b9a\u4e49\u884c\u4e3a\uff1a\u82e5\u914d\u7f6e\u4e86 <code>joints</code> \u548c <code>interfaces</code> \u53c2\u6570\uff0c\u5219\u63a5\u53e3\u96c6\u5408\u7531\u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u7b1b\u5361\u5c14\u79ef\uff08cross-product\uff09\u51b3\u5b9a\u3002</li> <li>\u5bb9\u9519\u673a\u5236\uff1a</li> <li>\u82e5\u67d0\u4e9b\u8bf7\u6c42\u7684\u63a5\u53e3\u7f3a\u5931\uff0c\u63a7\u5236\u5668\u4f1a\u6253\u5370\u8b66\u544a\uff0c\u4f46\u4ecd\u4f1a\u5e7f\u64ad\u5176\u4ed6\u53ef\u7528\u63a5\u53e3\u3002</li> <li>\u82e5\u6240\u6709\u8bf7\u6c42\u7684\u63a5\u53e3\u5747\u672a\u5b9a\u4e49\uff0c\u63a7\u5236\u5668\u5728\u6fc0\u6d3b\u65f6\u5c06\u8fd4\u56de\u9519\u8bef\u3002</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#published-topics","title":"\u53d1\u5e03\u7684\u8bdd\u9898\uff08Published Topics\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#1-joint_statessensor_msgsmsgjointstate","title":"1. <code>/joint_states</code>\uff08<code>sensor_msgs/msg/JointState</code>\uff09","text":"<ul> <li>\u4ec5\u53d1\u5e03\u8fd0\u52a8\u76f8\u5173\u63a5\u53e3\uff1a<code>position</code>\u3001<code>velocity</code>\u3001<code>effort</code></li> <li>\u82e5\u67d0\u5173\u8282\u672a\u63d0\u4f9b\u67d0\u4e2a\u63a5\u53e3\uff0c\u5219\u8be5\u5b57\u6bb5\u5728\u6d88\u606f\u4e2d\u7559\u7a7a\uff08\u5bf9\u5e94\u4f4d\u7f6e\u8bbe\u4e3a 0 \u6216\u7701\u7565\uff09</li> <li>\u4e13\u4e3a\u517c\u5bb9\u73b0\u6709 ROS \u5de5\u5177\uff08\u5982 <code>robot_state_publisher</code>\u3001RViz\uff09\u8bbe\u8ba1</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#2-dynamic_joint_statescontrol_msgsmsgdynamicjointstate","title":"2. <code>/dynamic_joint_states</code>\uff08<code>control_msgs/msg/DynamicJointState</code>\uff09","text":"<ul> <li>\u53d1\u5e03\u6240\u6709\u53ef\u7528\u72b6\u6001\u63a5\u53e3\uff0c\u5305\u62ec\uff1a</li> <li>\u6807\u51c6\u8fd0\u52a8\u63a5\u53e3\uff08\u4f4d\u7f6e\u3001\u901f\u5ea6\u3001\u529b/\u529b\u77e9\uff09</li> <li>\u81ea\u5b9a\u4e49\u63a5\u53e3\uff08\u5982\u6e29\u5ea6\u3001\u7535\u538b\u3001\u626d\u77e9\u4f20\u611f\u5668\u8bfb\u6570\u3001\u6821\u51c6\u6807\u5fd7\u7b49\uff09</li> <li>\u6d88\u606f\u7ed3\u6784\u4e3a\u6bcf\u4e2a\u5173\u8282\u6620\u5c04\u5176\u63a5\u53e3\u540d\u79f0\u4e0e\u5bf9\u5e94\u503c</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#_1","title":"\u793a\u4f8b\u8f7d\u8377\uff1a","text":"<pre><code>joint_names: [joint1, joint2]\ninterface_values:\n  - interface_names: [position, velocity, effort]\n    values: [1.5708, 0.0, 0.20]\n  - interface_names: [position, temperature]\n    values: [0.7854, 42.1]\n</code></pre> <p>\u2705 \u4f7f\u7528\u5efa\u8bae\uff1a\u82e5\u9700\u8bbf\u95ee\u6240\u6709\u63a5\u53e3\uff08\u4e0d\u4ec5\u9650\u4e8e\u8fd0\u52a8\u91cf\uff09\uff0c\u8bf7\u8ba2\u9605\u6b64\u8bdd\u9898\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#_2","title":"\u547d\u540d\u7a7a\u95f4\u63a7\u5236\uff08\u6ce8\u610f\uff09","text":"<ul> <li>\u82e5 <code>use_local_topics = true</code>\uff1a   \u8bdd\u9898\u53d1\u5e03\u5728\u63a7\u5236\u5668\u547d\u540d\u7a7a\u95f4\u4e0b\uff0c\u5982\uff1a <code>/my_state_broadcaster/joint_states</code> <code>/my_state_broadcaster/dynamic_joint_states</code></li> <li>\u82e5 <code>use_local_topics = false</code>\uff08\u9ed8\u8ba4\uff09\uff1a   \u8bdd\u9898\u53d1\u5e03\u5728\u6839\u547d\u540d\u7a7a\u95f4\u4e0b\uff1a <code>/joint_states</code> <code>/dynamic_joint_states</code></li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u672c\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u8bf4\u660e\u89c1 <code>src/</code> \u76ee\u5f55\u4e0b\u7684\u53c2\u6570\u5b9a\u4e49\u6587\u4ef6\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#_3","title":"\u53c2\u6570\u5217\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e <code>use_local_topics</code> <code>bool</code> <code>false</code> \u662f\u5426\u5728\u63a7\u5236\u5668\u547d\u540d\u7a7a\u95f4\u5185\u53d1\u5e03\u8bdd\u9898 <code>joints</code> <code>string_array</code> <code>{}</code> \u6307\u5b9a\u8981\u5e7f\u64ad\u7684\u5173\u8282\u5217\u8868\uff08\u9700\u4e0e <code>interfaces</code> \u8054\u7528\uff09 <code>extra_joints</code> <code>string_array</code> <code>{}</code> \u989d\u5916\u6dfb\u52a0\u7684\u5173\u8282\u540d\uff0c\u5176\u72b6\u6001\u503c\u8bbe\u4e3a 0 <code>interfaces</code> <code>string_array</code> <code>{}</code> \u6307\u5b9a\u8981\u5e7f\u64ad\u7684\u63a5\u53e3\u7c7b\u578b\uff08\u9700\u4e0e <code>joints</code> \u8054\u7528\uff09 <p>\u26a0\ufe0f \u82e5 <code>joints</code> \u6216 <code>interfaces</code> \u4efb\u4e00\u4e3a\u7a7a\uff0c\u5219\u5e7f\u64ad\u6240\u6709\u53ef\u7528\u72b6\u6001\u63a5\u53e3\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#map_interface_to_joint_state","title":"\u63a5\u53e3\u6620\u5c04\uff08<code>map_interface_to_joint_state</code>\uff09","text":"<p>\u53ef\u9009\u6620\u5c04\uff0c\u7528\u4e8e\u5c06\u81ea\u5b9a\u4e49\u63a5\u53e3\u540d\u6620\u5c04\u5230 <code>JointState</code> \u6d88\u606f\u7684\u6807\u51c6\u5b57\u6bb5\uff08<code>position</code>/<code>velocity</code>/<code>effort</code>\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#_4","title":"\u5178\u578b\u7528\u4f8b\uff1a","text":"<ul> <li>\u6db2\u538b\u673a\u5668\u4eba\uff1a\u53cd\u9988\u503c\u4e0e\u547d\u4ee4\u503c\u5b58\u5728\u504f\u79fb\uff0c\u9700\u540c\u65f6\u53ef\u89c6\u5316\u4e24\u8005</li> <li>\u591a\u4f20\u611f\u5668\u878d\u5408\uff1a\u540c\u4e00\u5173\u8282\u6709\u591a\u4e2a\u6d4b\u91cf\u6e90\uff08\u5982\u7f16\u7801\u5668 + \u89c6\u89c9\uff09\uff0c\u503c\u7565\u6709\u5dee\u5f02</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#_5","title":"\u4f7f\u7528\u65b9\u5f0f\uff1a","text":"<ul> <li>\u542f\u52a8\u591a\u4e2a <code>joint_state_broadcaster</code> \u5b9e\u4f8b\uff0c\u6bcf\u4e2a\u5b9e\u4f8b\u6620\u5c04\u4e0d\u540c\u63a5\u53e3</li> <li>\u914d\u5408\u591a\u4e2a <code>robot_state_publisher</code>\uff0c\u5728 RViz \u4e2d\u540c\u65f6\u663e\u793a\u4e0d\u540c\u6570\u636e</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#_6","title":"\u793a\u4f8b\u914d\u7f6e\uff1a","text":"<pre><code>map_interface_to_joint_state:\n  position: kf_estimated_position\n\nmap_interface_to_joint_state:\n  velocity: derived_velocity\n  effort: derived_effort\n\nmap_interface_to_joint_state:\n  effort: torque_sensor\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#_7","title":"\u5b50\u53c2\u6570\uff1a","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>map_interface_to_joint_state.position</code> <code>\"position\"</code> \u6620\u5c04\u5230 <code>JointState.position</code> \u7684\u63a5\u53e3\u540d <code>map_interface_to_joint_state.velocity</code> <code>\"velocity\"</code> \u6620\u5c04\u5230 <code>JointState.velocity</code> \u7684\u63a5\u53e3\u540d <code>map_interface_to_joint_state.effort</code> <code>\"effort\"</code> \u6620\u5c04\u5230 <code>JointState.effort</code> \u7684\u63a5\u53e3\u540d"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#_8","title":"\u5176\u4ed6\u53c2\u6570","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>frame_id</code> <code>\"base_link\"</code> \u53d1\u5e03\u7684 <code>JointState</code> \u6d88\u606f\u4e2d\u4f7f\u7528\u7684 <code>frame_id</code>\uff0c\u7528\u4e8e RViz2 \u4e2d\u529b/\u529b\u77e9\u53ef\u89c6\u5316"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Joint_Broadcasters/#_9","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":"<pre><code>joint_state_broadcaster:\n  ros__parameters:\n    extra_joints: '{}'\n    frame_id: base_link\n    interfaces: '{}'\n    joints: '{}'\n    map_interface_to_joint_state:\n      effort: effort\n      position: position\n      velocity: velocity\n    use_local_topics: false\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Pose_Broadcaster/","title":"\u59ff\u6001\u5e7f\u64ad\u5668","text":""},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Pose_Broadcaster/#pose-broadcaster","title":"Pose Broadcaster\uff08\u4f4d\u59ff\u5e7f\u64ad\u5668\uff09","text":"<p>\u8be5\u5e7f\u64ad\u5668\u7528\u4e8e\u53d1\u5e03\u7531\u673a\u5668\u4eba\u6216\u4f20\u611f\u5668\u6d4b\u91cf\u7684\u4f4d\u59ff\uff08pose\uff09\uff0c\u6d88\u606f\u7c7b\u578b\u4e3a <code>geometry_msgs/msg/PoseStamped</code>\uff0c\u5e76\u53ef\u9009\u62e9\u6027\u5730\u53d1\u5e03\u4e3a TF \u53d8\u6362\u3002</p> <p>\u8be5\u63a7\u5236\u5668\u662f <code>PoseSensor</code> \u8bed\u4e49\u7ec4\u4ef6\uff08semantic component\uff09\u7684\u5c01\u88c5\uff08\u8be6\u89c1 <code>controller_interface</code> \u8f6f\u4ef6\u5305\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Pose_Broadcaster/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u672c\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u53c2\u6570\u8bf4\u660e\u89c1 <code>src/</code> \u76ee\u5f55\u4e0b\u7684\u53c2\u6570\u5b9a\u4e49\u6587\u4ef6\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Pose_Broadcaster/#_1","title":"\u53c2\u6570\u5217\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f <code>frame_id</code> <code>string</code> <code>\"\"</code> \u53d1\u5e03\u4f4d\u59ff\u6240\u7528\u7684\u7236\u5750\u6807\u7cfb\u540d\u79f0 \u975e\u7a7a <code>pose_name</code> <code>string</code> <code>\"\"</code> \u7528\u4f5c\u72b6\u6001\u63a5\u53e3\u524d\u7f00\u7684\u57fa\u7840\u540d\u79f0\u3002\u81ea\u52a8\u751f\u6210\u7684\u63a5\u53e3\u5305\u62ec\uff1a<code>&lt;pose_name&gt;/position.x</code> \u5230 <code>.z</code><code>&lt;pose_name&gt;/orientation.x</code> \u5230 <code>.w</code> \u975e\u7a7a"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Pose_Broadcaster/#tf","title":"TF \u53d1\u5e03\u53c2\u6570\uff08\u53ef\u9009\uff09","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f <code>tf.enable</code> <code>true</code> \u662f\u5426\u5c06\u4f4d\u59ff\u53d1\u5e03\u4e3a TF \u53d8\u6362 \u2014 <code>tf.child_frame_id</code> <code>\"\"</code> TF \u53d8\u6362\u7684\u5b50\u5750\u6807\u7cfb\u540d\u79f0\u3002\u82e5\u4e3a\u7a7a\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 <code>pose_name</code> \u2014 <code>tf.publish_rate</code> <code>0.0</code> TF \u53d1\u5e03\u9891\u7387\u9650\u5236\uff08Hz\uff09\u3002\u82e5\u8bbe\u4e3a <code>0</code>\uff0c\u5219\u4e0d\u9650\u5236\u53d1\u5e03\u901f\u7387 \u2265 0.0"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Pose_Broadcaster/#_2","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":"<pre><code>test_pose_broadcaster:\n  ros__parameters:\n    pose_name: \"test_pose\"\n    frame_id: \"pose_frame\"\n</code></pre> <p>\ud83d\udcc1 \u5b8c\u6574\u793a\u4f8b\u4f4d\u4e8e\u63a7\u5236\u5668\u5305\u7684 <code>test/</code> \u76ee\u5f55\u4e2d\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Range_Broadcasters/","title":"\u8ddd\u79bb\u4f20\u611f\u5668\u5e7f\u64ad\u5668","text":""},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Range_Broadcasters/#range-sensor-broadcaster","title":"Range Sensor Broadcaster\uff08\u8ddd\u79bb\u4f20\u611f\u5668\u5e7f\u64ad\u5668\uff09","text":"<p>\u8be5\u5e7f\u64ad\u5668\u7528\u4e8e\u53d1\u5e03\u6765\u81ea \u8ddd\u79bb\u4f20\u611f\u5668\uff08Range Sensor\uff09\u7684\u72b6\u6001\u6570\u636e\uff0c\u53d1\u5e03\u6d88\u606f\u7c7b\u578b\u4e3a <code>sensor_msgs/msg/Range</code>\u3002</p> <p>\u8be5\u63a7\u5236\u5668\u662f <code>RangeSensor</code> \u8bed\u4e49\u7ec4\u4ef6\uff08semantic component\uff09\u7684\u5c01\u88c5\uff08\u8be6\u89c1 <code>controller_interface</code> \u8f6f\u4ef6\u5305\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Range_Broadcasters/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u672c\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u53c2\u6570\u8bf4\u660e\u89c1 <code>src/</code> \u76ee\u5f55\u4e0b\u7684\u53c2\u6570\u5b9a\u4e49\u6587\u4ef6\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Range_Broadcasters/#_1","title":"\u53c2\u6570\u5217\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e <code>sensor_name</code> <code>string</code> <code>\"\"</code> \u4f20\u611f\u5668\u540d\u79f0\uff0c\u7528\u4f5c\u63a5\u53e3\u524d\u7f00\uff08\u82e5\u672a\u5355\u72ec\u5b9a\u4e49\u63a5\u53e3\u540d\uff09 <code>frame_id</code> <code>string</code> <code>\"\"</code> \u53d1\u5e03\u6570\u636e\u6240\u7528\u7684\u4f20\u611f\u5668\u5750\u6807\u7cfb\u540d\u79f0 <code>radiation_type</code> <code>int</code> <code>0</code> \u4f20\u611f\u5668\u4f7f\u7528\u7684\u8f90\u5c04\u7c7b\u578b\uff1a<code>0</code> = \u8d85\u58f0\u6ce2\uff08Ultrasonic\uff09<code>1</code> = \u7ea2\u5916\u7ebf\uff08Infrared\uff09 <code>field_of_view</code> <code>double</code> <code>0.52</code> \u6709\u6548\u6d4b\u8ddd\u7684\u5f27\u5ea6\u89d2\uff08\u5355\u4f4d\uff1a\u5f27\u5ea6\uff09 <code>min_range</code> <code>double</code> <code>0.52</code> \u6700\u5c0f\u6d4b\u8ddd\u8303\u56f4\uff08\u5355\u4f4d\uff1a\u7c73\uff09 <code>max_range</code> <code>double</code> <code>4.0</code> \u6700\u5927\u6d4b\u8ddd\u8303\u56f4\uff08\u5355\u4f4d\uff1a\u7c73\uff09"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Range_Broadcasters/#_2","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":""},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Range_Broadcasters/#_3","title":"\u57fa\u7840\u793a\u4f8b","text":"<pre><code>range_sensor_broadcaster:\n  ros__parameters:\n    field_of_view: 0.52\n    frame_id: ''\n    max_range: 4.0\n    min_range: 0.52\n    radiation_type: 0\n    sensor_name: ''\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/Range_Broadcasters/#test","title":"\u5b8c\u6574\u6d4b\u8bd5\u793a\u4f8b\uff08\u4f4d\u4e8e <code>test/</code> \u76ee\u5f55\uff09","text":"<pre><code>test_range_sensor_broadcaster:\n  ros__parameters:\n    # \u5fc5\u586b\u53c2\u6570\n    sensor_name: \"range_sensor\"\n    frame_id: \"range_sensor_frame\"\n\n    # \u8986\u76d6\u9ed8\u8ba4\u503c\u7684\u53c2\u6570\uff08\u7528\u4e8e\u9a8c\u8bc1\u914d\u7f6e\u751f\u6548\uff09\n    radiation_type: 1          # \u7ea2\u5916\n    field_of_view: 0.1         # 0.1 \u5f27\u5ea6\n    min_range: 0.10            # 10 \u5398\u7c73\n    max_range: 7.0             # 7 \u7c73\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Broadcasters/intro/","title":"\u5e7f\u64ad\u5668","text":""},{"location":"ros2_control/use_ros2_controllers/Broadcasters/intro/#_1","title":"\u5e7f\u64ad\u5668","text":"<p>\u5e7f\u64ad\u5668\u7528\u4e8e\u5c06\u786c\u4ef6\u7ec4\u4ef6\u7684\u4f20\u611f\u5668\u6570\u636e\u53d1\u5e03\u5230ROS\u8bdd\u9898\u4e2d\u3002\u5728ros2_control\u7684\u8bed\u5883\u4e0b\uff0c\u5e7f\u64ad\u5668\u4ecd\u7136\u662f\u63a7\u5236\u5668\uff0c\u4f7f\u7528\u4e0e\u5176\u4ed6\u63a7\u5236\u5668\u76f8\u540c\u7684\u63a7\u5236\u5668\u63a5\u53e3\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/","title":"\u5bfc\u7eb3\u63a7\u5236\u5668","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#admittance-controller","title":"Admittance Controller\uff08\u5bfc\u7eb3\u63a7\u5236\u5668\uff09","text":"<p>\u5bfc\u7eb3\u63a7\u5236\u5668\u4f7f\u60a8\u80fd\u591f\u57fa\u4e8e\u672b\u7aef\u6267\u884c\u5668\uff08TCP\uff09\uff0c\u5b9e\u73b0\u96f6\u529b\u63a7\u5236\uff08zero-force control\uff09\u3002</p> <p>\u8be5\u63a7\u5236\u5668\u5b9e\u73b0\u4e86 <code>ChainedControllerInterface</code>\uff0c\u56e0\u6b64\u53ef\u88ab\u5176\u4ed6\u63a7\u5236\u5668\u94fe\u5f0f\u8c03\u7528\uff08\u5982 <code>JointTrajectoryController</code>\uff09\u3002</p> <p>\u26a0\ufe0f \u4f9d\u8d56\u9879\uff1a\u63a7\u5236\u5668\u9700\u8981\u5916\u90e8\u8fd0\u52a8\u5b66\u63d2\u4ef6\u624d\u80fd\u8fd0\u884c\u3002 <code>kinematics_interface</code> \u4ed3\u5e93\u63d0\u4f9b\u4e86\u8be5\u63a7\u5236\u5668\u53ef\u4f7f\u7528\u7684\u63a5\u53e3\u4e0e\u5b9e\u73b0\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#ros-2","title":"ROS 2 \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#topics","title":"\u8bdd\u9898\uff08Topics\uff09","text":"<ul> <li><code>~/joint_references</code>\uff08\u8f93\u5165\uff09  </li> <li>\u7c7b\u578b\uff1a<code>trajectory_msgs/msg/JointTrajectoryPoint</code> </li> <li> <p>\u7528\u9014\uff1a\u975e\u94fe\u5f0f\u6a21\u5f0f\u4e0b\u7684\u76ee\u6807\u5173\u8282\u547d\u4ee4</p> </li> <li> <p><code>~/state</code>\uff08\u8f93\u51fa\uff09  </p> </li> <li>\u7c7b\u578b\uff1a<code>control_msgs/msg/AdmittanceControllerState</code> </li> <li>\u7528\u9014\uff1a\u53d1\u5e03\u63a7\u5236\u5668\u5185\u90e8\u72b6\u6001</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u672c\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u8bf4\u660e\u89c1 <code>src/</code> \u76ee\u5f55\u4e0b\u7684\u53c2\u6570\u5b9a\u4e49\u6587\u4ef6\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#_1","title":"\u5173\u8282\u4e0e\u63a5\u53e3\u914d\u7f6e","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e \u53ea\u8bfb <code>joints</code> <code>string_array</code> \u2014 \u63a7\u5236\u5668\u4f7f\u7528\u7684\u5173\u8282\u5217\u8868 \u2705 <code>command_joints</code> <code>string_array</code> <code>{}</code> \u7528\u4e8e\u5411\u4e0b\u6e38\u63a7\u5236\u5668\u5199\u5165\u53c2\u8003\u503c\u7684\u5173\u8282\uff08\u94fe\u5f0f\u6a21\u5f0f\u4e13\u7528\uff09 \u2705 <code>command_interfaces</code> <code>string_array</code> \u2014 \u63a7\u5236\u5668\u7533\u8bf7\u7684\u547d\u4ee4\u63a5\u53e3\uff08\u5982 <code>position</code>\u3001<code>velocity</code>\uff09 \u2705 <code>state_interfaces</code> <code>string_array</code> \u2014 \u63a7\u5236\u5668\u7533\u8bf7\u7684\u72b6\u6001\u63a5\u53e3 \u2705 <code>chainable_command_interfaces</code> <code>string_array</code> <code>{\"position\", \"velocity\"}</code> \u63a7\u5236\u5668\u5bfc\u51fa\u7684\u53c2\u8003\u63a5\u53e3\uff08\u4f9b\u4e0a\u6e38\u63a7\u5236\u5668\u4f7f\u7528\uff09 \u2705"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#_2","title":"\u8fd0\u52a8\u5b66\u63d2\u4ef6","text":"\u53c2\u6570 \u8bf4\u660e <code>kinematics.plugin_name</code> \u63d2\u4ef6\u7c7b\u540d\uff08\u5982 <code>kinematics_interface_kdl/KinematicsInterfaceKDL</code>\uff09 <code>kinematics.plugin_package</code> \u63d2\u4ef6\u6240\u5728\u5305\u540d <code>kinematics.base</code> \u673a\u5668\u4eba\u57fa\u5ea7\u8fde\u6746\uff08\u7528\u4e8e\u8fd0\u52a8\u5b66\u8ba1\u7b97\uff09 <code>kinematics.tip</code> \u672b\u7aef\u6267\u884c\u5668\u8fde\u6746 <code>kinematics.alpha</code> \u96c5\u53ef\u6bd4\u4f2a\u9006\u7684\u963b\u5c3c\u7cfb\u6570\uff08\u9ed8\u8ba4\uff1a<code>0.01</code>\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#_3","title":"\u529b/\u529b\u77e9\u4f20\u611f\u5668","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>ft_sensor.name</code> \u2014 URDF \u4e2d F/T \u4f20\u611f\u5668\u540d\u79f0 <code>ft_sensor.frame.id</code> \u2014 F/T \u4f20\u611f\u5668\u6240\u5728\u5750\u6807\u7cfb <code>ft_sensor.filter_coefficient</code> <code>0.05</code> \u4f20\u611f\u5668\u6307\u6570\u6ee4\u6ce2\u7cfb\u6570"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#_4","title":"\u63a7\u5236\u4e0e\u5750\u6807\u7cfb","text":"\u53c2\u6570 \u8bf4\u660e <code>control.frame.id</code> \u5bfc\u7eb3\u8ba1\u7b97\u6240\u7528\u7684\u63a7\u5236\u5750\u6807\u7cfb\uff08\u901a\u5e38\u4e3a <code>tool0</code>\uff09 <code>fixed_world_frame.frame.id</code> \u4e16\u754c\u5750\u6807\u7cfb\uff08\u91cd\u529b\u5fc5\u987b\u6cbf -Z \u65b9\u5411\uff09 <code>gravity_compensation.frame.id</code> \u91cd\u5fc3\uff08CoG\uff09\u5b9a\u4e49\u5750\u6807\u7cfb\uff08\u901a\u5e38\u4e3a F/T \u4f20\u611f\u5668\u5750\u6807\u7cfb\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#_5","title":"\u91cd\u529b\u8865\u507f","text":"\u53c2\u6570 \u7ea6\u675f \u8bf4\u660e <code>gravity_compensation.CoG.pos</code> \u957f\u5ea6 = 3 CoG \u5728\u8865\u507f\u5750\u6807\u7cfb\u4e2d\u7684\u4f4d\u7f6e <code>[x, y, z]</code> <code>gravity_compensation.CoG.force</code> \u2265 0.0 \u672b\u7aef\u6267\u884c\u5668\u91cd\u91cf\uff08<code>mass \u00d7 9.81</code>\uff0c\u9ed8\u8ba4 <code>0.0</code>\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#6","title":"\u5bfc\u7eb3\u53c2\u6570\uff086 \u81ea\u7531\u5ea6\uff09","text":"\u53c2\u6570 \u7ea6\u675f \u8bf4\u660e <code>admittance.selected_axes</code> \u957f\u5ea6 = 6 \u662f\u5426\u542f\u7528\u5404\u8f74\uff08<code>[x, y, z, rx, ry, rz]</code>\uff09 <code>admittance.mass</code> \u957f\u5ea6 = 6\u6bcf\u4e2a \u2265 0.0001 \u5404\u8f74\u8d28\u91cf <code>admittance.damping_ratio</code> \u957f\u5ea6 = 6 \u5404\u8f74\u963b\u5c3c\u6bd4\uff08\\( \\zeta = D / (2 \\sqrt{M S}) \\)\uff09 <code>admittance.stiffness</code> \u957f\u5ea6 = 6\u6bcf\u4e2a \u2265 0.0 \u5404\u8f74\u521a\u5ea6 <code>admittance.joint_damping</code> \u2265 0.0 \u5173\u8282\u963b\u5c3c\uff08\u9ed8\u8ba4 <code>5.0</code>\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#_6","title":"\u5176\u4ed6","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e \u53ea\u8bfb <code>robot_description</code> \u2014 URDF \u683c\u5f0f\u7684\u673a\u5668\u4eba\u63cf\u8ff0\uff08\u7528\u4e8e\u8fd0\u52a8\u5b66\uff09 \u2705 <code>enable_parameter_update_without_reactivation</code> <code>true</code> \u662f\u5426\u5141\u8bb8\u8fd0\u884c\u65f6\u52a8\u6001\u66f4\u65b0\u53c2\u6570 \u2014"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#_7","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#_8","title":"\u6700\u5c0f\u914d\u7f6e\uff08\u4ec5\u52a0\u8f7d\uff09","text":"<pre><code>load_admittance_controller:\n  ros__parameters:\n    joints: [joint1, joint2]\n    command_interfaces: [velocity]\n    state_interfaces: [position, velocity]\n    chainable_command_interfaces: [position, velocity]\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#kuka-kr6","title":"\u5b8c\u6574\u914d\u7f6e\uff08KUKA KR6 \u793a\u4f8b\uff09","text":"<pre><code>test_admittance_controller:\n  ros__parameters:\n    joints: [joint1, joint2, joint3, joint4, joint5, joint6]\n    command_interfaces: [position]\n    state_interfaces: [position]\n    chainable_command_interfaces: [position, velocity]\n\n    kinematics:\n      plugin_name: kinematics_interface_kdl/KinematicsInterfaceKDL\n      plugin_package: kinematics_interface\n      base: base_link\n      tip: tool0\n      alpha: 0.0005\n\n    ft_sensor:\n      name: ft_sensor_name\n      frame:\n        id: link_6\n        external: false\n      filter_coefficient: 0.005\n\n    control:\n      frame:\n        id: tool0\n        external: false\n\n    fixed_world_frame:\n      frame:\n        id: base_link\n        external: false\n\n    gravity_compensation:\n      frame:\n        id: tool0\n        external: false\n      CoG:\n        pos: [0.1, 0.0, 0.0]  # x, y, z\n        force: 23.0            # \u91cd\u91cf\n\n    admittance:\n      selected_axes: [true, true, true, true, true, true]\n      mass: [5.5, 6.6, 7.7, 8.8, 9.9, 10.10]\n      damping_ratio: [2.828427, 2.828427, 2.828427, 2.828427, 2.828427, 2.828427]\n      stiffness: [214.1, 214.2, 214.3, 214.4, 214.5, 214.6]\n</code></pre> <p>\ud83d\udcc1 \u793a\u4f8b\u4f4d\u4e8e <code>test/</code> \u76ee\u5f55\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#ros2_control","title":"ros2_control \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#references","title":"\u53c2\u8003\u63a5\u53e3\uff08References\uff0c\u4f9b\u4e0a\u6e38\u63a7\u5236\u5668\u4f7f\u7528\uff09","text":"<pre><code>&lt;controller_name&gt;/&lt;joint_name&gt;/position\n&lt;controller_name&gt;/&lt;joint_name&gt;/velocity\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#states","title":"\u72b6\u6001\u63a5\u53e3\uff08States\uff09","text":"<ul> <li>\u683c\u5f0f\uff1a<code>&lt;joint&gt;/&lt;state_interface&gt;</code></li> <li>\u652f\u6301\uff1a<code>position</code>\u3001<code>velocity</code>\u3001<code>acceleration</code></li> <li>\u82e5\u67d0\u72b6\u6001\u63a5\u53e3\u672a\u63d0\u4f9b\uff0c\u5219\u4f7f\u7528\u4e0a\u4e00\u5468\u671f\u7684\u547d\u4ee4\u503c\u8fdb\u884c\u8ba1\u7b97</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#_9","title":"\u529b/\u529b\u77e9\u63a5\u53e3\uff08\u901a\u8fc7\u8bed\u4e49\u7ec4\u4ef6\uff09","text":"<ul> <li>\u57fa\u4e8e <code>ft_sensor.name</code> \u6784\u5efa\uff1a   <pre><code>&lt;sensor_name&gt;/force.x\n&lt;sensor_name&gt;/force.y\n&lt;sensor_name&gt;/force.z\n&lt;sensor_name&gt;/torque.x\n&lt;sensor_name&gt;/torque.y\n&lt;sensor_name&gt;/torque.z\n</code></pre></li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Admittance/#commands","title":"\u547d\u4ee4\u63a5\u53e3\uff08Commands\uff09","text":"<ul> <li>\u683c\u5f0f\uff1a<code>&lt;joint&gt;/&lt;command_interface&gt;</code></li> <li>\u652f\u6301\uff1a<code>position</code>\u3001<code>velocity</code>\u3001<code>acceleration</code>\uff08\u5b9a\u4e49\u89c1 <code>hardware_interface_type_values.hpp</code>\uff09</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Effort/","title":"\u529b\u63a7\u5236\u5668","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Effort/#effort_controllers","title":"effort_controllers\uff08\u529b\u63a7\u5236\u5668\uff09","text":"<p><code>effort_controllers</code> \u662f\u4e00\u7ec4\u4f7f\u7528 \u201ceffort\u201d\uff08\u529b/\u529b\u77e9\uff09\u5173\u8282\u547d\u4ee4\u63a5\u53e3\u7684\u63a7\u5236\u5668\u3002 \u8fd9\u4e9b\u63a7\u5236\u5668\u5728\u63a7\u5236\u5668\u5c42\u7ea7\u53ef\u63a5\u53d7\u4e0d\u540c\u7c7b\u578b\u7684\u5173\u8282\u7ea7\u547d\u4ee4\uff0c\u4f8b\u5982\uff1a\u901a\u8fc7\u63a7\u5236\u67d0\u5173\u8282\u7684\u8f93\u51fa\u529b\u6765\u5b9e\u73b0\u76ee\u6807\u4f4d\u7f6e\u3002</p> <p>\u8be5\u8f6f\u4ef6\u5305\u5305\u542b\u4ee5\u4e0b\u63a7\u5236\u5668\uff1a</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Effort/#effort_controllersjointgroupeffortcontroller","title":"<code>effort_controllers/JointGroupEffortController</code>","text":"<p>\u8fd9\u662f <code>forward_command_controller</code> \u7684\u4e00\u4e2a\u7279\u5316\u7248\u672c\uff0c\u4e13\u4e3a\u4f7f\u7528 \u201ceffort\u201d \u5173\u8282\u63a5\u53e3\u800c\u8bbe\u8ba1\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Effort/#ros-2","title":"ROS 2 \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Effort/#topics","title":"\u8bdd\u9898\uff08Topics\uff09","text":"<ul> <li><code>~/commands</code>\uff08\u8f93\u5165\uff09  </li> <li>\u7c7b\u578b\uff1a<code>std_msgs/msg/Float64MultiArray</code> </li> <li>\u7528\u9014\uff1a\u5173\u8282\u529b/\u529b\u77e9\u547d\u4ee4\u6570\u7ec4</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Effort/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u8be5\u63a7\u5236\u5668\u8986\u76d6\u4e86 <code>forward_command_controller</code> \u7684 <code>interface</code> \u53c2\u6570\uff0c \u552f\u4e00\u5fc5\u9700\u7684\u53c2\u6570\u662f <code>joints</code>\uff08\u5173\u8282\u540d\u79f0\u5217\u8868\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Effort/#_1","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":"<pre><code>controller_manager:\n  ros__parameters:\n    update_rate: 100  # Hz\n\n    effort_controller:\n      type: effort_controllers/JointGroupEffortController\n\neffort_controller:\n  ros__parameters:\n    joints:\n      - slider_to_cart\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Forward_Command/","title":"\u524d\u9988\u547d\u4ee4\u63a7\u5236\u5668","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Forward_Command/#forward_command_controller","title":"forward_command_controller\uff08\u524d\u9988\u547d\u4ee4\u63a7\u5236\u5668\uff09","text":"<p><code>forward_command_controller</code> \u662f\u4e00\u4e2a\u5b9e\u73b0\u524d\u9988\u63a7\u5236\u5668\uff08feedforward controller\uff09\u7684\u57fa\u7c7b\u3002 \u5176\u5177\u4f53\u5b9e\u73b0\u53ef\u5728\u4ee5\u4e0b\u8f6f\u4ef6\u5305\u4e2d\u627e\u5230\uff1a</p> <ul> <li><code>position_controllers</code></li> <li><code>velocity_controllers</code></li> <li><code>effort_controllers</code></li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Forward_Command/#hardware-interface-type","title":"\u786c\u4ef6\u63a5\u53e3\u7c7b\u578b\uff08Hardware interface type\uff09","text":"<p>\u8be5\u63a7\u5236\u5668\u652f\u6301\u4efb\u610f\u7c7b\u578b\u7684\u547d\u4ee4\u63a5\u53e3\uff08\u5982 position\u3001velocity\u3001effort \u7b49\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Forward_Command/#ros-2","title":"ROS 2 \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Forward_Command/#topics","title":"\u8bdd\u9898\uff08Topics\uff09","text":"<ul> <li><code>~/commands</code>\uff08\u8f93\u5165\uff09  </li> <li>\u7c7b\u578b\uff1a<code>std_msgs/msg/Float64MultiArray</code> </li> <li>\u7528\u9014\uff1a\u76ee\u6807\u5173\u8282\u547d\u4ee4\u6570\u7ec4</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Forward_Command/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u672c\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002</p> <p>\u26a0\ufe0f \u6ce8\u610f\uff1a\u5b58\u5728\u4e24\u4e2a\u76f8\u5173\u63a7\u5236\u5668\uff1a - <code>forward_command_controller</code> - <code>multi_interface_forward_command_controller</code></p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Forward_Command/#_1","title":"\u516c\u5171\u53c2\u6570","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e <code>joints</code> <code>string_array</code> <code>{}</code> \u8981\u63a7\u5236\u7684\u5173\u8282\u540d\u79f0\u5217\u8868 <code>interface_name</code> <code>string</code> <code>\"\"</code> \u8981\u547d\u4ee4\u7684\u63a5\u53e3\u540d\u79f0\uff08\u5982 <code>\"position\"</code>\u3001<code>\"velocity\"</code> \u7b49\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/","title":"GPIO\u547d\u4ee4\u63a7\u5236","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/#gpio_controllersgpio","title":"gpio_controllers\uff08GPIO \u63a7\u5236\u5668\uff09","text":"<p><code>gpio_controllers</code> \u662f\u4e00\u7ec4\u7528\u4e8e\u7ba1\u7406 GPIO \u7c7b\u578b\u786c\u4ef6\u63a5\u53e3\uff08URDF \u4e2d\u901a\u8fc7 <code>&lt;gpio&gt;</code> \u6807\u7b7e\u5b9a\u4e49\uff09\u7684\u63a7\u5236\u5668\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/#gpio_command_controller","title":"<code>gpio_command_controller</code>","text":"<p><code>gpio_command_controller</code> \u5141\u8bb8\u7528\u6237\uff1a - \u66b4\u9732\u6307\u5b9a GPIO \u63a5\u53e3\u7684\u547d\u4ee4\u63a5\u53e3 - \u53d1\u5e03\u5df2\u914d\u7f6e\u547d\u4ee4\u63a5\u53e3\u5bf9\u5e94\u7684\u72b6\u6001\u63a5\u53e3</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/#_1","title":"\u63a7\u5236\u5668\u63a5\u53e3\u8bf4\u660e","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/#publishers","title":"\u53d1\u5e03\u8005\uff08Publishers\uff09","text":"<ul> <li><code>/&lt;controller_name&gt;/gpio_states</code>\uff08<code>control_msgs/msg/DynamicJointState</code>\uff09   \u53d1\u5e03\u6240\u6709\u5df2\u914d\u7f6e\u7684 GPIO \u72b6\u6001\u63a5\u53e3\u6570\u636e\u3002</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/#subscribers","title":"\u8ba2\u9605\u8005\uff08Subscribers\uff09","text":"<ul> <li><code>/&lt;controller_name&gt;/commands</code>\uff08<code>control_msgs/msg/DynamicJointState</code>\uff09   \u63a5\u6536\u9488\u5bf9\u5df2\u914d\u7f6e\u547d\u4ee4\u63a5\u53e3\u7684\u63a7\u5236\u6307\u4ee4\u3002</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u672c\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u8bf4\u660e\u89c1 <code>src/</code> \u76ee\u5f55\u4e0b\u7684\u53c2\u6570\u5b9a\u4e49\u6587\u4ef6\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/#_2","title":"\u6838\u5fc3\u53c2\u6570","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f \u53ea\u8bfb <code>gpios</code> <code>string_array</code> \u2014 GPIO \u540d\u79f0\u5217\u8868 \u957f\u5ea6 &gt; 0\u3001\u65e0\u91cd\u590d \u2705"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/#gpio","title":"\u63a5\u53e3\u914d\u7f6e\uff08\u6309 GPIO \u5206\u7ec4\uff09","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f \u53ea\u8bfb <code>command_interfaces.&lt;gpio&gt;.interfaces</code> <code>{}</code> \u8be5 GPIO \u7684\u547d\u4ee4\u63a5\u53e3\u5217\u8868 \u65e0\u91cd\u590d \u2705 <code>state_interfaces.&lt;gpio&gt;.interfaces</code> <code>{}</code> \u8be5 GPIO \u7684\u72b6\u6001\u63a5\u53e3\u5217\u8868\u3002\u82e5\u4e3a\u7a7a\uff0c\u5219\u4f7f\u7528\u8be5 GPIO \u6240\u6709\u53ef\u7528\u72b6\u6001\u63a5\u53e3 \u65e0\u91cd\u590d \u2705 <p>\u26a0\ufe0f \u521d\u59cb\u5316\u8981\u6c42\uff1a - \u5fc5\u987b\u81f3\u5c11\u4e3a\u4e00\u4e2a GPIO \u914d\u7f6e\u547d\u4ee4\u63a5\u53e3\u6216\u72b6\u6001\u63a5\u53e3 - \u82e5\u53c2\u6570\u6587\u4ef6\u4e2d\u65e2\u672a\u63d0\u4f9b\u547d\u4ee4\u4e5f\u672a\u63d0\u4f9b\u72b6\u6001\u63a5\u53e3\uff0c\u63a7\u5236\u5668\u5c06\u5728\u521d\u59cb\u5316\u65f6\u5931\u8d25</p> <p>\ud83d\udccc \u884c\u4e3a\u8bf4\u660e\uff1a - \u82e5\u672a\u914d\u7f6e\u547d\u4ee4\u63a5\u53e3\uff0c\u63a7\u5236\u5668\u9000\u5316\u4e3a \u5e7f\u64ad\u5668\uff08broadcaster\uff09\uff0c\u4ec5\u53d1\u5e03\u72b6\u6001 - \u82e5\u672a\u914d\u7f6e\u72b6\u6001\u63a5\u53e3\uff0c\u5219\u4e0d\u53d1\u5e03\u8be5 GPIO \u7684\u72b6\u6001</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/#_3","title":"\u793a\u4f8b\u914d\u7f6e","text":"<pre><code>gpio_command_controller:\n  ros__parameters:\n    type: gpio_controllers/GpioCommandController\n    gpios:\n      - Gpio1\n      - Gpio2\n    command_interfaces:\n      Gpio1:\n        interfaces:\n          - dig.1\n          - dig.2\n          - dig.3\n      Gpio2:\n        interfaces:\n          - ana.1\n          - ana.2\n    state_interfaces:\n      Gpio2:\n        interfaces:\n          - ana.1\n          - ana.2\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gpio_Command/#_4","title":"\u884c\u4e3a\u8bf4\u660e","text":"<ul> <li>\u63a7\u5236\u5668\u5c06\u63a5\u6536\u6240\u6709 GPIO \u7684\u547d\u4ee4\uff08Gpio1 \u7684 3 \u4e2a\u6570\u5b57\u63a5\u53e3 + Gpio2 \u7684 2 \u4e2a\u6a21\u62df\u63a5\u53e3\uff09</li> <li>\u4ec5\u53d1\u5e03 Gpio2 \u7684\u72b6\u6001\uff08<code>ana.1</code> \u548c <code>ana.2</code>\uff09  </li> <li>Gpio1 \u7684\u72b6\u6001\u4e0d\u4f1a\u88ab\u53d1\u5e03\uff08\u56e0\u5176 <code>state_interfaces</code> \u672a\u914d\u7f6e\uff09</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gripper/","title":"\u5939\u722a\u63a7\u5236\u5668","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gripper/#gripper-action-controller","title":"Gripper Action Controller\uff08\u5939\u722a\u52a8\u4f5c\u63a7\u5236\u5668\uff09","text":"<p>\u8be5\u63a7\u5236\u5668\u7528\u4e8e\u6267\u884c\u7b80\u5355\u5355\u81ea\u7531\u5ea6\u5939\u722a\uff08single-DOF gripper\uff09\u7684 <code>GripperCommand</code> \u52a8\u4f5c\uff0c\u63d0\u4f9b\u4e24\u79cd\u5b9e\u73b0\uff1a</p> <ul> <li><code>position_controllers/GripperActionController</code> </li> <li><code>effort_controllers/GripperActionController</code></li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gripper/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u672c\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u53c2\u6570\u8bf4\u660e\u89c1 <code>src/</code> \u76ee\u5f55\u4e0b\u7684\u53c2\u6570\u5b9a\u4e49\u6587\u4ef6\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gripper/#_1","title":"\u53c2\u6570\u5217\u8868","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f <code>action_monitor_rate</code> <code>double</code> <code>20.0</code> \u52a8\u4f5c\u76d1\u63a7\u9891\u7387\uff08Hz\uff09 \u2265 0.1 <code>joint</code> <code>string</code> <code>\"\"</code> \u5939\u722a\u5173\u8282\u540d\u79f0 \u2014 <code>goal_tolerance</code> <code>double</code> <code>0.01</code> \u76ee\u6807\u4f4d\u7f6e\u5bb9\u5dee\uff08\u5355\u4f4d\uff1a\u5f27\u5ea6\u6216\u7c73\uff09 \u2265 0.0 <code>max_effort</code> <code>double</code> <code>0.0</code> \u5141\u8bb8\u7684\u6700\u5927\u529b/\u529b\u77e9 \u2265 0.0 <code>allow_stalling</code> <code>bool</code> <code>false</code> \u82e5\u542f\u7528\uff0c\u5f53\u5939\u722a\u5728\u8fd0\u52a8\u4e2d\u5361\u4f4f\uff08stall\uff09\uff0c\u52a8\u4f5c\u670d\u52a1\u5668\u4ecd\u8fd4\u56de \u6210\u529f \u2014 <code>stall_velocity_threshold</code> <code>double</code> <code>0.001</code> \u5224\u5b9a\u5361\u4f4f\u7684\u901f\u5ea6\u9608\u503c\uff08\u4f4e\u4e8e\u6b64\u503c\u89c6\u4e3a\u505c\u6ede\uff09 \u2014 <code>stall_timeout</code> <code>double</code> <code>1.0</code> \u5361\u4f4f\u5224\u5b9a\u7684\u8d85\u65f6\u65f6\u95f4\uff08\u79d2\uff09 \u2014"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Gripper/#_2","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":"<pre><code>gripper_action_controller:\n  ros__parameters:\n    action_monitor_rate: 20.0\n    allow_stalling: false\n    goal_tolerance: 0.01\n    joint: ''\n    max_effort: 0.0\n    stall_timeout: 1.0\n    stall_velocity_threshold: 0.001\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/","title":"\u5173\u8282\u8f68\u8ff9\u63a7\u5236","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#joint-trajectory-controller","title":"Joint Trajectory Controller\uff08\u5173\u8282\u8f68\u8ff9\u63a7\u5236\u5668\uff09","text":"<p>\u7528\u4e8e\u5728\u4e00\u7ec4\u5173\u8282\u4e0a\u6267\u884c\u5173\u8282\u7a7a\u95f4\u8f68\u8ff9\u7684\u63a7\u5236\u5668\u3002 \u63a7\u5236\u5668\u4f1a\u5bf9\u8f68\u8ff9\u70b9\u8fdb\u884c\u65f6\u95f4\u63d2\u503c\uff0c\u56e0\u6b64\u70b9\u4e0e\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u53ef\u4ee5\u4efb\u610f\u3002\u5373\u4f7f\u8f68\u8ff9\u4ec5\u5305\u542b\u4e00\u4e2a\u70b9\uff0c\u63a7\u5236\u5668\u4e5f\u80fd\u63a5\u53d7\u3002</p> <p>\u8f68\u8ff9\u7531\u4e00\u7cfb\u5217\u8def\u5f84\u70b9\uff08waypoints\uff09\u7ec4\u6210\uff0c\u6bcf\u4e2a\u8def\u5f84\u70b9\u5305\u542b\uff1a - \u4f4d\u7f6e\uff08\u5fc5\u9009\uff09 - \u901f\u5ea6\uff08\u53ef\u9009\uff09 - \u52a0\u901f\u5ea6\uff08\u53ef\u9009\uff09</p> <p>\u8fd9\u4e9b\u8def\u5f84\u70b9\u9700\u5728\u6307\u5b9a\u65f6\u95f4\u5230\u8fbe\uff0c\u63a7\u5236\u5668\u4f1a\u5c3d\u5176\u6240\u80fd\u5730\u6267\u884c\u8be5\u8f68\u8ff9\u3002</p> <p>\ud83d\udcdd \u672c\u90e8\u5206\u5185\u5bb9\u90e8\u5206\u6e90\u81ea ROS 1 Wiki\uff08CC BY 3.0 \u8bb8\u53ef\uff09\uff0c\u5df2\u6839\u636e ROS 2 \u5b9e\u73b0\u8fdb\u884c\u9002\u914d\u3002 \u5f15\u7528\u6765\u6e90\uff1aAdolfo Rodriguez: <code>joint_trajectory_controller</code> <sup>1</sup></p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#hardware-interface-types","title":"\u786c\u4ef6\u63a5\u53e3\u7c7b\u578b\uff08Hardware Interface Types\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#_1","title":"\u652f\u6301\u7684\u547d\u4ee4\u63a5\u53e3\u7ec4\u5408","text":"<p>\u63a7\u5236\u5668\u652f\u6301\u4ee5\u4e0b\u547d\u4ee4\u63a5\u53e3\uff08command interfaces\uff09\u7ec4\u5408\uff1a</p> <ul> <li><code>position</code></li> <li><code>position</code>, <code>velocity</code></li> <li><code>position</code>, <code>velocity</code>, <code>acceleration</code></li> <li><code>velocity</code></li> <li><code>effort</code></li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#_2","title":"\u63a7\u5236\u5f8b\u8bf4\u660e","text":"<ul> <li><code>position</code>\uff1a\u76ee\u6807\u4f4d\u7f6e\u76f4\u63a5\u8f6c\u53d1\u81f3\u786c\u4ef6</li> <li><code>acceleration</code>\uff1a\u76ee\u6807\u52a0\u901f\u5ea6\u76f4\u63a5\u8f6c\u53d1\u81f3\u786c\u4ef6</li> <li><code>velocity</code> / <code>effort</code>\uff1a\u901a\u8fc7 PID \u63a7\u5236\u5668 \u5c06 \u4f4d\u7f6e+\u901f\u5ea6\u8ddf\u8e2a\u8bef\u5dee \u6620\u5c04\u4e3a\u901f\u5ea6\u6216\u529b\u547d\u4ee4\uff08\u9700\u914d\u7f6e PID \u53c2\u6570\uff09</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#_3","title":"\u5408\u6cd5\u7684\u72b6\u6001\u63a5\u53e3\u7ec4\u5408","text":"\u547d\u4ee4\u63a5\u53e3 \u6240\u9700\u72b6\u6001\u63a5\u53e3 <code>position</code> \u65e0\u9650\u5236 <code>velocity</code>\uff08\u5355\u72ec\u4f7f\u7528\uff09 \u5fc5\u987b\u5305\u542b <code>position</code>, <code>velocity</code> <code>effort</code> \u5fc5\u987b\u5305\u542b <code>position</code>, <code>velocity</code> <code>acceleration</code> \u5fc5\u987b\u5305\u542b <code>position</code>, <code>velocity</code>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#_4","title":"\u72b6\u6001\u63a5\u53e3\u4f9d\u8d56\u5173\u7cfb","text":"<ul> <li>\u82e5\u65e0 <code>position</code>\uff0c\u5219\u4e0d\u80fd\u4f7f\u7528 <code>velocity</code> \u72b6\u6001\u63a5\u53e3</li> <li>\u82e5\u65e0 <code>position</code> \u548c <code>velocity</code>\uff0c\u5219\u4e0d\u80fd\u4f7f\u7528 <code>acceleration</code> \u72b6\u6001\u63a5\u53e3</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#_5","title":"\u5176\u4ed6\u7279\u6027","text":"<ul> <li>\u5b9e\u65f6\u5b89\u5168\u5b9e\u73b0\uff08Realtime-safe\uff09</li> <li>\u6b63\u786e\u5904\u7406\u8fde\u7eed\u5173\u8282\uff08\u5982\u65cb\u8f6c\u65e0\u9650\u7684\u5173\u8282\uff09</li> <li>\u5bf9\u7cfb\u7edf\u65f6\u949f\u8df3\u53d8\u9c81\u68d2\uff1a\u5373\u4f7f\u7cfb\u7edf\u65f6\u95f4\u53d1\u751f\u4e0d\u8fde\u7eed\u53d8\u5316\uff0c\u5df2\u6392\u961f\u7684\u8f68\u8ff9\u6bb5\u4ecd\u80fd\u5e73\u6ed1\u6267\u884c</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#joint-trajectory-controller_1","title":"\u4f7f\u7528 Joint Trajectory Controller","text":"<ul> <li>\u81f3\u5c11\u9700\u8981\u4f4d\u7f6e\u53cd\u9988\uff08position feedback\uff09</li> <li>\u901f\u5ea6\u548c\u52a0\u901f\u5ea6\u53cd\u9988\u4e3a\u53ef\u9009</li> <li>\u63a7\u5236\u5668\u4e0d\u4f1a\u5185\u90e8\u79ef\u5206\uff1a\u82e5\u786c\u4ef6\u4ec5\u63d0\u4f9b\u52a0\u901f\u5ea6\u6216\u901f\u5ea6\u72b6\u6001\uff0c\u5fc5\u987b\u5728\u786c\u4ef6\u63a5\u53e3\u5c42\u5b8c\u6210\u79ef\u5206\uff08\u52a0\u901f\u5ea6 \u2192 \u901f\u5ea6 \u2192 \u4f4d\u7f6e\uff09</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#_6","title":"\u901a\u7528\u63a7\u5236\u5668\u914d\u7f6e\u793a\u4f8b","text":"<pre><code>controller_manager:\n  ros__parameters:\n    joint_trajectory_controller:\n      type: \"joint_trajectory_controller/JointTrajectoryController\"\n\njoint_trajectory_controller:\n  ros__parameters:\n    joints:\n      - joint1\n      - joint2\n      - joint3\n      - joint4\n      - joint5\n      - joint6\n\n    command_interfaces:\n      - position\n\n    state_interfaces:\n      - position\n      - velocity\n\n    state_publish_rate: 50.0\n    action_monitor_rate: 20.0\n\n    allow_partial_joints_goal: false\n    open_loop_control: true\n    constraints:\n      stopped_velocity_tolerance: 0.01\n      goal_time: 0.0\n      joint1:\n        trajectory: 0.05\n        goal: 0.03\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#preemption-policy","title":"\u62a2\u5360\u7b56\u7565\uff08Preemption Policy\uff09","text":"<ul> <li>\u540c\u4e00\u65f6\u95f4\u4ec5\u5141\u8bb8\u4e00\u4e2a\u52a8\u4f5c\u76ee\u6807\u6fc0\u6d3b\uff08\u6216\u65e0\u76ee\u6807\uff0c\u82e5\u4f7f\u7528\u8bdd\u9898\u63a5\u53e3\uff09</li> <li>\u8def\u5f84\u4e0e\u76ee\u6807\u5bb9\u5dee\u4ec5\u5bf9\u5f53\u524d\u6fc0\u6d3b\u76ee\u6807\u7684\u8f68\u8ff9\u6bb5\u8fdb\u884c\u68c0\u67e5</li> <li>\u52a8\u4f5c\u63a5\u53e3\u62a2\u5360\uff1a\u65b0\u76ee\u6807\u5230\u8fbe\u65f6\uff0c\u5f53\u524d\u76ee\u6807\u88ab\u53d6\u6d88\uff0c\u5ba2\u6237\u7aef\u6536\u5230\u901a\u77e5\uff0c\u8f68\u8ff9\u6309\u8f68\u8ff9\u66ff\u6362\u89c4\u5219\u66ff\u6362</li> <li>\u8bdd\u9898\u63a5\u53e3\u53d1\u9001\u7a7a\u8f68\u8ff9\uff1a\u4f1a\u8986\u76d6\u5f53\u524d\u52a8\u4f5c\u76ee\u6807\uff0c\u4f46\u4e0d\u4f1a\u4e2d\u6b62\u52a8\u4f5c</li> </ul> <p>\u26a0\ufe0f \u6ce8\u610f\uff1a\u8be5\u63a7\u5236\u5668\u5c1a\u672a\u5b9e\u73b0\u4e3a\u94fe\u5f0f\u63a7\u5236\u5668\uff08chainable controller\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#_7","title":"\u63a7\u5236\u5668\u63a5\u53e3\u8bf4\u660e","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#states","title":"\u72b6\u6001\u63a5\u53e3\uff08States\uff09","text":"<p>\u683c\u5f0f\uff1a<code>&lt;joint&gt;/&lt;state_interface&gt;</code> \u5408\u6cd5\u7ec4\u5408\u89c1\u4e0a\u6587\u300c\u786c\u4ef6\u63a5\u53e3\u7c7b\u578b\u300d\u90e8\u5206\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#commands","title":"\u547d\u4ee4\u63a5\u53e3\uff08Commands\uff09","text":"<p>\u652f\u6301\u4e24\u79cd\u8f68\u8ff9\u8f93\u5165\u65b9\u5f0f\uff1a 1. \u52a8\u4f5c\u63a5\u53e3\uff08\u63a8\u8350\uff0c\u652f\u6301\u6267\u884c\u76d1\u63a7\uff09 2. \u8bdd\u9898\u63a5\u53e3\uff08fire-and-forget\uff0c\u65e0\u53cd\u9988\uff09</p> <p>\u2705 \u4e24\u79cd\u65b9\u5f0f\u5747\u4f7f\u7528 <code>trajectory_msgs/msg/JointTrajectory</code> \u6d88\u606f\u683c\u5f0f \u2757 \u82e5 <code>allow_partial_joints_goal=false</code>\uff0c\u5219\u5fc5\u987b\u4e3a\u6240\u6709\u63a7\u5236\u5668\u5173\u8282\u63d0\u4f9b\u503c</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#actions","title":"\u52a8\u4f5c\u63a5\u53e3\uff08Actions\uff09","text":"<ul> <li><code>&lt;controller_name&gt;/follow_joint_trajectory</code> </li> <li>\u7c7b\u578b\uff1a<code>control_msgs/action/FollowJointTrajectory</code></li> <li>\u4e3b\u8981\u8f68\u8ff9\u8f93\u5165\u65b9\u5f0f\uff0c\u652f\u6301\u6267\u884c\u76d1\u63a7</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#tolerances","title":"\u5bb9\u5dee\uff08Tolerances\uff09","text":"<ul> <li>\u53ef\u4e3a\u6bcf\u4e2a\u5173\u8282\u6307\u5b9a \u8def\u5f84\u5bb9\u5dee \u548c \u76ee\u6807\u5bb9\u5dee</li> <li>\u5bb9\u5dee\u503c\u542b\u4e49\uff1a</li> <li><code>0</code>\uff1a\u4f7f\u7528\u9ed8\u8ba4\u5bb9\u5dee</li> <li><code>-1</code>\uff1a\u65e0\u9650\u5236\uff08\u5ffd\u7565\u5bb9\u5dee\uff09</li> <li>\u82e5\u672a\u6307\u5b9a\u5bb9\u5dee\uff0c\u5219\u4f7f\u7528\u53c2\u6570\u4e2d\u5b9a\u4e49\u7684\u9ed8\u8ba4\u503c</li> <li>\u5bb9\u5dee\u8d85\u9650 \u2192 \u52a8\u4f5c\u4e2d\u6b62\uff0c\u5ba2\u6237\u7aef\u901a\u77e5\uff0c\u4fdd\u6301\u5f53\u524d\u4f4d\u7f6e</li> <li>\u76ee\u6807\u8fbe\u6210\uff08\u5728\u5bb9\u5dee\u5185\uff09\u2192 \u52a8\u4f5c\u8fd4\u56de\u6210\u529f\uff0c\u4fdd\u6301\u6700\u540e\u6307\u4ee4\u70b9</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#subscriber","title":"\u8ba2\u9605\u8005\uff08Subscriber\uff09","text":"<ul> <li><code>&lt;controller_name&gt;/joint_trajectory</code> </li> <li>\u7c7b\u578b\uff1a<code>trajectory_msgs/msg/JointTrajectory</code></li> <li>\u65e0\u76d1\u63a7\u7684\u8f7b\u91cf\u7ea7\u63a5\u53e3</li> <li>\u4e0d\u4f7f\u7528\u76ee\u6807\u5bb9\u5dee\uff08\u65e0\u901a\u77e5\u673a\u5236\uff09</li> <li>\u5bb9\u5dee\u8d85\u9650\u65f6\u8f68\u8ff9\u4e2d\u6b62\uff0c\u4fdd\u6301\u5f53\u524d\u4f4d\u7f6e</li> <li>\u53ef\u901a\u8fc7 <code>~/query_state</code> \u670d\u52a1\u6216 <code>~/state</code> \u8bdd\u9898\u83b7\u53d6\u72b6\u6001\uff08\u4f46\u4e0d\u5982\u52a8\u4f5c\u63a5\u53e3\u4fbf\u6377\uff09</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#publishers","title":"\u53d1\u5e03\u8005\uff08Publishers\uff09","text":"<ul> <li><code>&lt;controller_name&gt;/controller_state</code> </li> <li>\u7c7b\u578b\uff1a<code>control_msgs/msg/JointTrajectoryControllerState</code></li> <li>\u4ee5 Controller Manager \u7684\u66f4\u65b0\u9891\u7387\u53d1\u5e03\u63a7\u5236\u5668\u5185\u90e8\u72b6\u6001</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#services","title":"\u670d\u52a1\uff08Services\uff09","text":"<ul> <li><code>&lt;controller_name&gt;/query_state</code> </li> <li>\u7c7b\u578b\uff1a<code>control_msgs/srv/QueryTrajectoryState</code></li> <li>\u53ef\u67e5\u8be2\u4efb\u610f\u672a\u6765\u65f6\u523b\u7684\u63a7\u5236\u5668\u72b6\u6001</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Joint_Trajectory/#_8","title":"\u8fdb\u4e00\u6b65\u4fe1\u606f","text":"<ul> <li>\u8f68\u8ff9\u8868\u793a\uff08Trajectory Representation\uff09</li> <li>\u8f68\u8ff9\u66ff\u6362\uff08Trajectory Replacement\uff09</li> <li>Joint Trajectory Controller \u53c2\u6570\u8be6\u89e3</li> <li><code>rqt_joint_trajectory_controller</code>\uff08GUI \u8c03\u8bd5\u5de5\u5177\uff09</li> </ul> <ol> <li> <p>Adolfo Rodriguez: joint_trajectory_controller \u21a9</p> </li> </ol>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/","title":"PID\u63a7\u5236","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#pid-controllerpid","title":"PID Controller\uff08PID \u63a7\u5236\u5668\uff09","text":"<p>\u672c\u63a7\u5236\u5668\u57fa\u4e8e <code>control_toolbox</code> \u8f6f\u4ef6\u5305\u4e2d\u7684 <code>PidROS</code> \u5b9e\u73b0\u3002 \u5b83\u652f\u6301\u4e24\u79cd\u4f7f\u7528\u65b9\u5f0f\uff1a - \u76f4\u63a5\u901a\u8fc7\u8bdd\u9898\u53d1\u9001\u53c2\u8003\u503c - \u4f5c\u4e3a\u94fe\u5f0f\u63a7\u5236\u5668\uff08\u53ef\u88ab\u524d\u7f6e\u6216\u540e\u7f6e\u63a7\u5236\u5668\u8c03\u7528\uff09</p> <p>\u6b64\u5916\uff0c\u63a7\u5236\u5668\u652f\u6301\u4f7f\u7528\u53c2\u8003\u503c\u7684\u4e00\u9636\u5bfc\u6570\u53ca\u5176\u53cd\u9988\uff0c\u5b9e\u73b0\u4e8c\u9636 PID \u63a7\u5236\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#_1","title":"\u63a7\u5236\u5668\u7c7b\u578b\u4e0e\u63a5\u53e3\u5339\u914d","text":"<p>\u6839\u636e\u786c\u4ef6\u7684 \u53c2\u8003/\u72b6\u6001\u63a5\u53e3 \u4e0e \u547d\u4ee4\u63a5\u53e3 \u7c7b\u578b\uff0cPID \u63a7\u5236\u5668\u53ef\u914d\u7f6e\u4e3a\u4e0d\u540c\u63a7\u5236\u5f62\u5f0f\uff1a</p> \u53c2\u8003/\u72b6\u6001\u63a5\u53e3 \u547d\u4ee4\u63a5\u53e3 \u63a7\u5236\u7c7b\u578b <code>POSITION</code> <code>VELOCITY</code> PI <code>VELOCITY</code> <code>ACCELERATION</code> PI <code>VELOCITY</code> <code>POSITION</code> PD <code>ACCELERATION</code> <code>VELOCITY</code> PD <code>POSITION</code> <code>POSITION</code> PID <code>VELOCITY</code> <code>VELOCITY</code> PID <code>ACCELERATION</code> <code>ACCELERATION</code> PID <code>EFFORT</code> <code>EFFORT</code> PID <p>\u26a0\ufe0f \u6ce8\u610f\uff1a \u7406\u8bba\u4e0a\u53ef\u7528 <code>Joint Trajectory Controller</code>\uff08JTC\uff09\u53d1\u9001\u5355\u70b9\u8f68\u8ff9\u5b9e\u73b0\u7c7b\u4f3c\u6548\u679c\uff0c\u4f46\u4e0d\u63a8\u8350\u3002 JTC \u5e94\u7528\u4e8e\u591a\u70b9\u8f68\u8ff9\u63d2\u503c\uff08\u7ebf\u6027/\u4e09\u6b21/\u4e94\u6b21\uff09\uff0c\u800c PID \u63a7\u5236\u5668\u65e0\u63d2\u503c\u529f\u80fd\u3002 JTC \u5185\u90e8\u7684 PID \u9879\u4ec5\u7528\u4e8e\u901a\u8fc7 velocity/effort \u63a5\u53e3\u63a7\u5236\u786c\u4ef6\uff0c\u76ee\u7684\u4e0d\u540c\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#_2","title":"\u63a7\u5236\u5668\u6267\u884c\u903b\u8f91","text":"<ul> <li>\u652f\u6301 \u524d\u9988\u6a21\u5f0f\uff08feed-forward mode\uff09\uff0c\u901a\u8fc7 <code>feedforward_gain</code> \u63d0\u5347\u52a8\u6001\u6027\u80fd</li> <li>\u82e5\u4ec5\u4f7f\u7528\u4e00\u79cd\u53c2\u8003/\u72b6\u6001\u63a5\u53e3\uff0c\u5219\u4ec5\u8ba1\u7b97\u77ac\u65f6\u8bef\u5dee</li> <li>\u82e5\u4f7f\u7528\u4e24\u79cd\u63a5\u53e3\uff0c\u5219\u7b2c\u4e8c\u63a5\u53e3\u89c6\u4e3a\u7b2c\u4e00\u63a5\u53e3\u7684\u4e00\u9636\u5bfc\u6570\uff08\u5982 <code>position</code> + <code>velocity</code>\uff09</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#_3","title":"\u4f7f\u7528\u65b9\u5f0f","text":"<ul> <li>Pluginlib \u5e93\uff1a<code>pid_controller</code> </li> <li>\u63d2\u4ef6\u540d\u79f0\uff1a<code>pid_controller/PidController</code></li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#_4","title":"\u63a7\u5236\u5668\u63a5\u53e3\u8bf4\u660e","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#references","title":"\u53c2\u8003\u63a5\u53e3\uff08References\uff0c\u6765\u81ea\u524d\u7f6e\u63a7\u5236\u5668\uff09","text":"<pre><code>&lt;reference_and_state_dof_names[i]&gt;/&lt;reference_and_state_interfaces[j]&gt; [double]\n</code></pre> <p>\u82e5 <code>reference_and_state_dof_names</code> \u672a\u5b9a\u4e49\uff0c\u5219\u4f7f\u7528 <code>dof_names</code></p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#commands","title":"\u547d\u4ee4\u63a5\u53e3\uff08Commands\uff09","text":"<pre><code>&lt;dof_names[i]&gt;/&lt;command_interface&gt; [double]\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#states","title":"\u72b6\u6001\u63a5\u53e3\uff08States\uff09","text":"<pre><code>&lt;reference_and_state_dof_names[i]&gt;/&lt;reference_and_state_interfaces[j]&gt; [double]\n</code></pre> <p>\u82e5 <code>reference_and_state_dof_names</code> \u672a\u5b9a\u4e49\uff0c\u5219\u4f7f\u7528 <code>dof_names</code></p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#ros-2","title":"ROS 2 \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#subscribers","title":"\u8ba2\u9605\u8005\uff08Subscribers\uff09","text":"<ul> <li> <p><code>&lt;controller_name&gt;/reference</code>\uff08<code>control_msgs/msg/MultiDOFCommand</code>\uff09   \u5f53 <code>in_chained_mode == false</code> \u65f6\u4f7f\u7528</p> </li> <li> <p><code>&lt;controller_name&gt;/measured_state</code>\uff08<code>control_msgs/msg/MultiDOFCommand</code>\uff09   \u4ec5\u5f53 <code>use_external_measured_states == true</code> \u65f6\u542f\u7528</p> </li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#services","title":"\u670d\u52a1\uff08Services\uff09","text":"<ul> <li><code>&lt;controller_name&gt;/set_feedforward_control</code>\uff08<code>std_srvs/srv/SetBool</code>\uff09   \u542f\u7528/\u7981\u7528\u524d\u9988\u63a7\u5236</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#publishers","title":"\u53d1\u5e03\u8005\uff08Publishers\uff09","text":"<ul> <li><code>&lt;controller_name&gt;/controller_state</code>\uff08<code>control_msgs/msg/MultiDOFStateStamped</code>\uff09   \u53d1\u5e03\u63a7\u5236\u5668\u5185\u90e8\u72b6\u6001</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#_5","title":"\u6838\u5fc3\u53c2\u6570","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f \u53ea\u8bfb <code>dof_names</code> <code>string_array</code> <code>{}</code> \u63a7\u5236\u5668\u4f7f\u7528\u7684\u81ea\u7531\u5ea6/\u8f74\u540d\u79f0 \u975e\u7a7a\u3001\u65e0\u91cd\u590d \u2705 <code>reference_and_state_dof_names</code> <code>string_array</code> <code>{}</code> \u53c2\u8003/\u72b6\u6001\u63a5\u53e3\u5bf9\u5e94\u7684\u81ea\u7531\u5ea6\u540d\uff08\u53ef\u9009\uff09 \u65e0\u91cd\u590d \u2705 <code>command_interface</code> <code>string</code> <code>\"\"</code> \u547d\u4ee4\u63a5\u53e3\u7c7b\u578b\uff08\u5982 <code>\"position\"</code>\uff09 \u975e\u7a7a \u2705 <code>reference_and_state_interfaces</code> <code>string_array</code> <code>{}</code> \u53c2\u8003/\u72b6\u6001\u63a5\u53e3\u5217\u8868\uff08\u7b2c\u4e8c\u9879\u5e94\u4e3a\u7b2c\u4e00\u9879\u7684\u5bfc\u6570\uff09 \u957f\u5ea6 &lt; 3\u3001\u975e\u7a7a \u2705 <code>use_external_measured_states</code> <code>bool</code> <code>false</code> \u662f\u5426\u4ece\u8bdd\u9898\u800c\u975e\u72b6\u6001\u63a5\u53e3\u8bfb\u53d6\u6d4b\u91cf\u503c \u2014 \u2014"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#_6","title":"\u589e\u76ca\u53c2\u6570\uff08\u6309\u81ea\u7531\u5ea6\u914d\u7f6e\uff09","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>gains.&lt;dof&gt;.p</code> <code>0.0</code> \u6bd4\u4f8b\u589e\u76ca <code>gains.&lt;dof&gt;.i</code> <code>0.0</code> \u79ef\u5206\u589e\u76ca <code>gains.&lt;dof&gt;.d</code> <code>0.0</code> \u5fae\u5206\u589e\u76ca <code>gains.&lt;dof&gt;.antiwindup</code> <code>false</code> \u662f\u5426\u542f\u7528\u6297\u79ef\u5206\u9971\u548c\uff08\u542f\u7528\u65f6\u9650\u5236\u79ef\u5206\u8bef\u5dee\uff0c\u5426\u5219\u9650\u5236\u79ef\u5206\u8f93\u51fa\uff09 <code>gains.&lt;dof&gt;.i_clamp_max</code> <code>0.0</code> \u79ef\u5206\u4e0a\u9650 <code>gains.&lt;dof&gt;.i_clamp_min</code> <code>0.0</code> \u79ef\u5206\u4e0b\u9650 <code>gains.&lt;dof&gt;.feedforward_gain</code> <code>0.0</code> \u524d\u9988\u589e\u76ca <code>gains.&lt;dof&gt;.angle_wraparound</code> <code>false</code> \u662f\u5426\u542f\u7528\u89d2\u5ea6\u73af\u7ed5\u5904\u7406\uff08\u8fde\u7eed\u5173\u8282\uff0c\u8bef\u5dee\u5f52\u4e00\u5316\u5230 [-\u03c0, \u03c0]\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#_7","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#pid","title":"\u57fa\u7840 PID \u63a7\u5236\uff08\u72ec\u7acb\u6a21\u5f0f\uff09","text":"<pre><code>test_pid_controller:\n  ros__parameters:\n    dof_names: [joint1]\n    command_interface: position\n    reference_and_state_interfaces: [\"position\"]\n    gains:\n      joint1: {p: 1.0, i: 2.0, d: 3.0, i_clamp_max: 5.0, i_clamp_min: -5.0}\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#_8","title":"\u542f\u7528\u89d2\u5ea6\u73af\u7ed5","text":"<pre><code>test_pid_controller_angle_wraparound_on:\n  ros__parameters:\n    gains:\n      joint1: {p: 1.0, i: 2.0, d: 3.0, i_clamp_max: 5.0, i_clamp_min: -5.0, angle_wraparound: true}\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#_9","title":"\u5e26\u524d\u9988\u589e\u76ca\uff08\u5355\u63a5\u53e3\uff09","text":"<pre><code>test_pid_controller_with_feedforward_gain:\n  ros__parameters:\n    gains:\n      joint1: {p: 0.5, i: 0.0, d: 0.0, i_clamp_max: 5.0, i_clamp_min: -5.0, feedforward_gain: 1.0}\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#position-velocity","title":"\u5e26\u524d\u9988\u589e\u76ca\uff08\u53cc\u63a5\u53e3\uff1aposition + velocity\uff09","text":"<pre><code>test_pid_controller_with_feedforward_gain_dual_interface:\n  ros__parameters:\n    dof_names: [joint1, joint2]\n    command_interface: velocity\n    reference_and_state_interfaces: [\"position\", \"velocity\"]\n    gains:\n      joint1: {p: 0.5, i: 0.3, d: 0.4, i_clamp_max: 5.0, i_clamp_min: -5.0, feedforward_gain: 1.0}\n      joint2: {p: 0.5, i: 0.3, d: 0.4, i_clamp_max: 5.0, i_clamp_min: -5.0, feedforward_gain: 1.0}\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/PID/#_10","title":"\u4f5c\u4e3a\u524d\u7f6e\u63a7\u5236\u5668\uff08\u81ea\u5b9a\u4e49\u72b6\u6001\u63a5\u53e3\u540d\uff09","text":"<pre><code>test_pid_controller:\n  ros__parameters:\n    dof_names: [joint1]\n    reference_and_state_dof_names: [joint1state]  # \u72b6\u6001\u63a5\u53e3\u540d\u4e3a joint1state\n    command_interface: position\n    reference_and_state_interfaces: [\"position\"]\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Position/","title":"\u4f4d\u7f6e\u63a7\u5236","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Position/#position_controllers","title":"position_controllers\uff08\u4f4d\u7f6e\u63a7\u5236\u5668\uff09","text":"<p><code>position_controllers</code> \u662f\u4e00\u7ec4\u4f7f\u7528 \u201cposition\u201d\uff08\u4f4d\u7f6e\uff09\u5173\u8282\u547d\u4ee4\u63a5\u53e3\u7684\u63a7\u5236\u5668\u3002 \u8fd9\u4e9b\u63a7\u5236\u5668\u5728\u63a7\u5236\u5668\u5c42\u7ea7\u53ef\u63a5\u53d7\u4e0d\u540c\u7c7b\u578b\u7684\u5173\u8282\u7ea7\u547d\u4ee4\uff0c\u4f8b\u5982\uff1a\u901a\u8fc7\u63a7\u5236\u67d0\u5173\u8282\u7684\u76ee\u6807\u4f4d\u7f6e\u6765\u5b9e\u73b0\u8bbe\u5b9a\u7684\u901f\u5ea6\u3002</p> <p>\u8be5\u8f6f\u4ef6\u5305\u5305\u542b\u4ee5\u4e0b\u63a7\u5236\u5668\uff1a</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Position/#position_controllersjointgrouppositioncontroller","title":"<code>position_controllers/JointGroupPositionController</code>","text":"<p>\u8fd9\u662f <code>forward_command_controller</code> \u7684\u4e00\u4e2a\u7279\u5316\u7248\u672c\uff0c\u4e13\u4e3a\u4f7f\u7528 \u201cposition\u201d \u5173\u8282\u63a5\u53e3\u800c\u8bbe\u8ba1\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Position/#ros-2","title":"ROS 2 \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Position/#topics","title":"\u8bdd\u9898\uff08Topics\uff09","text":"<ul> <li><code>~/commands</code>\uff08\u8f93\u5165\uff09  </li> <li>\u7c7b\u578b\uff1a<code>std_msgs/msg/Float64MultiArray</code> </li> <li>\u7528\u9014\uff1a\u5173\u8282\u4f4d\u7f6e\u547d\u4ee4\u6570\u7ec4</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Position/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u8be5\u63a7\u5236\u5668\u8986\u76d6\u4e86 <code>forward_command_controller</code> \u7684 <code>interface</code> \u53c2\u6570\uff0c \u552f\u4e00\u5fc5\u9700\u7684\u53c2\u6570\u662f <code>joints</code>\uff08\u5173\u8282\u540d\u79f0\u5217\u8868\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Position/#_1","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":"<pre><code>controller_manager:\n  ros__parameters:\n    update_rate: 100  # Hz\n\n    position_controller:\n      type: position_controllers/JointGroupPositionController\n\nposition_controller:\n  ros__parameters:\n    joints:\n      - slider_to_cart\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Velocity/","title":"\u901f\u5ea6\u63a7\u5236","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Velocity/#velocity_controllers","title":"velocity_controllers\uff08\u901f\u5ea6\u63a7\u5236\u5668\uff09","text":"<p><code>velocity_controllers</code> \u662f\u4e00\u7ec4\u4f7f\u7528 \u201cvelocity\u201d\uff08\u901f\u5ea6\uff09\u5173\u8282\u547d\u4ee4\u63a5\u53e3\u7684\u63a7\u5236\u5668\u3002 \u8fd9\u4e9b\u63a7\u5236\u5668\u5728\u63a7\u5236\u5668\u5c42\u7ea7\u53ef\u63a5\u53d7\u4e0d\u540c\u7c7b\u578b\u7684\u5173\u8282\u7ea7\u547d\u4ee4\uff0c\u4f8b\u5982\uff1a\u901a\u8fc7\u63a7\u5236\u67d0\u5173\u8282\u7684\u76ee\u6807\u901f\u5ea6\u6765\u5b9e\u73b0\u8bbe\u5b9a\u7684\u4f4d\u7f6e\u3002</p> <p>\u8be5\u8f6f\u4ef6\u5305\u5305\u542b\u4ee5\u4e0b\u63a7\u5236\u5668\uff1a</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Velocity/#velocity_controllersjointgroupvelocitycontroller","title":"<code>velocity_controllers/JointGroupVelocityController</code>","text":"<p>\u8fd9\u662f <code>forward_command_controller</code> \u7684\u4e00\u4e2a\u7279\u5316\u7248\u672c\uff0c\u4e13\u4e3a\u4f7f\u7528 \u201cvelocity\u201d \u5173\u8282\u63a5\u53e3\u800c\u8bbe\u8ba1\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Velocity/#ros-2","title":"ROS 2 \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Velocity/#topics","title":"\u8bdd\u9898\uff08Topics\uff09","text":"<ul> <li><code>~/commands</code>\uff08\u8f93\u5165\uff09  </li> <li>\u7c7b\u578b\uff1a<code>std_msgs/msg/Float64MultiArray</code> </li> <li>\u7528\u9014\uff1a\u5173\u8282\u901f\u5ea6\u547d\u4ee4\u6570\u7ec4</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Velocity/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u8be5\u63a7\u5236\u5668\u8986\u76d6\u4e86 <code>forward_command_controller</code> \u7684 <code>interface</code> \u53c2\u6570\uff0c \u552f\u4e00\u5fc5\u9700\u7684\u53c2\u6570\u662f <code>joints</code>\uff08\u5173\u8282\u540d\u79f0\u5217\u8868\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/Velocity/#_1","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":"<pre><code>controller_manager:\n  ros__parameters:\n    update_rate: 100  # Hz\n\n    velocity_controller:\n      type: velocity_controllers/JointGroupVelocityController\n\nvelocity_controller:\n  ros__parameters:\n    joints:\n      - slider_to_cart\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/intro/","title":"\u6982\u8ff0","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Manipulators_and_Other_Robots/intro/#_1","title":"\u673a\u68b0\u81c2\u548c\u5176\u4ed6\u673a\u5668\u4eba\u7684\u63a7\u5236\u5668","text":"<p>\u63a7\u5236\u5668\u4f7f\u7528\u901a\u7528\u786c\u4ef6\u63a5\u53e3\u5b9a\u4e49\uff0c\u5e76\u4e14\u53ef\u80fd\u4f1a\u6839\u636e\u4ee5\u4e0b\u547d\u4ee4\u63a5\u53e3\u7c7b\u578b\u4f7f\u7528\u4e0d\u540c\u7684\u547d\u540d\u7a7a\u95f4\uff1a</p> <p>\u4f4d\u7f6e\u63a7\u5236\u5668\uff1ahardware_interface::HW_IF_POSITION \u901f\u5ea6\u63a7\u5236\u5668\uff1ahardware_interface::HW_IF_VELOCITY \u529b\u77e9\u63a7\u5236\u5668\uff1ahardware_interface::HW_IF_ACCELERATION \u529b\u77e9\u63a7\u5236\u5668\uff1ahardware_interface::HW_IF_EFFORT</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/","title":"Diff Drive Controller\uff08\u5dee\u901f\u9a71\u52a8\u63a7\u5236\u5668\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#diff-drive-controller","title":"Diff Drive Controller\uff08\u5dee\u901f\u9a71\u52a8\u63a7\u5236\u5668\uff09","text":"<p><code>diff_drive_controller</code> \u662f\u7528\u4e8e\u5dee\u901f\u9a71\u52a8\u79fb\u52a8\u673a\u5668\u4eba\u7684\u63a7\u5236\u5668\u3002</p> <ul> <li>\u8f93\u5165\uff1a\u673a\u5668\u4eba\u672c\u4f53\u7684\u901f\u5ea6\u6307\u4ee4\uff08\u7ebf\u901f\u5ea6\u548c\u89d2\u901f\u5ea6\uff09  </li> <li>\u8f93\u51fa\uff1a\u8f6c\u6362\u4e3a\u5de6\u53f3\u8f6e\u7684\u9a71\u52a8\u6307\u4ee4  </li> <li>\u91cc\u7a0b\u8ba1\uff1a\u57fa\u4e8e\u786c\u4ef6\u53cd\u9988\u8ba1\u7b97\u5e76\u53d1\u5e03</li> </ul> <p>\ud83d\udcda \u6709\u5173\u79fb\u52a8\u673a\u5668\u4eba\u8fd0\u52a8\u5b66\u57fa\u7840\u53ca\u672c\u6587\u4f7f\u7528\u7684\u672f\u8bed\uff0c\u8bf7\u53c2\u9605\uff1a\u8f6e\u5f0f\u79fb\u52a8\u673a\u5668\u4eba\u8fd0\u52a8\u5b66\uff08Wheeled Mobile Robot Kinematics\uff09</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#_1","title":"\u5176\u4ed6\u7279\u6027","text":"<ul> <li>\u5b9e\u65f6\u5b89\u5168\u5b9e\u73b0\uff08Realtime-safe implementation\uff09  </li> <li>\u91cc\u7a0b\u8ba1\u53d1\u5e03\uff08Odometry publishing\uff09  </li> <li>\u4efb\u52a1\u7a7a\u95f4\u7684\u901f\u5ea6\u3001\u52a0\u901f\u5ea6\u548c\u52a0\u52a0\u901f\u5ea6\uff08jerk\uff09  </li> <li>\u547d\u4ee4\u8d85\u65f6\u81ea\u52a8\u505c\u6b62\uff08Automatic stop after command time-out\uff09</li> </ul> <p>\u26a0\ufe0f \u6ce8\u610f\uff1a\u8be5\u63a7\u5236\u5668\u5c1a\u672a\u5b9e\u73b0\u4e3a\u94fe\u5f0f\u63a7\u5236\u5668\uff08chainable controller\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#_2","title":"\u63a7\u5236\u5668\u63a5\u53e3\u8bf4\u660e","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#feedback","title":"\u53cd\u9988\u63a5\u53e3\uff08Feedback\uff09","text":"<ul> <li>\u4f7f\u7528\u5173\u8282\u7684 \u4f4d\u7f6e\uff08<code>hardware_interface::HW_IF_POSITION</code>\uff09</li> <li>\u6216 \u901f\u5ea6\uff08<code>hardware_interface::HW_IF_VELOCITY</code>\uff09\uff0c\u5f53\u53c2\u6570 <code>position_feedback=false</code> \u65f6</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#output","title":"\u8f93\u51fa\u63a5\u53e3\uff08Output\uff09","text":"<ul> <li>\u4f7f\u7528\u5173\u8282\u7684 \u901f\u5ea6\u6307\u4ee4\uff08<code>hardware_interface::HW_IF_VELOCITY</code>\uff09</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#ros-2","title":"ROS 2 \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#subscribers","title":"\u8ba2\u9605\u8005\uff08Subscribers\uff09","text":"<ul> <li><code>~/cmd_vel</code>\uff08<code>geometry_msgs/msg/TwistStamped</code>\uff09   \u5f53 <code>use_stamped_vel=true</code> \u65f6\u4f7f\u7528\u3002   \u63a7\u5236\u5668\u63d0\u53d6\uff1a  </li> <li>\u7ebf\u901f\u5ea6\u7684 x \u5206\u91cf\uff08\u524d\u8fdb/\u540e\u9000\uff09  </li> <li> <p>\u89d2\u901f\u5ea6\u7684 z \u5206\u91cf\uff08\u504f\u822a\u65cb\u8f6c\uff09   \u5176\u4ed6\u5206\u91cf\u88ab\u5ffd\u7565\u3002</p> </li> <li> <p><code>~/cmd_vel_unstamped</code>\uff08<code>geometry_msgs/msg/Twist</code>\uff09   \u5f53 <code>use_stamped_vel=false</code> \u65f6\u4f7f\u7528\u3002   \u63d0\u53d6\u903b\u8f91\u540c\u4e0a\u3002</p> </li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#publishers","title":"\u53d1\u5e03\u8005\uff08Publishers\uff09","text":"<ul> <li> <p><code>~/odom</code>\uff08<code>nav_msgs/msg/Odometry</code>\uff09   \u673a\u5668\u4eba\u5728\u81ea\u7531\u7a7a\u95f4\u4e2d\u7684\u4f4d\u59ff\u548c\u901f\u5ea6\u4f30\u8ba1\u3002</p> </li> <li> <p><code>/tf</code>\uff08<code>tf2_msgs/msg/TFMessage</code>\uff09   TF \u53d8\u6362\u6811\u3002\u4ec5\u5f53 <code>enable_odom_tf=true</code> \u65f6\u53d1\u5e03\u3002</p> </li> <li> <p><code>~/cmd_vel_out</code>\uff08<code>geometry_msgs/msg/TwistStamped</code>\uff09   \u7ecf\u9650\u5e45\u540e\u7684\u901f\u5ea6\u6307\u4ee4\u3002\u4ec5\u5f53 <code>publish_limited_velocity=true</code> \u65f6\u53d1\u5e03\u3002</p> </li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u8be5\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u53c2\u6570\u5b9a\u4e49\u89c1 <code>src/</code> \u76ee\u5f55\u4e0b\u7684\u53c2\u6570\u5b9a\u4e49\u6587\u4ef6\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#_3","title":"\u57fa\u7840\u53c2\u6570","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f <code>left_wheel_names</code> <code>string_array</code> <code>{}</code> \u5de6\u4fa7\u8f6e\u5173\u8282\u540d\u79f0 \u4e0d\u80fd\u4e3a\u7a7a <code>right_wheel_names</code> <code>string_array</code> <code>{}</code> \u53f3\u4fa7\u8f6e\u5173\u8282\u540d\u79f0 \u4e0d\u80fd\u4e3a\u7a7a <code>wheel_separation</code> <code>double</code> <code>0.0</code> \u5de6\u53f3\u8f6e\u4e2d\u5fc3\u8ddd\u3002\u82e5\u9519\u8bef\uff0c\u8f6c\u5f2f\u884c\u4e3a\u5c06\u5f02\u5e38 &gt; 0.0 <code>wheels_per_side</code> <code>int</code> <code>0</code> \u6bcf\u4fa7\u8f6e\u5b50\u6570\u91cf\u3002\u7528\u4e8e\u591a\u8f6e\u5171\u63a7\u573a\u666f\uff08\u5982 Husky \u6bcf\u4fa7 2 \u8f6e\u4f46\u5171\u7528 1 \u4e2a\u63a7\u5236\u4fe1\u53f7\uff0c\u5e94\u8bbe\u4e3a <code>1</code>\uff09 \u2014 <code>wheel_radius</code> <code>double</code> <code>0.0</code> \u8f6e\u5b50\u534a\u5f84\u3002\u82e5\u9519\u8bef\uff0c\u79fb\u52a8\u901f\u5ea6\u5c06\u504f\u79bb\u9884\u671f &gt; 0.0 <code>wheel_separation_multiplier</code> <code>double</code> <code>1.0</code> \u8f6e\u8ddd\u4fee\u6b63\u7cfb\u6570 \u2014 <code>left_wheel_radius_multiplier</code> <code>double</code> <code>1.0</code> \u5de6\u8f6e\u534a\u5f84\u4fee\u6b63\u7cfb\u6570 \u2014 <code>right_wheel_radius_multiplier</code> <code>double</code> <code>1.0</code> \u53f3\u8f6e\u534a\u5f84\u4fee\u6b63\u7cfb\u6570 \u2014"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#tf","title":"TF \u4e0e\u5750\u6807\u7cfb","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>tf_frame_prefix_enable</code> <code>true</code> \u662f\u5426\u542f\u7528 TF \u524d\u7f00 <code>tf_frame_prefix</code> <code>\"\"</code> TF \u5e27\u524d\u7f00\u3002\u82e5\u4e3a\u7a7a\uff0c\u5219\u4f7f\u7528\u63a7\u5236\u5668\u547d\u540d\u7a7a\u95f4 <code>odom_frame_id</code> <code>\"odom\"</code> \u91cc\u7a0b\u8ba1\u5750\u6807\u7cfb\u540d\u79f0\uff08\u7236\u5e27\uff09 <code>base_frame_id</code> <code>\"base_link\"</code> \u673a\u5668\u4eba\u57fa\u5ea7\u5750\u6807\u7cfb\u540d\u79f0\uff08\u5b50\u5e27\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#_4","title":"\u91cc\u7a0b\u8ba1\u534f\u65b9\u5dee","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>pose_covariance_diagonal</code> <code>{0,0,0,0,0,0}</code> \u4f4d\u59ff\u534f\u65b9\u5dee\u5bf9\u89d2\u7ebf\uff086\u7ef4\uff09\u5efa\u8bae\u8d77\u70b9\uff1a<code>[0.001, 0.001, 0.001, 0.001, 0.001, 0.01]</code> <code>twist_covariance_diagonal</code> <code>{0,0,0,0,0,0}</code> \u901f\u5ea6\u534f\u65b9\u5dee\u5bf9\u89d2\u7ebf\uff086\u7ef4\uff09\u5efa\u8bae\u8d77\u70b9\u540c\u4e0a"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#_5","title":"\u63a7\u5236\u4e0e\u53cd\u9988\u6a21\u5f0f","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>open_loop</code> <code>false</code> \u82e5\u4e3a <code>true</code>\uff0c\u91cc\u7a0b\u8ba1\u57fa\u4e8e\u547d\u4ee4\u503c\u800c\u975e\u53cd\u9988\u8ba1\u7b97 <code>position_feedback</code> <code>true</code> \u786c\u4ef6\u662f\u5426\u63d0\u4f9b\u4f4d\u7f6e\u53cd\u9988\uff08\u5426\u5219\u4f7f\u7528\u901f\u5ea6\u53cd\u9988\uff09 <code>enable_odom_tf</code> <code>true</code> \u662f\u5426\u53d1\u5e03 <code>odom</code> \u2192 <code>base_link</code> \u7684 TF \u53d8\u6362 <code>cmd_vel_timeout</code> <code>0.5</code> \u547d\u4ee4\u8d85\u65f6\u65f6\u95f4\uff08\u79d2\uff09\uff0c\u8d85\u65f6\u540e\u81ea\u52a8\u505c\u6b62 <code>publish_limited_velocity</code> <code>false</code> \u662f\u5426\u53d1\u5e03\u9650\u5e45\u540e\u7684\u901f\u5ea6 <code>velocity_rolling_window_size</code> <code>10</code> \u91cc\u7a0b\u8ba1\u4e2d\u8ba1\u7b97\u5e73\u5747\u901f\u5ea6\u7684\u6ed1\u52a8\u7a97\u53e3\u5927\u5c0f <code>use_stamped_vel</code> <code>true</code> \u662f\u5426\u4f7f\u7528\u5e26\u65f6\u95f4\u6233\u7684\u901f\u5ea6\u6d88\u606f\u8ba1\u7b97\u547d\u4ee4\u65f6\u6548\u6027 <code>publish_rate</code> <code>50.0</code> \u91cc\u7a0b\u8ba1\u548c TF \u7684\u53d1\u5e03\u9891\u7387\uff08Hz\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#_6","title":"\u901f\u5ea6\u9650\u5e45\uff08\u4efb\u52a1\u7a7a\u95f4\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#linearx","title":"\u7ebf\u901f\u5ea6\uff08<code>linear.x</code>\uff09","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>has_velocity_limits</code> <code>false</code> \u662f\u5426\u542f\u7528\u901f\u5ea6\u9650\u5236 <code>has_acceleration_limits</code> <code>false</code> \u662f\u5426\u542f\u7528\u52a0\u901f\u5ea6\u9650\u5236 <code>has_jerk_limits</code> <code>false</code> \u662f\u5426\u542f\u7528\u52a0\u52a0\u901f\u5ea6\uff08jerk\uff09\u9650\u5236 <code>max_velocity</code> <code>NaN</code> \u6700\u5927\u7ebf\u901f\u5ea6 <code>min_velocity</code> <code>NaN</code> \u6700\u5c0f\u7ebf\u901f\u5ea6 <code>max_acceleration</code> <code>NaN</code> \u6700\u5927\u52a0\u901f\u5ea6 <code>min_acceleration</code> <code>NaN</code> \u6700\u5c0f\u52a0\u901f\u5ea6 <code>max_jerk</code> <code>NaN</code> \u6700\u5927\u52a0\u52a0\u901f\u5ea6 <code>min_jerk</code> <code>NaN</code> \u6700\u5c0f\u52a0\u52a0\u901f\u5ea6 <p>\u26a0\ufe0f \u4f4d\u7f6e\u9650\u5236\u88ab\u5ffd\u7565\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#angularz","title":"\u89d2\u901f\u5ea6\uff08<code>angular.z</code>\uff09","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>has_velocity_limits</code> <code>false</code> \u662f\u5426\u542f\u7528\u89d2\u901f\u5ea6\u9650\u5236 <code>has_acceleration_limits</code> <code>false</code> \u662f\u5426\u542f\u7528\u89d2\u52a0\u901f\u5ea6\u9650\u5236 <code>has_jerk_limits</code> <code>false</code> \u662f\u5426\u542f\u7528\u89d2\u52a0\u52a0\u901f\u5ea6\u9650\u5236 <code>max_velocity</code> <code>NaN</code> \u6700\u5927\u89d2\u901f\u5ea6 <code>min_velocity</code> <code>NaN</code> \u6700\u5c0f\u89d2\u901f\u5ea6 <code>max_acceleration</code> <code>NaN</code> \u6700\u5927\u89d2\u52a0\u901f\u5ea6 <code>min_acceleration</code> <code>NaN</code> \u6700\u5c0f\u89d2\u52a0\u901f\u5ea6 <code>max_jerk</code> <code>NaN</code> \u6700\u5927\u89d2\u52a0\u52a0\u901f\u5ea6 <code>min_jerk</code> <code>NaN</code> \u6700\u5c0f\u89d2\u52a0\u52a0\u901f\u5ea6 <p>\u26a0\ufe0f \u4f4d\u7f6e\u9650\u5236\u88ab\u5ffd\u7565\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Differential_Drive_Controller/#_7","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":"<pre><code>test_diff_drive_controller:\n  ros__parameters:\n    left_wheel_names: [\"left_wheels\"]\n    right_wheel_names: [\"right_wheels\"]\n\n    wheel_separation: 0.40\n    wheels_per_side: 1  # \u5b9e\u9645\u6709 2 \u4e2a\u8f6e\u5b50\uff0c\u4f46\u5171\u7528 1 \u4e2a\u63a7\u5236\u4fe1\u53f7\n    wheel_radius: 0.02\n\n    wheel_separation_multiplier: 1.0\n    left_wheel_radius_multiplier: 1.0\n    right_wheel_radius_multiplier: 1.0\n\n    odom_frame_id: odom\n    base_frame_id: base_link\n    pose_covariance_diagonal: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\n    twist_covariance_diagonal: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]\n\n    position_feedback: false\n    open_loop: true\n    enable_odom_tf: true\n\n    cmd_vel_timeout: 0.5  # \u79d2\n    publish_limited_velocity: true\n    velocity_rolling_window_size: 10\n\n    linear.x.has_velocity_limits: false\n    linear.x.has_acceleration_limits: false\n    linear.x.has_jerk_limits: false\n    linear.x.max_velocity: 0.0\n    linear.x.min_velocity: 0.0\n    linear.x.max_acceleration: 0.0\n    linear.x.max_jerk: 0.0\n    linear.x.min_jerk: 0.0\n\n    angular.z.has_velocity_limits: false\n    angular.z.has_acceleration_limits: false\n    angular.z.has_jerk_limits: false\n    angular.z.max_velocity: 0.0\n    angular.z.min_velocity: 0.0\n    angular.z.max_acceleration: 0.0\n    angular.z.min_acceleration: 0.0\n    angular.z.max_jerk: 0.0\n    angular.z.min_jerk: 0.0\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/","title":"Mecanum Drive Controller\uff08\u9ea6\u514b\u7eb3\u59c6\u8f6e\u9a71\u52a8\u63a7\u5236\u5668\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#mecanum-drive-controller","title":"Mecanum Drive Controller\uff08\u9ea6\u514b\u7eb3\u59c6\u8f6e\u9a71\u52a8\u63a7\u5236\u5668\uff09","text":"<p><code>mecanum_drive_controller</code> \u662f\u4e00\u4e2a\u9762\u5411\u56db\u9ea6\u514b\u7eb3\u59c6\u8f6e\u79fb\u52a8\u673a\u5668\u4eba\u7684\u63a7\u5236\u5668\u5e93\u3002 \u5b83\u5b9e\u73b0\u4e86\u901a\u7528\u7684\u91cc\u7a0b\u8ba1\u8ba1\u7b97\u4e0e\u66f4\u65b0\u903b\u8f91\uff0c\u5e76\u5b9a\u4e49\u4e86\u4e3b\u8981\u7684\u63a5\u53e3\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#_1","title":"\u63a7\u5236\u5668\u6267\u884c\u903b\u8f91","text":"<ul> <li>\u8f93\u5165\uff1a\u5e26\u65f6\u95f4\u6233\u7684 <code>Twist</code> \u6d88\u606f\uff08<code>geometry_msgs/msg/TwistStamped</code>\uff09</li> <li>\u4f7f\u7528\u5206\u91cf\uff1a\u7ebf\u901f\u5ea6 x\u3001y\uff0c\u89d2\u901f\u5ea6 z</li> <li>\u5176\u4ed6\u5206\u91cf\u88ab\u5ffd\u7565</li> <li>\u94fe\u5f0f\u6a21\u5f0f\uff08chained mode\uff09\u4e0b\uff0c\u63d0\u4f9b\u4e09\u4e2a\u53c2\u8003\u63a5\u53e3\uff08reference interfaces\uff09</li> <li>\u5176\u4ed6\u7279\u6027\uff1a</li> <li>\u53d1\u5e03 <code>Odometry</code> \u548c <code>TF</code> \u6d88\u606f</li> <li>\u57fa\u4e8e\u53c2\u6570\u7684\u8f93\u5165\u547d\u4ee4\u8d85\u65f6\u673a\u5236</li> </ul> <p>\ud83d\udca1 \u5173\u4e8e\u91cc\u7a0b\u8ba1\u8ba1\u7b97\u7684\u8bf4\u660e\uff1a \u4e0e <code>DiffDriveController</code> \u4e0d\u540c\uff0c\u672c\u63a7\u5236\u5668\u4e0d\u8fdb\u884c\u901f\u5ea6\u6ee4\u6ce2\uff0c\u800c\u662f\u8fd4\u56de\u539f\u59cb\u503c\uff0c\u5141\u8bb8\u7528\u6237\u6309\u9700\u8fdb\u884c\u540e\u5904\u7406\u3002 \u539f\u56e0\uff1a\u6ee4\u6ce2\u4f1a\u5f15\u5165\u5ef6\u8fdf\uff0c\u4f7f\u5f97\u884c\u4e3a\u66f2\u7ebf\u96be\u4ee5\u89e3\u91ca\u548c\u5bf9\u6bd4\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#_2","title":"\u63a7\u5236\u5668\u63a5\u53e3\u8bf4\u660e","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#references","title":"\u53c2\u8003\u63a5\u53e3\uff08References\uff0c\u6765\u81ea\u524d\u7f6e\u63a7\u5236\u5668\uff09","text":"<p>\u5f53\u63a7\u5236\u5668\u5904\u4e8e \u94fe\u5f0f\u6a21\u5f0f\uff08<code>in_chained_mode == true</code>\uff09\u65f6\uff0c\u5411\u524d\u7f6e\u63a7\u5236\u5668\u66b4\u9732\u4ee5\u4e0b\u53c2\u8003\u63a5\u53e3\uff1a</p> \u63a5\u53e3\u540d\u79f0 \u5355\u4f4d \u8bf4\u660e <code>&lt;controller_name&gt;/linear/x/velocity</code> m/s X \u65b9\u5411\u7ebf\u901f\u5ea6 <code>&lt;controller_name&gt;/linear/y/velocity</code> m/s Y \u65b9\u5411\u7ebf\u901f\u5ea6 <code>&lt;controller_name&gt;/angular/z/velocity</code> rad/s Z \u8f74\u89d2\u901f\u5ea6"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#commands","title":"\u547d\u4ee4\u63a5\u53e3\uff08Commands\uff09","text":"<ul> <li><code>&lt;*_wheel_command_joint_name&gt;/velocity</code>\uff08\u5355\u4f4d\uff1arad/s\uff09   \u5411\u56db\u4e2a\u9ea6\u514b\u7eb3\u59c6\u8f6e\u5173\u8282\u53d1\u9001\u89d2\u901f\u5ea6\u6307\u4ee4\u3002</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#states","title":"\u72b6\u6001\u63a5\u53e3\uff08States\uff09","text":"<ul> <li><code>&lt;joint_name&gt;/velocity</code>\uff08\u5355\u4f4d\uff1arad/s\uff09   \u8bfb\u53d6\u8f6e\u5b50\u89d2\u901f\u5ea6\u3002</li> </ul> <p>\u6ce8\u610f\uff1a <code>joint_name</code> \u4f18\u5148\u4f7f\u7528 <code>*_wheel_state_joint_name</code> \u53c2\u6570\uff08\u82e5\u6307\u5b9a\uff09\uff0c\u5426\u5219\u4f7f\u7528 <code>*_wheel_command_joint_name</code>\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#ros-2","title":"ROS 2 \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#subscribers","title":"\u8ba2\u9605\u8005\uff08Subscribers\uff09","text":"<p>\u4ec5\u5728\u975e\u94fe\u5f0f\u6a21\u5f0f\u4e0b\u4f7f\u7528\uff08<code>in_chained_mode == false</code>\uff09\uff1a</p> <ul> <li><code>&lt;controller_name&gt;/reference</code>\uff08<code>geometry_msgs/msg/TwistStamped</code>\uff09   \u5f53 <code>use_stamped_vel == true</code> \u65f6\u4f7f\u7528\u3002</li> <li><code>&lt;controller_name&gt;/reference_unstamped</code>\uff08<code>geometry_msgs/msg/Twist</code>\uff09   \u5f53 <code>use_stamped_vel == false</code> \u65f6\u4f7f\u7528\u3002</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#publishers","title":"\u53d1\u5e03\u8005\uff08Publishers\uff09","text":"<ul> <li><code>&lt;controller_name&gt;/odometry</code>\uff08<code>nav_msgs/msg/Odometry</code>\uff09   \u673a\u5668\u4eba\u4f4d\u59ff\u4e0e\u901f\u5ea6\u4f30\u8ba1\u3002</li> <li><code>&lt;controller_name&gt;/tf_odometry</code>\uff08<code>tf2_msgs/msg/TFMessage</code>\uff09   \u91cc\u7a0b\u8ba1 TF \u53d8\u6362\u3002</li> <li><code>&lt;controller_name&gt;/controller_state</code>\uff08<code>control_msgs/msg/MecanumDriveControllerState</code>\uff09   \u63a7\u5236\u5668\u5185\u90e8\u72b6\u6001\uff08\u5982\u8f6e\u901f\u3001\u672c\u4f53\u901f\u5ea6\u7b49\uff09\u3002</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u8be5\u63a7\u5236\u5668\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u5b9a\u4e49\u89c1 <code>src/</code> \u76ee\u5f55\u4e0b\u7684\u53c2\u6570\u6587\u4ef6\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#_3","title":"\u8d85\u65f6\u4e0e\u5173\u8282\u547d\u540d","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e \u7ea6\u675f <code>reference_timeout</code> <code>double</code> <code>0.0</code> \u53c2\u8003\u547d\u4ee4\u8d85\u65f6\u65f6\u95f4\uff08\u79d2\uff09\u3002\u8d85\u65f6\u540e\u91cd\u7f6e\u53c2\u8003\u503c\u3002\u8bbe\u4e3a <code>0</code> \u8868\u793a\u6bcf\u6b21\u8fd0\u884c\u540e\u91cd\u7f6e\u3002 \u2014 <code>front_left_wheel_command_joint_name</code> <code>string</code> <code>\"\"</code> \u524d\u5de6\u8f6e\u547d\u4ee4\u5173\u8282\u540d \u975e\u7a7a\uff0c\u53ea\u8bfb <code>front_right_wheel_command_joint_name</code> <code>string</code> <code>\"\"</code> \u524d\u53f3\u8f6e\u547d\u4ee4\u5173\u8282\u540d \u975e\u7a7a\uff0c\u53ea\u8bfb <code>rear_right_wheel_command_joint_name</code> <code>string</code> <code>\"\"</code> \u540e\u53f3\u8f6e\u547d\u4ee4\u5173\u8282\u540d \u975e\u7a7a\uff0c\u53ea\u8bfb <code>rear_left_wheel_command_joint_name</code> <code>string</code> <code>\"\"</code> \u540e\u5de6\u8f6e\u547d\u4ee4\u5173\u8282\u540d \u975e\u7a7a\uff0c\u53ea\u8bfb"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#_4","title":"\u72b6\u6001\u5173\u8282\u540d\uff08\u53ef\u9009\uff09","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>front_left_wheel_state_joint_name</code> <code>\"\"</code> \u524d\u5de6\u8f6e\u72b6\u6001\u5173\u8282\u540d\uff08\u5f53\u72b6\u6001\u4e0e\u547d\u4ee4\u5173\u8282\u4e0d\u540c\u65f6\u4f7f\u7528\uff09 <code>front_right_wheel_state_joint_name</code> <code>\"\"</code> \u524d\u53f3\u8f6e\u72b6\u6001\u5173\u8282\u540d <code>rear_right_wheel_state_joint_name</code> <code>\"\"</code> \u540e\u53f3\u8f6e\u72b6\u6001\u5173\u8282\u540d <code>rear_left_wheel_state_joint_name</code> <code>\"\"</code> \u540e\u5de6\u8f6e\u72b6\u6001\u5173\u8282\u540d <p>\u2705 \u53ea\u8bfb\u53c2\u6570</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#_5","title":"\u8fd0\u52a8\u5b66\u53c2\u6570","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>kinematics.base_frame_offset.x</code> <code>0.0</code> \u673a\u5668\u4eba\u57fa\u5ea7\u5728 <code>base_link</code> \u5750\u6807\u7cfb\u4e2d\u7684 X \u504f\u79fb <code>kinematics.base_frame_offset.y</code> <code>0.0</code> Y \u504f\u79fb <code>kinematics.base_frame_offset.theta</code> <code>0.0</code> \u65cb\u8f6c\u504f\u79fb\uff08\u5f27\u5ea6\uff09 <code>kinematics.wheels_radius</code> <code>0.0</code> \u8f6e\u5b50\u534a\u5f84\uff08\u7c73\uff09 <code>kinematics.sum_of_robot_center_projection_on_X_Y_axis</code> <code>0.0</code> \u9ea6\u514b\u7eb3\u59c6\u8f6e\u9006\u8fd0\u52a8\u5b66\u51e0\u4f55\u53c2\u6570\uff1a<code>lx + ly</code>\uff08\u673a\u5668\u4eba\u4e2d\u5fc3\u5230\u8f6e\u5b50\u5728 X/Y \u8f74\u6295\u5f71\u8ddd\u79bb\u4e4b\u548c\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#_6","title":"\u5176\u4ed6\u53c2\u6570","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>use_stamped_vel</code> <code>true</code> \u662f\u5426\u4f7f\u7528\u5e26\u65f6\u95f4\u6233\u7684\u901f\u5ea6\u6d88\u606f\u8ba1\u7b97\u547d\u4ee4\u65f6\u6548\u6027 <code>base_frame_id</code> <code>\"base_link\"</code> \u673a\u5668\u4eba\u57fa\u5ea7\u5750\u6807\u7cfb\u540d\u79f0 <code>odom_frame_id</code> <code>\"odom\"</code> \u91cc\u7a0b\u8ba1\u5750\u6807\u7cfb\u540d\u79f0 <code>enable_odom_tf</code> <code>true</code> \u662f\u5426\u53d1\u5e03\u91cc\u7a0b\u8ba1 TF <code>twist_covariance_diagonal</code> <code>{0.1, 0.1, 0.1, 0.1, 0.1, 0.1}</code> \u901f\u5ea6\u534f\u65b9\u5dee\u5bf9\u89d2\u7ebf\uff086\u7ef4\uff09 <code>pose_covariance_diagonal</code> <code>{0.1, 0.1, 0.1, 0.1, 0.1, 0.1}</code> \u4f4d\u59ff\u534f\u65b9\u5dee\u5bf9\u89d2\u7ebf\uff086\u7ef4\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#_7","title":"\u793a\u4f8b\u53c2\u6570\u6587\u4ef6","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#_8","title":"\u57fa\u7840\u914d\u7f6e","text":"<pre><code>test_mecanum_drive_controller:\n  ros__parameters:\n    reference_timeout: 0.9\n\n    front_left_wheel_command_joint_name: \"front_left_wheel_joint\"\n    front_right_wheel_command_joint_name: \"front_right_wheel_joint\"\n    rear_right_wheel_command_joint_name: \"back_right_wheel_joint\"\n    rear_left_wheel_command_joint_name: \"back_left_wheel_joint\"\n\n    kinematics:\n      base_frame_offset: { x: 0.0, y: 0.0, theta: 0.0 }\n      wheels_radius: 0.5\n      sum_of_robot_center_projection_on_X_Y_axis: 1.0\n\n    base_frame_id: \"base_link\"\n    odom_frame_id: \"odom\"\n    enable_odom_tf: true\n    twist_covariance_diagonal: [0.0, 7.0, 14.0, 21.0, 28.0, 35.0]\n    pose_covariance_diagonal: [0.0, 6.0, 12.0, 18.0, 24.0, 30.0]\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Mecanum_Drive_Controllers/#_9","title":"\u5e26\u65cb\u8f6c\u504f\u79fb\u7684\u914d\u7f6e","text":"<pre><code>test_mecanum_drive_controller_with_rotation:\n  ros__parameters:\n    reference_timeout: 5.0\n\n    front_left_wheel_command_joint_name: \"front_left_wheel_joint\"\n    front_right_wheel_command_joint_name: \"front_right_wheel_joint\"\n    rear_right_wheel_command_joint_name: \"rear_right_wheel_joint\"\n    rear_left_wheel_command_joint_name: \"rear_left_wheel_joint\"\n\n    kinematics:\n      base_frame_offset: { x: 1.0, y: 2.0, theta: 3.0 }\n      wheels_radius: 0.05\n      sum_of_robot_center_projection_on_X_Y_axis: 0.2925\n\n    base_frame_id: \"base_link\"\n    odom_frame_id: \"odom\"\n    enable_odom_tf: true\n    pose_covariance_diagonal: [0.001, 0.001, 0.001, 0.001, 0.001, 0.001]\n    twist_covariance_diagonal: [0.001, 0.001, 0.001, 0.001, 0.001, 0.001]\n</code></pre> <p>\ud83d\udcc1 \u793a\u4f8b\u6587\u4ef6\u4f4d\u4e8e <code>test/</code> \u76ee\u5f55\u4e0b\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/","title":"Steering Controllers Library\uff08\u8f6c\u5411\u63a7\u5236\u5668\u5e93\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#steering-controllers-library","title":"Steering Controllers Library\uff08\u8f6c\u5411\u63a7\u5236\u5668\u5e93\uff09","text":"<p><code>steering_controllers_library</code> \u662f\u4e00\u4e2a\u9762\u5411\u5e26\u8f6c\u5411\u9a71\u52a8\u7684\u79fb\u52a8\u673a\u5668\u4eba\uff082 \u81ea\u7531\u5ea6\uff09\u7684\u63a7\u5236\u5668\u5e93\uff0c\u9002\u7528\u4e8e\u5177\u6709\u975e\u5b8c\u6574\u7ea6\u675f\uff08non-holonomic constraints\uff09\u7684\u7cfb\u7edf\u3002</p> <ul> <li>\u5b9e\u73b0\u4e86\u901a\u7528\u7684\u91cc\u7a0b\u8ba1\u8ba1\u7b97\u4e0e\u66f4\u65b0\u903b\u8f91</li> <li>\u5b9a\u4e49\u4e86\u6807\u51c6\u63a5\u53e3</li> <li>\u4ec5\u4f7f\u7528\u9006\u8fd0\u52a8\u5b66\uff08inverse kinematics\uff09\uff0c\u4e0d\u5305\u542b\u53cd\u9988\u63a7\u5236\u56de\u8def\uff08\u5982\u8def\u5f84\u8ddf\u8e2a\u7b49\u9ad8\u7ea7\u63a7\u5236\uff09</li> </ul> <p>\ud83d\udcda \u6709\u5173\u79fb\u52a8\u673a\u5668\u4eba\u8fd0\u52a8\u5b66\u57fa\u7840\u53ca\u672c\u6587\u4f7f\u7528\u7684\u672f\u8bed\uff0c\u8bf7\u53c2\u9605\uff1a\u8f6e\u5f0f\u79fb\u52a8\u673a\u5668\u4eba\u8fd0\u52a8\u5b66\uff08Wheeled Mobile Robot Kinematics\uff09</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#_1","title":"\u63a7\u5236\u5668\u6267\u884c\u903b\u8f91","text":"<ul> <li>\u8f93\u5165\uff1a\u901f\u5ea6\u6307\u4ee4\uff08<code>Twist</code> \u6216 <code>TwistStamped</code> \u6d88\u606f\uff09</li> <li>\u4ec5\u4f7f\u7528 \u7ebf\u901f\u5ea6 x \u5206\u91cf \u548c \u89d2\u901f\u5ea6 z \u5206\u91cf</li> <li>\u5176\u4ed6\u5206\u91cf\u88ab\u5ffd\u7565</li> <li>\u94fe\u5f0f\u6a21\u5f0f\uff08chained mode\uff09\u4e0b\uff0c\u63d0\u4f9b\u4e24\u4e2a\u53c2\u8003\u63a5\u53e3\uff1a</li> <li>\u7ebf\u901f\u5ea6\u53c2\u8003</li> <li>\u8f6c\u5411\u89d2\u4f4d\u7f6e\u53c2\u8003</li> <li>\u5176\u4ed6\u7279\u6027\uff1a</li> <li>\u652f\u6301\u524d\u8f6e\u8f6c\u5411\u548c\u540e\u8f6e\u8f6c\u5411\u914d\u7f6e</li> <li>\u53d1\u5e03 <code>Odometry</code> \u548c <code>TF</code> \u6d88\u606f</li> <li>\u57fa\u4e8e\u53c2\u6570\u7684\u8f93\u5165\u547d\u4ee4\u8d85\u65f6\u673a\u5236</li> <li>\u8f6e\u5b50\u547d\u4ee4\u901a\u8fc7\u91cc\u7a0b\u8ba1\u5e93\u8ba1\u7b97\uff0c\u6839\u636e\u5177\u4f53\u8fd0\u52a8\u5b66\u6a21\u578b\u751f\u6210\u7275\u5f15\uff08traction\uff09\u548c\u8f6c\u5411\uff08steering\uff09\u6307\u4ee4</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#_2","title":"\u5f53\u524d\u652f\u6301\u7684\u8fd0\u52a8\u5b66\u6a21\u578b","text":"\u6a21\u578b \u8f6c\u5411\u5173\u8282 \u9a71\u52a8\u5173\u8282 Bicycle\uff08\u81ea\u884c\u8f66\u6a21\u578b\uff09 1 \u4e2a 1 \u4e2a Tricycle\uff08\u4e09\u8f6e\u6a21\u578b\uff09 1 \u4e2a 2 \u4e2a Ackermann\uff08\u963f\u514b\u66fc\u6a21\u578b\uff09 2 \u4e2a 2 \u4e2a"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#_3","title":"\u63a7\u5236\u5668\u63a5\u53e3\u8bf4\u660e","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#references","title":"\u53c2\u8003\u63a5\u53e3\uff08References\uff0c\u6765\u81ea\u524d\u7f6e\u63a7\u5236\u5668\uff09","text":"<p>\u4ec5\u5728\u94fe\u5f0f\u6a21\u5f0f\u4e0b\u4f7f\u7528\uff08<code>in_chained_mode == true</code>\uff09\uff1a</p> \u63a5\u53e3 \u7c7b\u578b \u5355\u4f4d \u8bf4\u660e <code>&lt;controller_name&gt;/linear/velocity</code> <code>double</code> m/s \u672c\u4f53\u7ebf\u901f\u5ea6 <code>&lt;controller_name&gt;/angular/velocity</code> <code>double</code> rad/s \u672c\u4f53\u89d2\u901f\u5ea6 <p>\u8868\u793a\u673a\u5668\u4eba\u672c\u4f53\u901f\u5ea6\uff08body twist\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#command-interfaces","title":"\u547d\u4ee4\u63a5\u53e3\uff08Command Interfaces\uff09","text":"<p>\u6839\u636e <code>front_steering</code> \u53c2\u6570\u51b3\u5b9a\uff1a</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#front_steering-true","title":"\u82e5 <code>front_steering == true</code>\uff08\u524d\u8f6e\u8f6c\u5411\uff09","text":"<ul> <li><code>&lt;front_wheels_names[i]&gt;/position</code>\uff08rad\uff09\uff1a\u524d\u8f6e\u8f6c\u5411\u89d2</li> <li><code>&lt;rear_wheels_names[i]&gt;/velocity</code>\uff08rad/s\uff09\uff1a\u540e\u8f6e\u9a71\u52a8\u901f\u5ea6</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#front_steering-false","title":"\u82e5 <code>front_steering == false</code>\uff08\u540e\u8f6e\u8f6c\u5411\uff09","text":"<ul> <li><code>&lt;front_wheels_names[i]&gt;/velocity</code>\uff08rad/s\uff09\uff1a\u524d\u8f6e\u9a71\u52a8\u901f\u5ea6</li> <li><code>&lt;rear_wheels_names[i]&gt;/position</code>\uff08rad\uff09\uff1a\u540e\u8f6e\u8f6c\u5411\u89d2</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#state-interfaces","title":"\u72b6\u6001\u63a5\u53e3\uff08State Interfaces\uff09","text":"<p>\u53cd\u9988\u7c7b\u578b\u7531 <code>position_feedback</code> \u51b3\u5b9a\uff1a - <code>position_feedback == true</code> \u2192 \u7275\u5f15\u8f6e\u4f7f\u7528 \u4f4d\u7f6e\u53cd\u9988\uff08<code>position</code>\uff09 - <code>position_feedback == false</code> \u2192 \u7275\u5f15\u8f6e\u4f7f\u7528 \u901f\u5ea6\u53cd\u9988\uff08<code>velocity</code>\uff09</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#front_steering-true_1","title":"\u82e5 <code>front_steering == true</code>","text":"<ul> <li>\u524d\u8f6e\uff1a<code>&lt;front_wheels_names[i]&gt;/position</code>\uff08rad\uff09</li> <li>\u540e\u8f6e\uff1a<code>&lt;rear_wheels_names[i]&gt;/&lt;TRACTION_FEEDBACK_TYPE&gt;</code>\uff08rad \u6216 rad/s\uff09</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#front_steering-false_1","title":"\u82e5 <code>front_steering == false</code>","text":"<ul> <li>\u524d\u8f6e\uff1a<code>&lt;front_wheels_names[i]&gt;/&lt;TRACTION_FEEDBACK_TYPE&gt;</code>\uff08rad \u6216 rad/s\uff09</li> <li>\u540e\u8f6e\uff1a<code>&lt;rear_wheels_names[i]&gt;/position</code>\uff08rad\uff09</li> </ul> <p>\u6ce8\uff1a<code>TRACTION_FEEDBACK_TYPE</code> \u7531 <code>position_feedback</code> \u51b3\u5b9a\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#ros-2","title":"ROS 2 \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#subscribers","title":"\u8ba2\u9605\u8005\uff08Subscribers\uff09","text":"<p>\u4ec5\u5728\u975e\u94fe\u5f0f\u6a21\u5f0f\u4e0b\u4f7f\u7528\uff08<code>in_chained_mode == false</code>\uff09\uff1a</p> <ul> <li><code>&lt;controller_name&gt;/reference</code>\uff08<code>geometry_msgs/msg/TwistStamped</code>\uff09   \u5f53 <code>use_stamped_vel == true</code> \u65f6\u4f7f\u7528\u3002</li> <li><code>&lt;controller_name&gt;/reference_unstamped</code>\uff08<code>geometry_msgs/msg/Twist</code>\uff09   \u5f53 <code>use_stamped_vel == false</code> \u65f6\u4f7f\u7528\u3002</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#publishers","title":"\u53d1\u5e03\u8005\uff08Publishers\uff09","text":"<ul> <li><code>&lt;controller_name&gt;/odometry</code>\uff08<code>nav_msgs/msg/Odometry</code>\uff09   \u673a\u5668\u4eba\u4f4d\u59ff\u4e0e\u901f\u5ea6\u4f30\u8ba1\u3002</li> <li><code>&lt;controller_name&gt;/tf_odometry</code>\uff08<code>tf2_msgs/msg/TFMessage</code>\uff09   \u91cc\u7a0b\u8ba1 TF \u53d8\u6362\u3002</li> <li><code>&lt;controller_name&gt;/controller_state</code>\uff08<code>control_msgs/msg/SteeringControllerStatus</code>\uff09   \u63a7\u5236\u5668\u72b6\u6001\uff08\u5982\u5f53\u524d\u8f6c\u5411\u89d2\u3001\u901f\u5ea6\u7b49\uff09\u3002</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#parameters","title":"\u53c2\u6570\uff08Parameters\uff09","text":"<p>\u8be5\u5e93\u4f7f\u7528 <code>generate_parameter_library</code> \u7ba1\u7406\u53c2\u6570\u3002\u5b8c\u6574\u793a\u4f8b\u89c1\u63a7\u5236\u5668\u5305\u7684 <code>test/</code> \u76ee\u5f55\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#_4","title":"\u6838\u5fc3\u53c2\u6570","text":"\u53c2\u6570 \u7c7b\u578b \u9ed8\u8ba4\u503c \u8bf4\u660e <code>reference_timeout</code> <code>double</code> <code>1.0</code> \u53c2\u8003\u547d\u4ee4\u8d85\u65f6\u65f6\u95f4\uff08\u79d2\uff09\uff0c\u8d85\u65f6\u540e\u91cd\u7f6e\u3002\u8bbe\u4e3a <code>0</code> \u8868\u793a\u6bcf\u6b21\u8fd0\u884c\u540e\u91cd\u7f6e\u3002 <code>front_steering</code> <code>bool</code> <code>true</code> \u662f\u5426\u4e3a\u524d\u8f6e\u8f6c\u5411\uff1f\uff08\u53ea\u8bfb\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#_5","title":"\u8f6e\u5b50\u5173\u8282\u540d\u79f0","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u7ea6\u675f \u8bf4\u660e <code>rear_wheels_names</code> \u2014 \u975e\u7a7a\u3001\u65e0\u91cd\u590d\u3001\u957f\u5ea6 &lt; 5\uff08\u53ea\u8bfb\uff09 \u540e\u8f6e\u5173\u8282\u540d <code>front_wheels_names</code> \u2014 \u975e\u7a7a\u3001\u65e0\u91cd\u590d\u3001\u957f\u5ea6 &lt; 5\uff08\u53ea\u8bfb\uff09 \u524d\u8f6e\u5173\u8282\u540d <code>rear_wheels_state_names</code> <code>{}</code> \u957f\u5ea6 &lt; 5\uff0c\u65e0\u91cd\u590d\uff08\u53ea\u8bfb\uff09 \u540e\u8f6e\u72b6\u6001\u8bfb\u53d6\u5173\u8282\u540d\uff08\u53ef\u9009\uff09 <code>front_wheels_state_names</code> <code>{}</code> \u957f\u5ea6 &lt; 5\uff0c\u65e0\u91cd\u590d\uff08\u53ea\u8bfb\uff09 \u524d\u8f6e\u72b6\u6001\u8bfb\u53d6\u5173\u8282\u540d\uff08\u53ef\u9009\uff09 <p>\u82e5\u72b6\u6001\u5173\u8282\u540d\u672a\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u547d\u4ee4\u5173\u8282\u540d\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#_6","title":"\u63a7\u5236\u4e0e\u91cc\u7a0b\u8ba1\u7b97","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>open_loop</code> <code>false</code> \u91cc\u7a0b\u8ba1\u662f\u5426\u4f7f\u7528\u5f00\u73af\u8ba1\u7b97\uff08\u57fa\u4e8e\u547d\u4ee4\u800c\u975e\u53cd\u9988\uff09 <code>reduce_wheel_speed_until_steering_reached</code> <code>false</code> \u5728\u8f6c\u5411\u89d2\u672a\u5230\u4f4d\u524d\u964d\u4f4e\u8f6e\u901f <code>velocity_rolling_window_size</code> <code>10</code> \u8ba1\u7b97\u91cc\u7a0b\u8ba1\u901f\u5ea6\u65f6\u7684\u6ed1\u52a8\u7a97\u53e3\u5927\u5c0f <code>position_feedback</code> <code>false</code> \u662f\u5426\u4f7f\u7528\u4f4d\u7f6e\u53cd\u9988\uff08\u5426\u5219\u4f7f\u7528\u901f\u5ea6\u53cd\u9988\uff09 <code>use_stamped_vel</code> <code>false</code> \u662f\u5426\u4f7f\u7528\u5e26\u65f6\u95f4\u6233\u7684\u901f\u5ea6\u6d88\u606f"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Steering_Controllers_Library/#_7","title":"\u5750\u6807\u7cfb\u4e0e\u534f\u65b9\u5dee","text":"\u53c2\u6570 \u9ed8\u8ba4\u503c \u8bf4\u660e <code>base_frame_id</code> <code>\"base_link\"</code> \u673a\u5668\u4eba\u57fa\u5ea7\u5750\u6807\u7cfb <code>odom_frame_id</code> <code>\"odom\"</code> \u91cc\u7a0b\u8ba1\u5750\u6807\u7cfb <code>enable_odom_tf</code> <code>true</code> \u662f\u5426\u53d1\u5e03 <code>odom</code> \u2192 <code>base_link</code> \u7684 TF <code>twist_covariance_diagonal</code> <code>{0.0, 7.0, 14.0, 21.0, 28.0, 35.0}</code> \u901f\u5ea6\u534f\u65b9\u5dee\u5bf9\u89d2\u7ebf\uff086\u7ef4\uff09 <code>pose_covariance_diagonal</code> <code>{0.0, 7.0, 14.0, 21.0, 28.0, 35.0}</code> \u4f4d\u59ff\u534f\u65b9\u5dee\u5bf9\u89d2\u7ebf\uff086\u7ef4\uff09"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Tricycle_Controller/","title":"Tricycle Controller\uff08\u4e09\u8f6e\u63a7\u5236\u5668\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Tricycle_Controller/#tricycle-controller","title":"Tricycle Controller\uff08\u4e09\u8f6e\u63a7\u5236\u5668\uff09","text":"<p><code>tricycle_controller</code> \u9002\u7528\u4e8e\u5177\u6709\u5355\u4e2a\u53cc\u9a71\u52a8\u8f6e\uff08\u540c\u65f6\u5177\u5907\u7275\u5f15\u4e0e\u8f6c\u5411\u529f\u80fd\uff09\u7684\u79fb\u52a8\u673a\u5668\u4eba\u3002 \u5178\u578b\u793a\u4f8b\uff1a\u524d\u8f6e\u9a71\u52a8\u5e76\u8f6c\u5411\u7684\u4e09\u8f6e\u673a\u5668\u4eba\uff0c\u540e\u8f74\u914d\u5907\u4e24\u4e2a\u88ab\u52a8\u968f\u52a8\u8f6e\u3002</p> <ul> <li>\u8f93\u5165\uff1a\u673a\u5668\u4eba <code>base_link</code> \u7684\u901f\u5ea6\u6307\u4ee4\uff08Twist\uff09</li> <li>\u8f93\u51fa\uff1a\u8f6c\u6362\u4e3a\u7275\u5f15\uff08\u901f\u5ea6\uff09\u548c\u8f6c\u5411\uff08\u89d2\u5ea6\uff09\u6307\u4ee4</li> <li>\u91cc\u7a0b\u8ba1\uff1a\u57fa\u4e8e\u786c\u4ef6\u53cd\u9988\u8ba1\u7b97\u5e76\u53d1\u5e03</li> </ul> <p>\ud83d\udcda \u6709\u5173\u79fb\u52a8\u673a\u5668\u4eba\u8fd0\u52a8\u5b66\u57fa\u7840\u53ca\u672c\u6587\u4f7f\u7528\u7684\u672f\u8bed\uff0c\u8bf7\u53c2\u9605\uff1a\u8f6e\u5f0f\u79fb\u52a8\u673a\u5668\u4eba\u8fd0\u52a8\u5b66\uff08Wheeled Mobile Robot Kinematics\uff09</p>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Tricycle_Controller/#_1","title":"\u5176\u4ed6\u7279\u6027","text":"<ul> <li>\u5b9e\u65f6\u5b89\u5168\u5b9e\u73b0\uff08Realtime-safe implementation\uff09  </li> <li>\u91cc\u7a0b\u8ba1\u53d1\u5e03\uff08Odometry publishing\uff09  </li> <li>\u4efb\u52a1\u7a7a\u95f4\u7684\u901f\u5ea6\u3001\u52a0\u901f\u5ea6\u548c\u52a0\u52a0\u901f\u5ea6\uff08jerk\uff09  </li> <li>\u547d\u4ee4\u8d85\u65f6\u81ea\u52a8\u505c\u6b62\uff08Automatic stop after command timeout\uff09</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Tricycle_Controller/#ros-2","title":"ROS 2 \u63a5\u53e3","text":""},{"location":"ros2_control/use_ros2_controllers/Controllers_for_Wheeled_Mobile_Robots/Tricycle_Controller/#subscribers","title":"\u8ba2\u9605\u8005\uff08Subscribers\uff09","text":"<ul> <li><code>~/cmd_vel</code>\uff08<code>geometry_msgs/msg/TwistStamped</code>\uff09   \u63a7\u5236\u5668\u901f\u5ea6\u6307\u4ee4\u8f93\u5165\u3002   \u63a7\u5236\u5668\u4ec5\u63d0\u53d6\uff1a</li> <li>\u7ebf\u901f\u5ea6\u7684 x \u5206\u91cf\uff08\u524d\u8fdb/\u540e\u9000\uff09</li> <li>\u89d2\u901f\u5ea6\u7684 z \u5206\u91cf\uff08\u504f\u822a\u65cb\u8f6c\uff09   \u5176\u4ed6\u5206\u91cf\u88ab\u5ffd\u7565\u3002</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/","title":"\u8f6e\u5f0f\u79fb\u52a8\u673a\u5668\u4eba\u8fd0\u52a8\u5b66\uff08Wheeled Mobile Robot Kinematics\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#wheeled-mobile-robot-kinematics","title":"\u8f6e\u5f0f\u79fb\u52a8\u673a\u5668\u4eba\u8fd0\u52a8\u5b66\uff08Wheeled Mobile Robot Kinematics\uff09","text":"<p>!!! \u26a0\ufe0f    \u672c\u7bc7\u6587\u6863\u5c1a\u672a\u8fdb\u884c\u6821\u5bf9,\u5982\u9700\u5206\u6790\u4e25\u8c28\u7684\u6570\u5b66\u516c\u5f0f\u5efa\u8bae\u53bb\u5b98\u65b9\u6587\u6863</p> <p>\u672c\u6587\u4ecb\u7ecd\u4e86\u4e0d\u540c\u7c7b\u578b\u8f6e\u5f0f\u79fb\u52a8\u673a\u5668\u4eba\u7684\u8fd0\u52a8\u5b66\u6a21\u578b\u3002\u66f4\u591a\u53c2\u8003\u8d44\u6599\u8bf7\u53c2\u9605\uff1a - Robotics: Modelling, Planning and Control \u2013 Siciliano \u7b49 - Modern Robotics: Mechanics, Planning, and Control \u2013 Kevin M. Lynch &amp; Frank C. Park</p> <p>\u8f6e\u5f0f\u79fb\u52a8\u673a\u5668\u4eba\u53ef\u5206\u4e3a\u4e24\u5927\u7c7b\uff1a</p> <ul> <li>\u5168\u5411\u673a\u5668\u4eba\uff08Omnidirectional robots\uff09\uff1a\u53ef\u5728\u5e73\u9762\u5185\u77ac\u65f6\u5411\u4efb\u610f\u65b9\u5411\u79fb\u52a8\u3002</li> <li>\u975e\u5b8c\u6574\u7ea6\u675f\u673a\u5668\u4eba\uff08Nonholonomic robots\uff09\uff1a\u4e0d\u80fd\u5728\u5e73\u9762\u5185\u77ac\u65f6\u5411\u4efb\u610f\u65b9\u5411\u79fb\u52a8\u3002</li> </ul> <p>\u4f7f\u7528\u8f6e\u5b50\u6267\u884c\u5668\u7f16\u7801\u5668\u5bf9\u8fd0\u52a8\u5b66\u6a21\u578b\u8fdb\u884c\u524d\u5411\u79ef\u5206\uff0c\u79f0\u4e3a \u91cc\u7a0b\u8ba1\u5b9a\u4f4d\uff08odometric localization\uff09\u3001\u88ab\u52a8\u5b9a\u4f4d\uff08passive localization\uff09\u6216 \u822a\u4f4d\u63a8\u7b97\uff08dead reckoning\uff09\u3002\u672c\u6587\u7b80\u79f0\u4e3a \u91cc\u7a0b\u8ba1\uff08odometry\uff09\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#omnidirectional-wheeled-mobile-robots","title":"\u5168\u5411\u8f6e\u5f0f\u79fb\u52a8\u673a\u5668\u4eba\uff08Omnidirectional Wheeled Mobile Robots\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#omnidirectional-drive-robots-using-omni-wheels","title":"\u4f7f\u7528\u5168\u5411\u8f6e\u7684\u5168\u5411\u9a71\u52a8\u673a\u5668\u4eba\uff08Omnidirectional Drive Robots using Omni Wheels\uff09","text":"<p>\u4e0b\u6587\u63cf\u8ff0\u4e86\u4f7f\u7528 3 \u4e2a\u6216\u66f4\u591a\u5168\u5411\u8f6e \u7684\u5168\u5411\u9a71\u52a8\u673a\u5668\u4eba\u7684\u8fd0\u52a8\u5b66\u3002 \u5750\u6807\u7cfb\u9075\u5faa ROS REP 103 \u4e2d\u5b9a\u4e49\u7684\u7ea6\u5b9a\u3002</p> <p></p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_1","title":"\u7b26\u53f7\u8bf4\u660e","text":"<ul> <li>\\(x_b, y_b\\)\uff1a\u673a\u5668\u4eba\u672c\u4f53\u5750\u6807\u7cfb\uff0c\u4f4d\u4e8e\u8f6e\u5b50\u4e0e\u5730\u9762\u7684\u63a5\u89e6\u70b9\u3002</li> <li>\\(x_w, y_w\\)\uff1a\u4e16\u754c\u5750\u6807\u7cfb\u3002</li> <li>\\(v_{b,x}\\)\uff1a\u673a\u5668\u4eba\u5728 x \u8f74\u65b9\u5411\u7684\u7ebf\u901f\u5ea6\u3002</li> <li>\\(v_{b,y}\\)\uff1a\u673a\u5668\u4eba\u5728 y \u8f74\u65b9\u5411\u7684\u7ebf\u901f\u5ea6\u3002</li> <li>\\(\\omega_{b,z}\\)\uff1a\u673a\u5668\u4eba\u7ed5 z \u8f74\u7684\u89d2\u901f\u5ea6\u3002</li> <li>\\(R\\)\uff1a\u673a\u5668\u4eba\u534a\u5f84\uff08\u5373\u673a\u5668\u4eba\u4e2d\u5fc3\u5230\u8f6e\u5b50\u7684\u8ddd\u79bb\uff09\u3002</li> <li>\u7ea2\u8272\u7bad\u5934\uff1a\u8868\u793a\u7b2c \\(i\\) \u4e2a\u8f6e\u5b50\u65cb\u8f6c\u65b9\u5411 \\(\\omega_i\\) \u4e3a\u6b63\u3002</li> <li>\\(\\gamma\\)\uff1a\u7b2c\u4e00\u4e2a\u8f6e\u5b50\u76f8\u5bf9\u4e8e \\(x_b\\) \u8f74\u7684\u89d2\u5ea6\u504f\u79fb\u3002</li> <li>\\(\\theta\\)\uff1a\u76f8\u90bb\u8f6e\u5b50\u95f4\u7684\u5939\u89d2\uff0c\u5176\u4e2d \\(n\\) \u4e3a\u8f6e\u5b50\u6570\u91cf\uff1a</li> </ul> \\[ \\theta = \\frac{2\\pi}{n} \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#inverse-kinematics","title":"\u9006\u8fd0\u52a8\u5b66\uff08Inverse Kinematics\uff09","text":"<p>\u4e3a\u5b9e\u73b0\u671f\u671b\u7684\u672c\u4f53\u901f\u5ea6\uff08body twist\uff09\uff0c\u5404\u8f6e\u6240\u9700\u89d2\u901f\u5ea6\u53ef\u901a\u8fc7\u4ee5\u4e0b\u77e9\u9635\u8ba1\u7b97\uff1a</p> \\[ A = \\begin{bmatrix}   \\sin(\\gamma) &amp; -\\cos(\\gamma) &amp; -R  \\\\   \\sin(\\theta + \\gamma) &amp; -\\cos(\\theta + \\gamma) &amp; -R\\\\   \\sin(2\\theta + \\gamma) &amp; -\\cos(2\\theta + \\gamma) &amp; -R\\\\   \\vdots &amp; \\vdots &amp; \\vdots\\\\   \\sin((n-1)\\theta + \\gamma) &amp; -\\cos((n-1)\\theta + \\gamma) &amp; -R\\\\ \\end{bmatrix} \\] \\[ \\begin{bmatrix}   \\omega_1\\\\   \\omega_2\\\\   \\omega_3\\\\   \\vdots\\\\   \\omega_n \\end{bmatrix} = \\frac{1}{r} A \\begin{bmatrix}   v_{b,x}\\\\   v_{b,y}\\\\   \\omega_{b,z}\\\\ \\end{bmatrix} \\] <p>\u5176\u4e2d\uff1a</p> <ul> <li>\\(\\omega_i\\)\uff1a\u7b2c \\(i\\) \u4e2a\u8f6e\u5b50\u7684\u89d2\u901f\u5ea6</li> <li>\\(r\\)\uff1a\u8f6e\u5b50\u534a\u5f84</li> </ul> <p>\u4efb\u4e00\u8f6e\u5b50 \\(i\\) \u7684\u4ee3\u6570\u5f62\u5f0f\u4e3a\uff1a</p> \\[ \\omega_i = \\frac{\\sin((i-1)\\theta + \\gamma) v_{b,x} - \\cos((i-1)\\theta + \\gamma) v_{b,y} - R \\omega_{b,z}}{r} \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#forward-kinematics","title":"\u6b63\u8fd0\u52a8\u5b66\uff08Forward Kinematics\uff09","text":"<p>\u7531\u8f6e\u901f\u53cd\u63a8\u672c\u4f53\u901f\u5ea6\uff0c\u9700\u4f7f\u7528\u77e9\u9635 \\(A\\) \u7684\u4f2a\u9006\uff1a</p> \\[ \\begin{bmatrix}   v_{b,x}\\\\   v_{b,y}\\\\   \\omega_{b,z}\\\\ \\end{bmatrix} = rA^\\dagger \\begin{bmatrix}   \\omega_1\\\\   \\omega_2\\\\   \\omega_3\\\\   \\vdots\\\\   \\omega_n \\end{bmatrix} \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#swerve-drive-robots","title":"\u8235\u8f6e\u9a71\u52a8\u673a\u5668\u4eba\uff08Swerve Drive Robots\uff09","text":"<p>\u4e0b\u6587\u63cf\u8ff0\u4e86\u4f7f\u7528 \u56db\u4e2a\u72ec\u7acb\u8235\u8f6e\u6a21\u5757\uff08\u6bcf\u4e2a\u6a21\u5757\u542b\u72ec\u7acb\u8f6c\u5411\u4e0e\u9a71\u52a8\u7535\u673a\uff09\u7684\u5168\u5411\u673a\u5668\u4eba\u3002 \u5750\u6807\u7cfb\u9075\u5faa REP-103\u3002</p> <p></p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_2","title":"\u7b26\u53f7\u8bf4\u660e","text":"<ul> <li>\\(x_b, y_b\\)\uff1a\u673a\u5668\u4eba\u672c\u4f53\u5750\u6807\u7cfb\uff0c\u4f4d\u4e8e\u673a\u5668\u4eba\u51e0\u4f55\u4e2d\u5fc3\u3002</li> <li>\\(v_{b,x}, v_{b,y}\\)\uff1a\u672c\u4f53\u7ebf\u901f\u5ea6\u5206\u91cf\u3002</li> <li>\\(\\omega_{b,z}\\)\uff1a\u672c\u4f53\u89d2\u901f\u5ea6\u3002</li> <li>\\(l\\)\uff1a\u8f74\u8ddd\uff08\u524d\u540e\u8f6e\u8ddd\u79bb\uff09</li> <li>\\(w\\)\uff1a\u8f6e\u8ddd\uff08\u5de6\u53f3\u8f6e\u8ddd\u79bb\uff09</li> <li>\u7ea2\u8272\u7bad\u5934\uff1a\u8868\u793a\u7b2c \\(i\\) \u4e2a\u8f6e\u5b50\u7684\u901f\u5ea6\u65b9\u5411 \\(v_i\\)</li> </ul> <p>\u56db\u4e2a\u6a21\u5757\uff08\u901a\u5e38\u4e3a\u524d\u5de6\u3001\u524d\u53f3\u3001\u540e\u5de6\u3001\u540e\u53f3\uff09\u76f8\u5bf9\u4e8e\u4e2d\u5fc3\u7684\u4f4d\u7f6e\u4e3a\uff1a</p> <ul> <li>\u524d\u5de6\uff1a\\((l/2, w/2)\\)</li> <li>\u524d\u53f3\uff1a\\((l/2, -w/2)\\)</li> <li>\u540e\u5de6\uff1a\\((-l/2, w/2)\\)</li> <li>\u540e\u53f3\uff1a\\((-l/2, -w/2)\\)</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_3","title":"\u9006\u8fd0\u52a8\u5b66","text":"<p>\u5bf9\u4f4d\u4e8e \\((l_{i,x}, l_{i,y})\\) \u7684\u6a21\u5757 \\(i\\)\uff0c\u5176\u901f\u5ea6\u5411\u91cf\u4e3a\uff1a</p> \\[ \\begin{bmatrix} v_{i,x} \\\\ v_{i,y} \\end{bmatrix} = \\begin{bmatrix} v_{b,x} - \\omega_{b,z} l_{i,y} \\\\ v_{b,y} + \\omega_{b,z} l_{i,x} \\end{bmatrix} \\] <p>\u8f6e\u901f \\(v_i\\) \u4e0e\u8f6c\u5411\u89d2 \\(\\phi_i\\) \u4e3a\uff1a</p> \\[ v_i = \\sqrt{v_{i,x}^2 + v_{i,y}^2}, \\quad \\phi_i = \\arctan2(v_{i,y}, v_{i,x}) \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_4","title":"\u91cc\u7a0b\u8ba1","text":"<p>\u7531\u8f6e\u901f \\(v_i\\) \u548c\u8f6c\u5411\u89d2 \\(\\phi_i\\) \u8ba1\u7b97\u672c\u4f53\u901f\u5ea6\uff1a</p> \\[ v_{i,x} = v_i \\cos(\\phi_i), \\quad v_{i,y} = v_i \\sin(\\phi_i) \\] <p>\u5e95\u76d8\u901f\u5ea6\u4e3a\uff1a</p> \\[ v_{b,x} = \\frac{1}{4} \\sum_{i=0}^{3} v_{i,x}, \\quad v_{b,y} = \\frac{1}{4} \\sum_{i=0}^{3} v_{i,y} \\] \\[ \\omega_{b,z} = \\frac{\\sum_{i=0}^{3} (v_{i,y} l_{i,x} - v_{i,x} l_{i,y})}{\\sum_{i=0}^{3} (l_{i,x}^2 + l_{i,y}^2)} \\] <p>\u5168\u5c40\u901f\u5ea6\u7528\u4e8e\u66f4\u65b0\u4f4d\u59ff \\((x, y, \\theta)\\)\uff1a</p> \\[ v_{x,\\text{global}} = v_{b,x} \\cos(\\theta) - v_{b,y} \\sin(\\theta) \\] \\[ v_{y,\\text{global}} = v_{b,x} \\sin(\\theta) + v_{b,y} \\cos(\\theta) \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#nonholonomic-wheeled-mobile-robots","title":"\u975e\u5b8c\u6574\u7ea6\u675f\u8f6e\u5f0f\u79fb\u52a8\u673a\u5668\u4eba\uff08Nonholonomic Wheeled Mobile Robots\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#unicycle-model","title":"\u5355\u8f6e\u8f66\u6a21\u578b\uff08Unicycle Model\uff09","text":"<p>\u9075\u5faa ROS \u5750\u6807\u7cfb\u7ea6\u5b9a\uff08\u53f3\u624b\u5b9a\u5219\uff09\uff1a</p> <p></p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_5","title":"\u7b26\u53f7\u8bf4\u660e","text":"<ul> <li>\\(x_b, y_b\\)\uff1a\u672c\u4f53\u5750\u6807\u7cfb\uff08\u4f4d\u4e8e\u8f6e\u5730\u63a5\u89e6\u70b9\uff09</li> <li>\\(x, y\\)\uff1a\u4e16\u754c\u5750\u6807\u7cfb\u4e2d\u7684\u673a\u5668\u4eba\u4f4d\u7f6e</li> <li>\\(\\theta\\)\uff1a\u673a\u5668\u4eba\u822a\u5411\u89d2\uff08\u672c\u4f53 \\(x_b\\) \u8f74\u4e0e\u4e16\u754c \\(x_w\\) \u8f74\u5939\u89d2\uff09</li> </ul> <p>\u671f\u671b\u7684\u672c\u4f53\u901f\u5ea6\u4e3a\uff1a</p> \\[ \\vec{\\nu}_b =  \\begin{bmatrix} \\vec{\\omega}_{b} \\\\ \\vec{v}_{b} \\end{bmatrix} \\] <p>\u5176\u4e2d\uff1a - \\(v_{b,x}\\)\uff1a\u6cbf \\(x_b\\) \u8f74\u7684\u7ebf\u901f\u5ea6 - \\(\\omega_{b,z}\\)\uff1a\u7ed5 \\(z\\) \u8f74\u7684\u89d2\u901f\u5ea6</p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_6","title":"\u6b63\u8fd0\u52a8\u5b66","text":"\\[ \\dot{x} = v_{b,x} \\cos(\\theta), \\quad \\dot{y} = v_{b,x} \\sin(\\theta), \\quad \\dot{\\theta} = \\omega_{b,z} \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#differential-drive-robot","title":"\u5dee\u901f\u9a71\u52a8\u673a\u5668\u4eba\uff08Differential Drive Robot\uff09","text":"<p>\u5f15\u81ea Siciliano \u7b49\uff1a \u201c\u4e25\u683c\u610f\u4e49\u4e0a\u7684\u5355\u8f6e\u8f66\uff08\u5373\u5355\u8f6e\u8f66\u8f86\uff09\u5728\u9759\u6001\u6761\u4ef6\u4e0b\u5b58\u5728\u4e25\u91cd\u5e73\u8861\u95ee\u9898\u3002\u7136\u800c\uff0c\u5b58\u5728\u4e00\u4e9b\u5728\u8fd0\u52a8\u5b66\u4e0a\u7b49\u6548\u4e8e\u5355\u8f6e\u8f66\u4f46\u673a\u68b0\u66f4\u7a33\u5b9a\u7684\u8f66\u8f86\u3002\u201d</p> <p>\u5dee\u901f\u9a71\u52a8\u673a\u5668\u4eba\u6709\u4e24\u4e2a\u72ec\u7acb\u9a71\u52a8\u7684\u8f6e\u5b50\u3002</p> <p></p> <ul> <li>\\(w\\)\uff1a\u8f6e\u8ddd\uff08\u4e24\u8f6e\u95f4\u8ddd\uff09</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_7","title":"\u6b63\u8fd0\u52a8\u5b66","text":"\\[ v_{b,x} = \\frac{v_{\\text{right}} + v_{\\text{left}}}{2}, \\quad \\omega_{b,z} = \\frac{v_{\\text{right}} - v_{\\text{left}}}{w} \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_8","title":"\u9006\u8fd0\u52a8\u5b66","text":"\\[ v_{\\text{left}} = v_{b,x} - \\omega_{b,z} \\frac{w}{2}, \\quad v_{\\text{right}} = v_{b,x} + \\omega_{b,z} \\frac{w}{2} \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_9","title":"\u91cc\u7a0b\u8ba1","text":"<p>\u76f4\u63a5\u4f7f\u7528\u6b63\u8fd0\u52a8\u5b66\u65b9\u7a0b\uff0c\u7531\u7f16\u7801\u5668\u8bfb\u6570\u8ba1\u7b97\u4f4d\u59ff\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#car-like-bicycle-model","title":"\u7c7b\u8f66\u6a21\u578b\uff08\u81ea\u884c\u8f66\u6a21\u578b\uff09\uff08Car-Like / Bicycle Model\uff09","text":"<p>\u524d\u8f6e\u53ef\u8f6c\u5411\u7684\u4e24\u8f6e\u673a\u5668\u4eba\uff08\u53c8\u79f0\u81ea\u884c\u8f66\u6a21\u578b\uff09\uff1a</p> <p></p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_10","title":"\u7b26\u53f7\u8bf4\u660e","text":"<ul> <li>\\(\\phi\\)\uff1a\u524d\u8f6e\u8f6c\u5411\u89d2\uff08\u7ed5 \\(z\\) \u8f74\u4e3a\u6b63\uff09</li> <li>\\(v_{\\text{rear}}, v_{\\text{front}}\\)\uff1a\u540e\u8f6e\u4e0e\u524d\u8f6e\u901f\u5ea6</li> <li>\\(l\\)\uff1a\u8f74\u8ddd</li> </ul> <p>\u5047\u8bbe\u65e0\u6ed1\u79fb\uff0c\u5219\u4e24\u8f6e\u901f\u5ea6\u6ee1\u8db3\uff1a</p> \\[ v_{\\text{rear}} = v_{\\text{front}} \\cos(\\phi) \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_11","title":"\u6b63\u8fd0\u52a8\u5b66","text":"\\[ \\dot{x} = v_{b,x} \\cos(\\theta), \\quad \\dot{y} = v_{b,x} \\sin(\\theta), \\quad \\dot{\\theta} = \\frac{v_{b,x}}{l} \\tan(\\phi) \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_12","title":"\u9006\u8fd0\u52a8\u5b66","text":"<ul> <li>\u8f6c\u5411\u89d2\uff1a\\(\\phi = \\arctan\\left(\\frac{l \\omega_{b,z}}{v_{b,x}} \\right)\\)</li> <li>\u540e\u8f6e\u9a71\u52a8\uff1a\\(v_{\\text{rear}} = v_{b,x}\\)</li> <li>\u524d\u8f6e\u9a71\u52a8\uff1a\\(v_{\\text{front}} = \\frac{v_{b,x}}{\\cos(\\phi)}\\)</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_13","title":"\u91cc\u7a0b\u8ba1","text":"<ul> <li>\u540e\u8f6e\u7f16\u7801\u5668\uff1a</li> </ul> \\[ \\dot{x} = v_{\\text{rear}} \\cos(\\theta),\\quad \\dot{y} = v_{\\text{rear}} \\sin(\\theta),\\quad \\dot{\\theta} = \\frac{v_{\\text{rear}}}{l} \\tan(\\phi) \\] <ul> <li>\u524d\u8f6e\u7f16\u7801\u5668\uff1a</li> </ul> \\[ \\dot{x} = v_{\\text{front}} \\cos(\\theta) \\cos(\\phi),\\quad \\dot{y} = v_{\\text{front}} \\sin(\\theta) \\cos(\\phi),\\quad \\dot{\\theta} = \\frac{v_{\\text{front}}}{l} \\sin(\\phi) \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#double-traction-axle","title":"\u53cc\u9a71\u52a8\u540e\u8f74\uff08Double-Traction Axle\uff09","text":"<p>\u4e09\u8f6e\u7c7b\u8f66\u673a\u5668\u4eba\uff0c\u540e\u8f74\u6709\u4e24\u4e2a\u72ec\u7acb\u9a71\u52a8\u8f6e\uff1a</p> <p></p> <ul> <li>\\(w_r\\)\uff1a\u540e\u8f74\u8f6e\u8ddd</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_14","title":"\u9006\u8fd0\u52a8\u5b66","text":"<p>\u8f6c\u5f2f\u534a\u5f84\uff1a\\(R_b = \\frac{l}{\\tan(\\phi)}\\)</p> <p>\u4e3a\u907f\u514d\u6ed1\u79fb\uff0c\u540e\u8f6e\u901f\u5ea6\u9700\u6ee1\u8db3\uff1a</p> \\[ v_{\\text{rear,left}} = v_{b,x}\\frac{R_b - w_r/2}{R_b}, \\quad v_{\\text{rear,right}} = v_{b,x}\\frac{R_b + w_r/2}{R_b} \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_15","title":"\u91cc\u7a0b\u8ba1","text":"<p>\u7531\u4e24\u4e2a\u7f16\u7801\u5668\u6d4b\u5f97\u7684 \\(v_{b,x}\\) \u662f\u8d85\u5b9a\u7684\u3002\u53d6\u5e73\u5747\u4ee5\u63d0\u9ad8\u9c81\u68d2\u6027\uff1a</p> \\[ v_{b,x} = \\frac{1}{2} \\left(v_{\\text{rear,left}} \\frac{R_b}{R_b - w_r/2} + v_{\\text{rear,right}} \\frac{R_b}{R_b + w_r/2}\\right) \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#ackermann-steering","title":"\u963f\u514b\u66fc\u8f6c\u5411\uff08Ackermann Steering\uff09","text":"<p>\u56db\u8f6e\u673a\u5668\u4eba\uff0c\u524d\u8f74\u6709\u4e24\u4e2a\u72ec\u7acb\u8f6c\u5411\u8f6e\uff1a</p> <p></p> <ul> <li>\\(w_f\\)\uff1a\u524d\u8f74\u8f6e\u8ddd\uff08\u4e24\u4e3b\u9500\u95f4\u8ddd\u79bb\uff09</li> </ul> <p>\u6ce8\u610f</p> <p>\u963f\u514b\u66fc\u8f6c\u5411\u4e5f\u53ef\u901a\u8fc7\u673a\u68b0\u8fde\u6746\u5b9e\u73b0\uff08\u4ec5\u4e00\u4e2a\u8f6c\u5411\u8f93\u5165\uff09\uff0c\u6b64\u65f6\u8fd0\u52a8\u5b66\u4e0e\u7c7b\u8f66\u6a21\u578b\u76f8\u540c\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_16","title":"\u9006\u8fd0\u52a8\u5b66","text":"<p>\u8f6c\u5f2f\u534a\u5f84\uff1a\\(R_b = \\frac{l}{\\tan(\\phi)}\\)</p> <p>\u4e3a\u907f\u514d\u6ed1\u79fb\uff0c\u524d\u8f6e\u8f6c\u5411\u89d2\u9700\u6ee1\u8db3\uff1a</p> \\[ \\phi_{\\text{left}} = \\arctan\\left(\\frac{l}{R_b - w_f/2}\\right), \\quad \\phi_{\\text{right}} = \\arctan\\left(\\frac{l}{R_b + w_f/2}\\right) \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_17","title":"\u91cc\u7a0b\u8ba1","text":"<p>\u7531\u4e24\u4e2a\u8f6c\u5411\u89d2\u6d4b\u5f97\u7684 \\(\\phi\\) \u662f\u8d85\u5b9a\u7684\uff0c\u53d6\u5e73\u5747\uff1a</p> \\[ \\phi = \\frac{1}{2} \\left(  \\arctan\\left(\\frac{l\\tan(\\phi_{\\text{left}})}{l + \\frac{w_f}{2} \\tan(\\phi_{\\text{left}})}\\right) + \\arctan\\left(\\frac{l\\tan(\\phi_{\\text{right}})}{l - \\frac{w_f}{2} \\tan(\\phi_{\\text{right}})}\\right) \\right) \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#ackermann-steering-with-traction","title":"\u5e26\u9a71\u52a8\u7684\u963f\u514b\u66fc\u8f6c\u5411\uff08Ackermann Steering with Traction\uff09","text":"<p>\u524d\u8f6e\u65e2\u53ef\u8f6c\u5411\u53c8\u53ef\u72ec\u7acb\u9a71\u52a8\u7684\u56db\u8f6e\u7c7b\u8f66\u673a\u5668\u4eba\uff1a</p> <p></p> <ul> <li>\\(d_{kp}\\)\uff1a\u4e3b\u9500\u5230\u524d\u8f6e\u63a5\u5730\u63a5\u89e6\u70b9\u7684\u8ddd\u79bb</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_18","title":"\u9006\u8fd0\u52a8\u5b66","text":"<p>\u4e3a\u907f\u514d\u6ed1\u79fb\uff0c\u524d\u8f6e\u901f\u5ea6\u9700\u6ee1\u8db3\uff1a</p> \\[ \\frac{v_{\\text{front,left}}}{R_{\\text{left}}} = \\frac{v_{\\text{front,right}}}{R_{\\text{right}}} = \\frac{v_{b,x}}{R_b} \\] <p>\u5176\u4e2d\uff1a</p> \\[ R_b = \\frac{l}{\\tan(\\phi)},\\quad R_{\\text{left}} = \\frac{l - d_{kp}\\sin(\\phi_{\\text{left}})}{\\sin(\\phi_{\\text{left}})},\\quad R_{\\text{right}} = \\frac{l + d_{kp}\\sin(\\phi_{\\text{right}})}{\\sin(\\phi_{\\text{right}})} \\] <p>\u89e3\u5f97\uff1a</p> \\[ v_{\\text{front,left}} = \\frac{v_{b,x}(l - d_{kp}\\sin(\\phi_{\\text{left}}))}{R_b \\sin(\\phi_{\\text{left}})},\\quad v_{\\text{front,right}} = \\frac{v_{b,x}(l + d_{kp}\\sin(\\phi_{\\text{right}}))}{R_b \\sin(\\phi_{\\text{right}})} \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Wheeled_Mobile_Robot_Kinematics/#_19","title":"\u91cc\u7a0b\u8ba1","text":"<p>\u540c\u6837\u53d6\u5e73\u5747\u63d0\u9ad8\u9c81\u68d2\u6027\uff1a</p> \\[ v_{b,x} = \\frac{1}{2} \\left(  v_{\\text{front,left}} \\frac{R_b \\sin(\\phi_{\\text{left}})}{l - d_{kp}\\sin(\\phi_{\\text{left}})} + v_{\\text{front,right}} \\frac{R_b \\sin(\\phi_{\\text{right}})}{l + d_{kp}\\sin(\\phi_{\\text{right}})} \\right) \\]"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/","title":"\u7f16\u5199\u4e00\u4e2a\u65b0\u7684\u63a7\u5236\u5668\uff08Writing a New Controller\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#writing-a-new-controller","title":"\u7f16\u5199\u4e00\u4e2a\u65b0\u7684\u63a7\u5236\u5668\uff08Writing a New Controller\uff09","text":"<p>\u5728 <code>ros2_control</code> \u6846\u67b6\u4e2d\uff0c\u63a7\u5236\u5668\u662f\u4ee5\u52a8\u6001\u5e93\u5f62\u5f0f\u5b9e\u73b0\u7684\u63d2\u4ef6\uff0c\u7531 Controller Manager \u901a\u8fc7 <code>pluginlib</code> \u63a5\u53e3\u52a8\u6001\u52a0\u8f7d\u3002 \u672c\u6587\u63d0\u4f9b\u4e00\u4efd\u5206\u6b65\u6307\u5357\uff0c\u5e2e\u52a9\u4f60\u521b\u5efa\u63a7\u5236\u5668\u7684\u6e90\u4ee3\u7801\u3001\u57fa\u7840\u6d4b\u8bd5\u548c\u7f16\u8bd1\u89c4\u5219\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#1-preparing-package","title":"1. \u51c6\u5907\u5305\uff08Preparing package\uff09","text":"<p>\u5982\u679c\u5c1a\u672a\u521b\u5efa\u63a7\u5236\u5668\u6240\u5728\u7684 ROS 2 \u5305\uff0c\u8bf7\u5148\u521b\u5efa\uff1a</p> <pre><code>ros2 pkg create &lt;controller_name_package&gt; --build-type ament_cmake\n</code></pre> <p>\u4f7f\u7528 <code>--help</code> \u67e5\u770b\u66f4\u591a\u9009\u9879\u3002 \u6b64\u547d\u4ee4\u652f\u6301\u751f\u6210\u5e93\u6a21\u677f\u548c CMake \u89c4\u5219\uff0c\u53ef\u7b80\u5316\u540e\u7eed\u6b65\u9aa4\u3002</p> <p>\u2705 \u6ce8\u610f\uff1a\u5305\u7684\u6784\u5efa\u7c7b\u578b\u5fc5\u987b\u4e3a <code>ament_cmake</code>\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#2-preparing-source-files","title":"2. \u51c6\u5907\u6e90\u6587\u4ef6\u76ee\u5f55\u7ed3\u6784\uff08Preparing source files\uff09","text":"<p>\u521b\u5efa\u5305\u540e\uff0c\u786e\u4fdd\u5305\u542b\u4ee5\u4e0b\u6587\u4ef6\u548c\u76ee\u5f55\uff1a</p> <ul> <li><code>CMakeLists.txt</code></li> <li><code>package.xml</code></li> <li><code>include/&lt;PACKAGE_NAME&gt;/</code>\uff08\u82e5\u4e0d\u5b58\u5728\u5219\u624b\u52a8\u521b\u5efa\uff09</li> <li><code>src/</code>\uff08\u82e5\u4e0d\u5b58\u5728\u5219\u624b\u52a8\u521b\u5efa\uff09</li> </ul> <p>\u5728\u5bf9\u5e94\u76ee\u5f55\u4e2d\u521b\u5efa\uff1a - \u5934\u6587\u4ef6\uff1a<code>include/&lt;PACKAGE_NAME&gt;/&lt;controller_name&gt;.hpp</code> - \u6e90\u6587\u4ef6\uff1a<code>src/&lt;controller_name&gt;.cpp</code></p> <p>\uff08\u53ef\u9009\uff09 \u6dfb\u52a0 <code>visibility_control.h</code>\uff08\u7528\u4e8e Windows \u5e73\u53f0\u7684\u7b26\u53f7\u5bfc\u51fa\u63a7\u5236\uff09\uff1a \u53ef\u4ece <code>ros2_controllers</code> \u4e2d\u4efb\u4e00\u63a7\u5236\u5668\u5305\u590d\u5236\uff0c\u5e76\u5c06\u5b8f\u524d\u7f00\u66ff\u6362\u4e3a\u4f60\u7684 <code>&lt;PACKAGE_NAME&gt;</code>\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#3-hpp","title":"3. \u7f16\u5199\u5934\u6587\u4ef6\uff08<code>.hpp</code>\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_1","title":"\u57fa\u672c\u8981\u6c42","text":"<ul> <li>\u4f7f\u7528 \u5934\u6587\u4ef6\u4fdd\u62a4\uff08header guards\uff09\uff0cROS 2 \u98ce\u683c\u63a8\u8350\u4f7f\u7528 <code>#ifndef</code> / <code>#define</code></li> <li>\u5305\u542b\u5fc5\u8981\u5934\u6587\u4ef6</li> <li>\u4f7f\u7528\u552f\u4e00\u547d\u540d\u7a7a\u95f4\uff08\u901a\u5e38\u4e3a\u5305\u540d\uff0c\u91c7\u7528 snake_case\uff09</li> <li>\u7ee7\u627f <code>controller_interface::ControllerInterface</code></li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_2","title":"\u793a\u4f8b\u6a21\u677f","text":"<pre><code>#ifndef &lt;CONTROLLER_NAME&gt;_HPP_\n#define &lt;CONTROLLER_NAME&gt;_HPP_\n\n#include \"controller_interface/controller_interface.hpp\"\n// #include \"&lt;PACKAGE_NAME&gt;/visibility_control.h\"  // \u53ef\u9009\n\nnamespace &lt;controller_name&gt;\n{\n\nclass ControllerName : public controller_interface::ControllerInterface\n{\npublic:\n  ControllerName() = default;\n\n  // \u5fc5\u987b\u91cd\u5199\u7684\u751f\u547d\u5468\u671f\u4e0e\u63a5\u53e3\u65b9\u6cd5\n  controller_interface::CallbackReturn on_init() override;\n  controller_interface::CallbackReturn on_configure(const rclcpp_lifecycle::State &amp; previous_state) override;\n  controller_interface::CallbackReturn on_activate(const rclcpp_lifecycle::State &amp; previous_state) override;\n  controller_interface::CallbackReturn on_deactivate(const rclcpp_lifecycle::State &amp; previous_state) override;\n  controller_interface::return_type update(const rclcpp::Time &amp; time, const rclcpp::Duration &amp; period) override;\n\n  controller_interface::InterfaceConfiguration command_interface_configuration() const override;\n  controller_interface::InterfaceConfiguration state_interface_configuration() const override;\n\nprotected:\n  // \uff08\u53ef\u9009\uff09\u7528\u4e8e\u5b58\u50a8\u4ece\u53c2\u6570\u8bfb\u53d6\u7684\u5173\u8282\u540d\u548c\u63a5\u53e3\u540d\n  std::vector&lt;std::string&gt; joint_names_;\n  std::vector&lt;std::string&gt; command_interface_types_;\n  std::vector&lt;std::string&gt; state_interface_types_;\n};\n\n}  // namespace &lt;controller_name&gt;\n\n#endif  // &lt;CONTROLLER_NAME&gt;_HPP_\n</code></pre> <p>\ud83d\udd0d \u63d0\u793a\uff1a\u5177\u4f53\u65b9\u6cd5\u7b7e\u540d\u8bf7\u53c2\u8003 <code>controller_interface/controller_interface.hpp</code> \u6216 <code>ros2_controllers</code> \u4e2d\u7684\u73b0\u6709\u63a7\u5236\u5668\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#4-cpp","title":"4. \u7f16\u5199\u6e90\u6587\u4ef6\uff08<code>.cpp</code>\uff09","text":""},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_3","title":"\u5b9e\u73b0\u8981\u70b9","text":"<ol> <li>\u5305\u542b\u5934\u6587\u4ef6\u5e76\u4f7f\u7528\u547d\u540d\u7a7a\u95f4\u3002</li> <li>\uff08\u53ef\u9009\uff09\u5b9e\u73b0\u6784\u9020\u51fd\u6570\uff08\u4e5f\u53ef\u5728 <code>on_init</code> \u4e2d\u521d\u59cb\u5316\u6210\u5458\u53d8\u91cf\uff09\u3002</li> <li><code>on_init()</code>\uff1a</li> <li>\u901a\u5e38\u5148\u8c03\u7528\u7236\u7c7b <code>on_init()</code></li> <li>\u58f0\u660e\u63a7\u5236\u5668\u6240\u9700\u7684\u8282\u70b9\u53c2\u6570</li> <li>\u521d\u59cb\u5316\u53d8\u91cf\u3001\u9884\u5206\u914d\u5185\u5b58\uff08\u975e\u5b9e\u65f6\u90e8\u5206\uff09</li> <li> <p>\u8fd4\u56de <code>CallbackReturn::SUCCESS</code> \u6216 <code>ERROR</code></p> </li> <li> <p><code>on_configure()</code>\uff1a</p> </li> <li>\u8bfb\u53d6\u53c2\u6570\uff08\u5982\u5173\u8282\u5217\u8868\u3001\u63a5\u53e3\u7c7b\u578b\uff09</li> <li>\u9a8c\u8bc1\u914d\u7f6e\u5408\u6cd5\u6027</li> <li> <p>\u51c6\u5907\u8fd0\u884c\u6240\u9700\u8d44\u6e90\uff08\u975e\u5b9e\u65f6\uff09</p> </li> <li> <p>\u63a5\u53e3\u914d\u7f6e\u65b9\u6cd5\uff1a</p> </li> <li><code>command_interface_configuration()</code></li> <li><code>state_interface_configuration()</code></li> <li>\u8fd4\u56de\u4ee5\u4e0b\u4e4b\u4e00\uff1a<ul> <li><code>InterfaceConfiguration::NONE</code></li> <li><code>InterfaceConfiguration::ALL</code></li> <li><code>InterfaceConfiguration::INDIVIDUAL</code> + \u63a5\u53e3\u540d\u5217\u8868</li> </ul> </li> <li> <p>\u63a5\u53e3\u5168\u540d\u683c\u5f0f\uff1a<code>&lt;joint_name&gt;/&lt;interface_type&gt;</code>\uff08\u5982 <code>\"joint1/position\"</code>\uff09</p> </li> <li> <p><code>on_activate()</code>\uff1a</p> </li> <li>\u9a8c\u8bc1\u5e76\u6392\u5e8f\u63a5\u53e3</li> <li>\u8bbe\u7f6e\u521d\u59cb\u503c</li> <li> <p>\u5fc5\u987b\u5b9e\u65f6\u5b89\u5168\uff1a\u907f\u514d\u52a8\u6001\u5185\u5b58\u5206\u914d\uff0c\u5c3d\u53ef\u80fd\u7b80\u77ed</p> </li> <li> <p><code>on_deactivate()</code>\uff1a</p> </li> <li>\u6267\u884c\u4e0e <code>on_activate</code> \u76f8\u53cd\u7684\u64cd\u4f5c\uff08\u5982\u6e05\u96f6\u547d\u4ee4\uff09</li> <li> <p>\u901a\u5e38\u4e3a\u7a7a\uff0c\u4f46\u4e5f\u9700\u5b9e\u65f6\u5b89\u5168</p> </li> <li> <p><code>update()</code>\uff1a</p> </li> <li>\u4e3b\u63a7\u5236\u903b\u8f91\u5165\u53e3</li> <li>\u4ece <code>state_interface</code> \u83b7\u53d6\u6700\u65b0\u786c\u4ef6\u72b6\u6001</li> <li>\u5411 <code>command_interface</code> \u5199\u5165\u65b0\u547d\u4ee4</li> <li>\u4e25\u683c\u9075\u5b88\u5b9e\u65f6\u7ea6\u675f</li> </ol>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_4","title":"\u26a0\ufe0f \u91cd\u8981\uff1a\u5bfc\u51fa\u63d2\u4ef6\u7c7b","text":"<p>\u5728\u6587\u4ef6\u672b\u5c3e\uff08\u547d\u540d\u7a7a\u95f4\u5173\u95ed\u540e\uff09\u6dfb\u52a0\uff1a</p> <pre><code>#include \"pluginlib/class_list_macros.hpp\"\n\nPLUGINLIB_EXPORT_CLASS(\n  &lt;controller_name&gt;::ControllerName,\n  controller_interface::ControllerInterface\n)\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#5-pluginlib","title":"5. \u7f16\u5199 pluginlib \u63d2\u4ef6\u63cf\u8ff0\u6587\u4ef6","text":"<p>\u5728\u5305\u6839\u76ee\u5f55\u521b\u5efa <code>&lt;controller_name&gt;.xml</code>\uff1a</p> <pre><code>&lt;library path=\"&lt;controller_name_package&gt;\"&gt;\n  &lt;class\n    name=\"&lt;controller_name_package&gt;/ControllerName\"\n    type=\"&lt;controller_name&gt;::ControllerName\"\n    base_class_type=\"controller_interface::ControllerInterface\"&gt;\n    &lt;description&gt;Brief description of your controller&lt;/description&gt;\n  &lt;/class&gt;\n&lt;/library&gt;\n</code></pre> <ul> <li><code>name</code>\uff1a\u63a7\u5236\u5668\u7c7b\u578b\u6807\u8bc6\uff08Controller Manager \u901a\u8fc7\u6b64\u540d\u79f0\u52a0\u8f7d\uff09</li> <li><code>type</code> \u548c <code>base_class_type</code>\uff1a\u5fc5\u987b\u4e0e <code>.cpp</code> \u4e2d <code>PLUGINLIB_EXPORT_CLASS</code> \u4e00\u81f4</li> </ul>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#6-load-test","title":"6. \u7f16\u5199\u52a0\u8f7d\u6d4b\u8bd5\uff08Load Test\uff09","text":"<p>\u521b\u5efa <code>test/test_load_&lt;controller_name&gt;.cpp</code>\uff1a \u53ef\u76f4\u63a5\u590d\u5236 <code>ros2_controllers</code> \u4e2d\u4efb\u4e00\u63a7\u5236\u5668\u7684\u52a0\u8f7d\u6d4b\u8bd5\u6587\u4ef6\uff0c\u5e76\u4fee\u6539\u6700\u540e\u4e00\u884c\u4e3a\uff1a</p> <pre><code>EXPECT_NO_THROW(\n  ctr_loader_-&gt;createSharedInstance(\"&lt;controller_name_package&gt;/ControllerName\")\n);\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#7-cmakeliststxt","title":"7. \u914d\u7f6e <code>CMakeLists.txt</code>","text":""},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_5","title":"\u6dfb\u52a0\u4f9d\u8d56","text":"<pre><code>find_package(controller_interface REQUIRED)\nfind_package(hardware_interface REQUIRED)\nfind_package(pluginlib REQUIRED)\nfind_package(rclcpp REQUIRED)\nfind_package(rclcpp_lifecycle REQUIRED)\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_6","title":"\u7f16\u8bd1\u63a7\u5236\u5668\u5e93","text":"<pre><code>add_library(${PROJECT_NAME} SHARED\n  src/&lt;controller_name&gt;.cpp\n)\n\ntarget_include_directories(${PROJECT_NAME} PUBLIC\n  include\n)\n\nament_target_dependencies(${PROJECT_NAME}\n  controller_interface\n  hardware_interface\n  pluginlib\n  rclcpp\n  rclcpp_lifecycle\n)\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#pluginlib","title":"\u5bfc\u51fa pluginlib \u63cf\u8ff0","text":"<pre><code>pluginlib_export_plugin_description_file(controller_interface &lt;controller_name&gt;.xml)\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_7","title":"\u5b89\u88c5\u89c4\u5219","text":"<pre><code>install(TARGETS ${PROJECT_NAME}\n  ARCHIVE DESTINATION lib\n  LIBRARY DESTINATION lib\n  RUNTIME DESTINATION bin\n)\n\ninstall(DIRECTORY include/\n  DESTINATION include\n)\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_8","title":"\u6d4b\u8bd5\u7f16\u8bd1\uff08\u53ef\u9009\u4f46\u63a8\u8350\uff09","text":"<pre><code>if(BUILD_TESTING)\n  find_package(ament_cmake_gmock REQUIRED)\n  find_package(controller_manager REQUIRED)\n  find_package(ros2_control_test_assets REQUIRED)\n\n  ament_add_gmock(test_load_&lt;controller_name&gt;\n    test/test_load_&lt;controller_name&gt;.cpp\n  )\n  target_include_directories(test_load_&lt;controller_name&gt; PUBLIC include)\n  ament_target_dependencies(test_load_&lt;controller_name&gt;\n    controller_interface\n    controller_manager\n    hardware_interface\n    ros2_control_test_assets\n  )\nendif()\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_9","title":"\uff08\u53ef\u9009\uff09\u5bfc\u51fa\u5e93\u4f9b\u5176\u4ed6\u5305\u4f7f\u7528","text":"<pre><code>ament_export_libraries(${PROJECT_NAME})\n</code></pre> <p>\u786e\u4fdd\u6700\u540e\u8c03\u7528\uff1a </p><pre><code>ament_package()\n</code></pre><p></p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#8-packagexml","title":"8. \u66f4\u65b0 <code>package.xml</code>","text":""},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_10","title":"\u8fd0\u884c\u4f9d\u8d56","text":"<pre><code>&lt;depend&gt;controller_interface&lt;/depend&gt;\n&lt;depend&gt;hardware_interface&lt;/depend&gt;\n&lt;depend&gt;pluginlib&lt;/depend&gt;\n&lt;depend&gt;rclcpp&lt;/depend&gt;\n&lt;depend&gt;rclcpp_lifecycle&lt;/depend&gt;\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_11","title":"\u6d4b\u8bd5\u4f9d\u8d56","text":"<pre><code>&lt;test_depend&gt;ament_cmake_gmock&lt;/test_depend&gt;\n&lt;test_depend&gt;controller_manager&lt;/test_depend&gt;\n&lt;test_depend&gt;hardware_interface&lt;/test_depend&gt;\n&lt;test_depend&gt;ros2_control_test_assets&lt;/test_depend&gt;\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#9","title":"9. \u7f16\u8bd1\u4e0e\u6d4b\u8bd5","text":""},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_12","title":"\u7f16\u8bd1","text":"<pre><code># \u5728\u5de5\u4f5c\u7a7a\u95f4\u6839\u76ee\u5f55\u6267\u884c\ncolcon build --packages-select &lt;controller_name_package&gt;\n</code></pre>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_13","title":"\u8fd0\u884c\u52a0\u8f7d\u6d4b\u8bd5","text":"<pre><code>source install/setup.bash\ncolcon test --packages-select &lt;controller_name_package&gt;\n</code></pre> <p>\u82e5\u6d4b\u8bd5\u901a\u8fc7\uff0c\u8bf4\u660e Controller Manager \u80fd\u901a\u8fc7 <code>pluginlib</code> \u6b63\u786e\u53d1\u73b0\u5e76\u52a0\u8f7d\u4f60\u7684\u63a7\u5236\u5668\u3002</p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_14","title":"\u5b8c\u6210\uff01","text":"<p>\ud83c\udf89 \u73b0\u5728\u4f60\u5df2\u6210\u529f\u521b\u5efa\u4e86\u4e00\u4e2a\u53ef\u88ab <code>ros2_control</code> \u6846\u67b6\u52a0\u8f7d\u548c\u4f7f\u7528\u7684\u63a7\u5236\u5668\uff01 \u7ee7\u7eed\u5b9e\u73b0\u4f60\u7684\u63a7\u5236\u7b97\u6cd5\u5427\uff01</p>"},{"location":"ros2_control/use_ros2_controllers/Guidelines_and_Best_Practices/Writing_a_new_controller/#_15","title":"\u9644\uff1a\u6709\u7528\u5916\u90e8\u53c2\u8003","text":"<ul> <li>\u63a7\u5236\u5668\u811a\u624b\u67b6\u751f\u6210\u811a\u672c</li> </ul> <p>\u26a0\ufe0f \u6ce8\u610f\uff1a\u8be5\u811a\u672c\u76ee\u524d\u4ec5\u63a8\u8350\u5728 ROS 2 Humble \u7248\u672c\u4f7f\u7528\uff0c\u4e0e Jazzy \u53ca\u66f4\u9ad8\u7248\u672c\u7684 API \u4e0d\u517c\u5bb9\u3002</p>"}]}